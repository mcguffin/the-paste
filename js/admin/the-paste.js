!function r(o,s,l){function p(t,e){if(!s[t]){if(!o[t]){var a="function"==typeof require&&require;if(!e&&a)return a(t,!0);if(d)return d(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var n=s[t]={exports:{}};o[t][0].call(n.exports,function(e){return p(o[t][1][e]||e)},n,n.exports,r,o,s,l)}return s[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)p(l[e]);return p}({1:[function(e,t,a){(function(){var l,i,n,s,a;function o(e,t){var y;this._container=e,this._target=t,this._container=l(this._container),this._target=l(this._target).addClass("pastable"),this._container.on("paste",(y=this,function(e){var t,a,i,n,r,o,s,l,p,d,u,h,c,g,m,f,b,w,v,_;if(y.originalEvent=null!==e.originalEvent?e.originalEvent:null,y._paste_event_fired=!0,null!=(null!=(g=e.originalEvent)?g.clipboardData:void 0))if((a=e.originalEvent.clipboardData).items){for(h=null,y.originalEvent.pastedTypes=[],o=0,p=(m=a.items).length;o<p;o++)(r=m[o]).type.match(/^text\/(plain|rtf|html)/)&&y.originalEvent.pastedTypes.push(r.type);for(t=s=0,d=(f=a.items).length;s<d;t=++s){if((r=f[t]).type.match(/^image\//)){(c=new FileReader).onload=function(e){return y._handleImage(e.target.result,y.originalEvent,h)};try{c.readAsDataURL(r.getAsFile())}catch(e){}e.preventDefault();break}"text/plain"===r.type&&(0===t&&1<a.items.length&&a.items[1].type.match(/^image\//)&&(v=!0,n=a.items[1].type),r.getAsString(function(e){return v?(h=e,y._target.trigger("pasteText",{text:e,isFilename:!0,fileType:n,originalEvent:y.originalEvent})):y._target.trigger("pasteText",{text:e,originalEvent:y.originalEvent})})),"text/rtf"===r.type&&r.getAsString(function(e){return y._target.trigger("pasteTextRich",{text:e,originalEvent:y.originalEvent})}),"text/html"===r.type&&r.getAsString(function(e){return y._target.trigger("pasteTextHtml",{text:e,originalEvent:y.originalEvent})})}}else-1!==Array.prototype.indexOf.call(a.types,"text/plain")&&(_=a.getData("Text"),setTimeout(function(){return y._target.trigger("pasteText",{text:_,originalEvent:y.originalEvent})},1)),y._checkImagesInContainer(function(e){return y._handleImage(e,y.originalEvent)});if(a=window.clipboardData)if(null!=(b=_=a.getData("Text"))?b.length:void 0)setTimeout(function(){return y._target.trigger("pasteText",{text:_,originalEvent:y.originalEvent}),y._target.trigger("_pasteCheckContainerDone")},1);else{for(l=0,u=(w=a.files).length;l<u;l++)i=w[l],y._handleImage(URL.createObjectURL(i),y.originalEvent);y._checkImagesInContainer(function(e){return y._handleImage(e,y.originalEvent)})}return null}))}(l=window.jQuery).paste=function(e){return"undefined"!=typeof console&&null!==console&&console.log("DEPRECATED: This method is deprecated. Please use $.fn.pastableNonInputable() instead."),i.mountNonInputable(e)._container},l.fn.pastableNonInputable=function(){var e,t,a;for(t=0,a=this.length;t<a;t++)(e=this[t])._pastable||l(e).is("textarea, input:text, [contenteditable]")||(i.mountNonInputable(e),e._pastable=!0);return this},l.fn.pastableTextarea=function(){var e,t,a;for(t=0,a=this.length;t<a;t++)(e=this[t])._pastable||l(e).is(":not(textarea, input:text)")||(i.mountTextarea(e),e._pastable=!0);return this},l.fn.pastableContenteditable=function(){var e,t,a;for(t=0,a=this.length;t<a;t++)(e=this[t])._pastable||l(e).is(":not([contenteditable])")||(i.mountContenteditable(e),e._pastable=!0);return this},s=function(e,t){var a,i,n,r,o,s,l,p,d,u,h;if(null==t&&(t=512),!(p=e.match(/^data\:([^\;]+)\;base64\,(.+)$/)))return null;for(p=(u=p)[0],s=u[1],a=u[2],r=atob(a),n=[],d=0;d<r.length;){for(h=r.slice(d,d+t),o=new Array(h.length),l=0;l<h.length;)o[l]=h.charCodeAt(l),l++;i=new Uint8Array(o),n.push(i),d+=t}return new Blob(n,{type:s})},n=function(){return l(document.createElement("div")).attr("contenteditable",!0).attr("aria-hidden",!0).attr("tabindex",-1).css({width:1,height:1,position:"fixed",left:-100,overflow:"hidden",opacity:1e-17})},a=function(e,t){var a,i,n,r,o,s;return a=i=n=o=r=void 0,"area"===(s=e.nodeName.toLowerCase())?(o=(r=e.parentNode).name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(0<(n=l("img[usemap='#"+o+"']")).length&&n.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(s)?(i=!e.disabled)&&(a=l(e).closest("fieldset")[0])&&(i=!a.disabled):i="a"===s&&e.href||t,(i=i||l(e).is("[contenteditable]"))&&l(e).is(":visible"))},o.prototype._target=null,o.prototype._container=null,o.mountNonInputable=function(e){var t;return t=new o(n().appendTo(e),e),l(e).on("click",function(e){if(!a(e.target,!1)&&!window.getSelection().toString())return t._container.focus()}),t._container.on("focus",function(){return l(e).addClass("pastable-focus")}),t._container.on("blur",function(){return l(e).removeClass("pastable-focus")})},o.mountTextarea=function(r){var a,i,e,t;return("undefined"!=typeof DataTransfer&&null!==DataTransfer?DataTransfer.prototype:void 0)&&(null!=(e=Object.getOwnPropertyDescriptor)&&null!=(t=e.call(Object,DataTransfer.prototype,"items"))?t.get:void 0)?this.mountContenteditable(r):(i=new o(n().insertBefore(r),r),a=!1,l(r).on("keyup",function(e){var t;return 17!==(t=e.keyCode)&&224!==t||(a=!1),null}),l(r).on("keydown",function(e){var t;return 17!==(t=e.keyCode)&&224!==t||(a=!0),null!=e.ctrlKey&&null!=e.metaKey&&(a=e.ctrlKey||e.metaKey),a&&86===e.keyCode&&(i._textarea_focus_stolen=!0,i._container.focus(),i._paste_event_fired=!1,setTimeout(function(){if(!i._paste_event_fired)return l(r).focus(),i._textarea_focus_stolen=!1},1)),null}),l(r).on("paste",function(){}),l(r).on("focus",function(){if(!i._textarea_focus_stolen)return l(r).addClass("pastable-focus")}),l(r).on("blur",function(){if(!i._textarea_focus_stolen)return l(r).removeClass("pastable-focus")}),l(i._target).on("_pasteCheckContainerDone",function(){return l(r).focus(),i._textarea_focus_stolen=!1}),l(i._target).on("pasteText",function(e,t){var a,i,n;return n=l(r).prop("selectionStart"),i=l(r).prop("selectionEnd"),a=l(r).val(),l(r).val(""+a.slice(0,n)+t.text+a.slice(i)),l(r)[0].setSelectionRange(n+t.text.length,n+t.text.length),l(r).trigger("change")}))},o.mountContenteditable=function(e){return new o(e,e),l(e).on("focus",function(){return l(e).addClass("pastable-focus")}),l(e).on("blur",function(){return l(e).removeClass("pastable-focus")})},o.prototype._handleImage=function(e,i,n){var r,o,t;return e.match(/^webkit\-fake\-url\:\/\//)?this._target.trigger("pasteImageError",{message:"You are trying to paste an image in Safari, however we are unable to retieve its data."}):(this._target.trigger("pasteImageStart"),(r=new Image).crossOrigin="anonymous",r.onload=(o=this,function(){var e,t,a;(t=document.createElement("canvas")).width=r.width,t.height=r.height,t.getContext("2d").drawImage(r,0,0,t.width,t.height),a=null;try{a=t.toDataURL("image/png"),e=s(a)}catch(e){}return a&&o._target.trigger("pasteImage",{blob:e,dataURL:a,width:r.width,height:r.height,originalEvent:i,name:n}),o._target.trigger("pasteImageEnd")}),r.onerror=(t=this,function(){return t._target.trigger("pasteImageError",{message:"Failed to get image from: "+e,url:e}),t._target.trigger("pasteImageEnd")}),r.src=e)},o.prototype._checkImagesInContainer=function(i){var n,e,t,a,r,o;for(r=Math.floor(1e3*Math.random()),e=0,t=(a=this._container.find("img")).length;e<t;e++)(n=a[e])["_paste_marked_"+r]=!0;return setTimeout((o=this,function(){var e,t,a;for(e=0,t=(a=o._container.find("img")).length;e<t;e++)(n=a[e])["_paste_marked_"+r]||(i(n.src),l(n).remove());return o._target.trigger("_pasteCheckContainerDone")}),1)},i=o}).call(this)},{}],2:[function(e,t,a){"use strict";e("paste.js/paste.js"),e("the-paste-base.js"),e("media-view.js"),e("the-paste.js")},{"media-view.js":3,"paste.js/paste.js":1,"the-paste-base.js":4,"the-paste.js":5}],3:[function(e,t,a){"use strict";var n,r,o,s;n=jQuery,window,r=mOxie,o=wp.media.thepaste,wp.media.view.Button,wp.media.view.Modal,s=o.l10n,wp.media.thepaste.view.DataSourceImageUploader=wp.media.View.extend({template:wp.template("thepaste-uploader"),className:"thepaste-uploader",controller:null,image:null,$discardBtn:null,$uploadBtn:null,uploader:null,events:{'click [data-action="upload"]':"uploadImage",'click [data-action="discard"]':"discardImage"},initialize:function(){wp.media.View.prototype.initialize.apply(this,arguments),_.defaults(this.options,{defaultFileName:s.image}),new wp.media.View({tagName:"div",className:"instruments",controller:this.controller}),this.uploader=this.options.uploder},setImageData:function(e){var a=this.$imageContainer.html("").get(0),i=this,t=e.match(/data:(image\/(\w+));/)[1];return o.options.mime_types.convert[t]||(t=this.options.defaultFileFormat),this.image&&this.image.destroy(),this.image=new r.Image,this.image.onload=function(){var e=i.getUploader().getOption("resize"),t=Math.max(e.width/this.width,e.height/this.height);e&&t<1&&this.downsize(this.width*t,this.height*t),this.embed(a)},this.image.load(e),this.$imageContainer&&this.$imageContainer.append(this.image),this.$('[data-setting="format"] input[value="'+t+'"]').prop("checked",!0),this.disabled(!1),this},render:function(){return wp.media.View.prototype.render.apply(this,arguments),this.$imageContainer=this.$(".image-container"),this.$discardBtn=this.$('[data-action="discard"]'),this.$uploadBtn=this.$('[data-action="upload"]'),this.$('[data-setting="title"]').val(this.options.defaultFileName),this},discardImage:function(){this.trigger("action:discard:dataimage",this),this.unbindUploaderEvents()},uploadImage:function(){var e=this.$('[data-setting="format"] :checked').val(),t=o.options.mime_types.convert[e],a=this.$('input[data-setting="title"]').val()+"."+t,i=this.image.getAsBlob(e,o.options.jpeg_quality);this.bindUploaderEvents(),i.detach(i.getSource()),i.name=a,i.type=e,this.getUploader().addFile(i,a),this.disabled(!0),this.trigger("action:upload:dataimage",this)},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},disabled:function(e){this.$discardBtn.prop("disabled",e),this.$uploadBtn.prop("disabled",e)},_uploadSuccessHandler:function(){this.trigger("action:uploaded:dataimage"),this.disabled(!1),this.unbindUploaderEvents()},_uploadErrorHandler:function(e,t){this.trigger("error:uploaded:dataimage",t),this.disabled(!1),this.unbindUploaderEvents()},bindUploaderEvents:function(){this.getUploader().bind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().bind("Error",this._uploadErrorHandler,this)},unbindUploaderEvents:function(){this.getUploader().unbind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().unbind("Error",this._uploadErrorHandler,this)},getUploader:function(){return this.controller.uploader.uploader.uploader}}),wp.media.thepaste.view.Pasteboard=wp.media.View.extend({template:wp.template("thepaste-pasteboard"),className:"thepaste-pasteboard",controller:null,action:"paste",$pasteboard:null,render:function(){var e=this;return wp.media.View.prototype.render.apply(this,arguments),console.log(this.$(".injector")),this.$pasteboard=this.$(".injector").pastableContenteditable(),this.$message=this.$(".message"),this.$pasteboard.on("click",function(){e.show_message("")}),this},start:function(){var a,i=this;return this.imagePasted=!1,this.$pasteboard.on("paste",function(e){a=wp.media.thepaste.clipboardHasImage(e.originalEvent.clipboardData)}).on("pasteText",function(e,t){a||i.imagePasted||(i.show_message(s.paste_error_no_image),n(this).html(""))}).on("pasteImage",function(e,t){i.imagePasted||(i.trigger("action:create:dataimage",this,t.dataURL),i.imagePasted=!0)}).on("pasteImageError",function(e,t){i.show_message(s.paste_error),n(this).html("")}),setTimeout(function(){i.$pasteboard.get(0).focus()},1),this},stop:function(){return this.$pasteboard.off("pasteImage").off("pasteImageError").off("pasteText"),this},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},show_message:function(e){this.$message.text(e)}}),wp.media.thepaste.view.DataSourceImageGrabber=wp.media.View.extend({template:wp.template("thepaste-grabber"),className:"thepaste-grabber",grabber:null,uploader:null,initialize:function(){var e=wp.media.View.prototype.initialize.apply(this,arguments);return _.defaults(this.options,{wpuploader:null,defaultFileName:s.pasted,defaultFileFormat:"image/png",title:s.copy_paste}),this.grabber=new this.options.grabber({controller:this.controller}),this.uploader=new wp.media.thepaste.view.DataSourceImageUploader({controller:this.controller,uploder:this.options.wpuploader,defaultFileName:this.options.defaultFileName,defaultFileFormat:this.options.defaultFileFormat}),this.render(),this.listenTo(this.grabber,"action:create:dataimage",this.imageCreated),this.listenTo(this.uploader,"action:discard:dataimage",this.startGrabbing),e},render:function(){return console.log(wp.media.View.prototype.render,this,arguments),wp.media.View.prototype.render.apply(this,arguments),this.$(".content").append(this.grabber.render().$el).append(this.uploader.render().$el),this},imageCreated:function(e,t){this.grabber.stop().hide(),this.uploader.show().setImageData(t)},startGrabbing:function(){return this.uploader.hide(),this.grabber.show().start(),this},stopGrabbing:function(){return this.grabber.stop(),this},getAction:function(){return this.grabber.action},dismiss:function(){return this.grabber.stop(),this}})},{}],4:[function(e,t,a){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(d,e,u){navigator.userAgent.indexOf("Chrome");var h=0;thepaste=e.thepaste=d.extend({supports:{paste:"paste"in document||"onpaste"in document||"object"===i(window.onpaste)||"onpaste"in document.createElement("DIV")},view:{},uploadImage:function(e,o,t){var s="__thepaste_box_"+h++,a=d(e).wrap('<div id="'+s+'" data-progress="0" class="thepaste-image-placeholder" contenteditable="false"></div>').parent();e.onload=function(){d(o.$("#"+s)).width(this.naturalWidth),d(o.$("#"+s)).height(this.naturalHeight)};function i(e){var t=e.match(/^data\:([^\;]+)\;/)[1],a=new u.Blob(null,{data:e}),i=thepaste.options.mime_types.convert[t],n=d('#post [name="post_title"]#title').val();function r(){l.uploader.uploader.uploader.addFile(a)}void 0===i&&console.trace("Won't upload, bad mime type: "+t),void 0!==n?(n=n.replace(/([\^\!\?<>:"'\/\|\*ยง])/g,"").replace(/ +/g," "),a.name=thepaste.l10n.pasted_into+" "+n+"."+i):a.name=thepaste.l10n.pasted+"."+i,a.type=t,l?(l.state().reset(),r()):((l=wp.media.editor.open(window.wpActiveEditor,{frame:"post",state:"insert",title:thepaste.l10n.copy_paste,multiple:!1})).close(),l.uploader.uploader&&l.uploader.uploader.ready?r():l.on("uploader:ready",r)),l.uploader.uploader.uploader.bind("UploadProgress",function(e){o.$("#"+s).attr("data-progress",e.total.percent)}),l.uploader.uploader.uploader.bind("FileUploaded",function(e,t){var a=o.$("#"+s),i='<img class="alignnone wp-image-'+t.attachment.id+' size-full" src="'+t.attachment.changed.url+'" />';a.replaceWith(i),o.$('img[src="'+p+'"]').each(function(){d(this).replaceWith(i)})}),l.uploader.uploader.uploader.bind("Error",function(e,t){console.log(e,t)})}var n,l,p=e.src,r=p.substr(0,5);return"blob:"===r?((n=new XMLHttpRequest).responseType="blob",n.onreadystatechange=function(){var e;4==n.readyState&&((e=new FileReader).onload=function(){i(e.result)},e.readAsDataURL(new Blob([n.response],{type:"image/png"})))},n.open("GET",p),n.send(null)):"data:"===r&&i(p),a},clipboardHasImage:function(a){var i=!1;return a.items?(d.each(a.items,function(e,t){if(t.type in thepaste.options.mime_types.paste)return!(i=!0)}),i):a.types?(d.each(thepaste.options.mime_types.paste,function(e,t){if(-1<a.types.indexOf(e))return!(i=!0)}),i):null}},thepaste)}(jQuery,wp.media,mOxie)},{}],5:[function(e,t,a){"use strict";var i,n;i=jQuery,window,n=wp.media.thepaste.l10n,i.extend(wp.Uploader.prototype,{success:function(e){}}),_.extend(wp.media.view.MediaFrame.Select.prototype,{_parentInitialize:wp.media.view.MediaFrame.Select.prototype.initialize,initialize:function(){this._parentInitialize.apply(this,arguments),this.bindPasteHandlers()},_parentBrowseRouter:wp.media.view.MediaFrame.Select.prototype.browseRouter,browseRouter:function(e){this._parentBrowseRouter.apply(this,arguments),wp.media.thepaste.supports.paste&&e.set({pasteboard:{text:n.copy_paste,priority:35}})},bindPasteHandlers:function(){var t=!1;this.on("content:render close",function(e){t&&"function"==typeof t.dismiss&&t.dismiss(),void 0!==e&&(t=e)},this),this.on("content:create:pasteboard",this.contentCreatePasteboard,this),this.on("content:render:pasteboard",this.contentRenderGrabber,this),this.on("content:create:dataimage",this.contentRenderGrabber,this)},contentCreatePasteboard:function(e){this.state(),this.currentPasteView=e.view=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this,grabber:wp.media.thepaste.view.Pasteboard}),this.listenTo(this.currentPasteView.uploader,"action:uploaded:dataimage",this.uploadedDataImage)},contentRenderGrabber:function(e){e.startGrabbing()},uploadedDataImage:function(e){this.stopListening(this.currentPasteView.uploader,"action:uploaded:dataimage");var t={view:null};this.browseContent(t),this.content.set(t.view),this.router.get().select("browse")},imagePasted:function(){console.log(this)}}),_.extend(wp.media.view.AttachmentsBrowser.prototype,{_parentInitialize:wp.media.view.AttachmentsBrowser.prototype.initialize,initialize:function(){var e,t=this;this._parentInitialize.apply(this,arguments),this.thepaste={paste:{grabber:!1,modal:!1,mode:"paste"},current:!1},this.controller instanceof wp.media.view.MediaFrame.Select||wp.media.thepaste.supports.paste&&(e=new wp.media.view.Button({text:n.copy_paste,className:"grabber-button",priority:-64,click:function(){t.thepaste.active=t.thepaste.paste,t.thepasteOpen(n.copy_paste)}}),this.thepaste.paste.grabber=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this.controller,grabber:wp.media.thepaste.view.Pasteboard,wpuploader:this.controller.uploader.uploader.uploader}),this.toolbar.set("pasteModeButton",e.render()))},thepasteOpen:function(e){var t=this;this.thepaste.modal=new wp.media.view.Modal({controller:this,title:e}),this.thepaste.modal.content(this.thepaste.active.grabber),this.thepaste.modal.open(),this.thepaste.modal.on("close",function(){t.thepasteClose(),t.thepaste.active.grabber.stopGrabbing()}),this.thepaste.active.grabber.startGrabbing(),this.listenTo(this.thepaste.active.grabber.uploader,"action:upload:dataimage",this.thepasteClose)},thepasteClose:function(){this.thepaste.modal.close(),this.stopListening(this.thepaste.active.grabber.uploader,"action:upload:dataimage")}})},{}]},{},[2]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhZG1pbi9ub2RlX21vZHVsZXMvcGFzdGUuanMvcGFzdGUuanMiLCJhZG1pbi9zcmMvanMvYWRtaW4vdGhlLXBhc3RlL2luZGV4LmpzIiwiYWRtaW4vc3JjL2pzL2xpYi9tZWRpYS12aWV3LmpzIiwiYWRtaW4vc3JjL2pzL2xpYi90aGUtcGFzdGUtYmFzZS5qcyIsImFkbWluL3NyYy9qcy9saWIvdGhlLXBhc3RlLmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIiQiLCJQYXN0ZSIsImNyZWF0ZUhpZGRlbkVkaXRhYmxlIiwiZGF0YVVSTHRvQmxvYiIsImlzRm9jdXNhYmxlIiwiX2NvbnRhaW5lciIsIl90YXJnZXQiLCJfdGhpcyIsInRoaXMiLCJhZGRDbGFzcyIsIm9uIiwiZXYiLCJfaSIsImNsaXBib2FyZERhdGEiLCJmaWxlIiwiZmlsZVR5cGUiLCJpdGVtIiwiaiIsImsiLCJsIiwibGVuIiwibGVuMSIsImxlbjIiLCJwYXN0ZWRGaWxlbmFtZSIsInJlYWRlciIsInJlZiIsInJlZjEiLCJyZWYyIiwicmVmMyIsInJlZjQiLCJzdHJpbmdJc0ZpbGVuYW1lIiwidGV4dCIsIm9yaWdpbmFsRXZlbnQiLCJfcGFzdGVfZXZlbnRfZmlyZWQiLCJpdGVtcyIsInBhc3RlZFR5cGVzIiwidHlwZSIsIm1hdGNoIiwicHVzaCIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJldmVudCIsIl9oYW5kbGVJbWFnZSIsInRhcmdldCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJnZXRBc0ZpbGUiLCJlcnJvciIsInByZXZlbnREZWZhdWx0IiwiZ2V0QXNTdHJpbmciLCJzdHJpbmciLCJ0cmlnZ2VyIiwiaXNGaWxlbmFtZSIsIkFycmF5IiwicHJvdG90eXBlIiwiaW5kZXhPZiIsInR5cGVzIiwiZ2V0RGF0YSIsInNldFRpbWVvdXQiLCJfY2hlY2tJbWFnZXNJbkNvbnRhaW5lciIsInNyYyIsIndpbmRvdyIsImZpbGVzIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwialF1ZXJ5IiwicGFzdGUiLCJwYXN0ZUNvbnRhaW5lciIsImNvbnNvbGUiLCJsb2ciLCJtb3VudE5vbklucHV0YWJsZSIsImZuIiwicGFzdGFibGVOb25JbnB1dGFibGUiLCJlbCIsIl9wYXN0YWJsZSIsImlzIiwicGFzdGFibGVUZXh0YXJlYSIsIm1vdW50VGV4dGFyZWEiLCJwYXN0YWJsZUNvbnRlbnRlZGl0YWJsZSIsIm1vdW50Q29udGVudGVkaXRhYmxlIiwiZGF0YVVSTCIsInNsaWNlU2l6ZSIsImI2NERhdGEiLCJieXRlQXJyYXkiLCJieXRlQXJyYXlzIiwiYnl0ZUNoYXJhY3RlcnMiLCJieXRlTnVtYmVycyIsImNvbnRlbnRUeXBlIiwibSIsIm9mZnNldCIsInNsaWNlIiwiYXRvYiIsImNoYXJDb2RlQXQiLCJVaW50OEFycmF5IiwiQmxvYiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHIiLCJjc3MiLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwibGVmdCIsIm92ZXJmbG93Iiwib3BhY2l0eSIsImVsZW1lbnQiLCJoYXNUYWJpbmRleCIsImZpZWxkc2V0IiwiZm9jdXNhYmxlSWZWaXNpYmxlIiwiaW1nIiwibWFwIiwibWFwTmFtZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJwYXJlbnROb2RlIiwibmFtZSIsImhyZWYiLCJ0ZXN0IiwiZGlzYWJsZWQiLCJjbG9zZXN0Iiwibm9uSW5wdXRhYmxlIiwiYXBwZW5kVG8iLCJnZXRTZWxlY3Rpb24iLCJ0b1N0cmluZyIsImZvY3VzIiwicmVtb3ZlQ2xhc3MiLCJ0ZXh0YXJlYSIsImN0bERvd24iLCJEYXRhVHJhbnNmZXIiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXQiLCJpbnNlcnRCZWZvcmUiLCJrZXlDb2RlIiwiY3RybEtleSIsIm1ldGFLZXkiLCJfdGV4dGFyZWFfZm9jdXNfc3RvbGVuIiwiZGF0YSIsImNvbnRlbnQiLCJjdXJFbmQiLCJjdXJTdGFydCIsInByb3AiLCJ2YWwiLCJzZXRTZWxlY3Rpb25SYW5nZSIsImNvbnRlbnRlZGl0YWJsZSIsImxvYWRlciIsIm1lc3NhZ2UiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwiYmxvYiIsImNhbnZhcyIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJ0b0RhdGFVUkwiLCJvbmVycm9yIiwidXJsIiwiY2IiLCJ0aW1lc3BhbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImZpbmQiLCJyZW1vdmUiLCJ0aGVwYXN0ZSIsImwxMG4iLCJtT3hpZSIsIndwIiwibWVkaWEiLCJ2aWV3IiwiQnV0dG9uIiwiTW9kYWwiLCJEYXRhU291cmNlSW1hZ2VVcGxvYWRlciIsIlZpZXciLCJleHRlbmQiLCJ0ZW1wbGF0ZSIsImNsYXNzTmFtZSIsImNvbnRyb2xsZXIiLCJpbWFnZSIsIiRkaXNjYXJkQnRuIiwiJHVwbG9hZEJ0biIsInVwbG9hZGVyIiwiZXZlbnRzIiwiY2xpY2sgW2RhdGEtYWN0aW9uPVwidXBsb2FkXCJdIiwiY2xpY2sgW2RhdGEtYWN0aW9uPVwiZGlzY2FyZFwiXSIsImluaXRpYWxpemUiLCJhcHBseSIsImFyZ3VtZW50cyIsIl8iLCJkZWZhdWx0cyIsIm9wdGlvbnMiLCJkZWZhdWx0RmlsZU5hbWUiLCJ0YWdOYW1lIiwidXBsb2RlciIsInNldEltYWdlRGF0YSIsImNvbnRhaW5lciIsIiRpbWFnZUNvbnRhaW5lciIsImh0bWwiLCJzZWxmIiwiZm9ybWF0IiwibWltZV90eXBlcyIsImNvbnZlcnQiLCJkZWZhdWx0RmlsZUZvcm1hdCIsImRlc3Ryb3kiLCJvcHRzIiwiZ2V0VXBsb2FkZXIiLCJnZXRPcHRpb24iLCJzY2FsZSIsIm1heCIsImRvd25zaXplIiwiZW1iZWQiLCJsb2FkIiwiYXBwZW5kIiwicmVuZGVyIiwiZGlzY2FyZEltYWdlIiwidW5iaW5kVXBsb2FkZXJFdmVudHMiLCJ1cGxvYWRJbWFnZSIsInN1ZmZpeCIsImdldEFzQmxvYiIsImpwZWdfcXVhbGl0eSIsImJpbmRVcGxvYWRlckV2ZW50cyIsImRldGFjaCIsImdldFNvdXJjZSIsImFkZEZpbGUiLCJzaG93IiwiJGVsIiwiaGlkZSIsIl9kaXNhYmxlZCIsIl91cGxvYWRTdWNjZXNzSGFuZGxlciIsIl91cGxvYWRFcnJvckhhbmRsZXIiLCJ1cCIsImVyciIsImJpbmQiLCJ1bmJpbmQiLCJQYXN0ZWJvYXJkIiwiYWN0aW9uIiwiJHBhc3RlYm9hcmQiLCIkbWVzc2FnZSIsInNob3dfbWVzc2FnZSIsInN0YXJ0IiwiY2xpcGJvYXJkSGFzSW1hZ2UiLCJpbWFnZVBhc3RlZCIsInBhc3RlX2Vycm9yX25vX2ltYWdlIiwicGFzdGVfZXJyb3IiLCJzdG9wIiwib2ZmIiwibXNnIiwiRGF0YVNvdXJjZUltYWdlR3JhYmJlciIsImdyYWJiZXIiLCJyZXQiLCJ3cHVwbG9hZGVyIiwicGFzdGVkIiwidGl0bGUiLCJjb3B5X3Bhc3RlIiwibGlzdGVuVG8iLCJpbWFnZUNyZWF0ZWQiLCJzdGFydEdyYWJiaW5nIiwiaW1hZ2VEYXRhIiwic3RvcEdyYWJiaW5nIiwiZ2V0QWN0aW9uIiwiZGlzbWlzcyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImNvdW50ZXIiLCJzdXBwb3J0cyIsIl90eXBlb2YiLCJvbnBhc3RlIiwiZWRpdG9yIiwidXBsb2FkX3BsYWNlaG9sZGVyIiwiaWQiLCIkY29udGFpbmVyIiwid3JhcCIsInBhcmVudCIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ1cGxvYWQiLCJwb3N0bmFtZSIsIndvcmtmbG93IiwidHJhY2UiLCJyZXBsYWNlIiwicGFzdGVkX2ludG8iLCJzdGF0ZSIsInJlc2V0Iiwib3BlbiIsIndwQWN0aXZlRWRpdG9yIiwiZnJhbWUiLCJtdWx0aXBsZSIsImNsb3NlIiwicmVhZHkiLCJ0b3RhbCIsInBlcmNlbnQiLCJhcmdzIiwiaW1nSFRNTCIsImF0dGFjaG1lbnQiLCJjaGFuZ2VkIiwicmVwbGFjZVdpdGgiLCJlYWNoIiwieGhyIiwic3ViIiwic3Vic3RyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZVR5cGUiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2UiLCJzZW5kIiwiaGFzSW1hZ2UiLCJleHQiLCJVcGxvYWRlciIsInN1Y2Nlc3MiLCJmaWxlX2F0dGFjaG1lbnQiLCJNZWRpYUZyYW1lIiwiU2VsZWN0IiwiX3BhcmVudEluaXRpYWxpemUiLCJiaW5kUGFzdGVIYW5kbGVycyIsIl9wYXJlbnRCcm93c2VSb3V0ZXIiLCJicm93c2VSb3V0ZXIiLCJzZXQiLCJwYXN0ZWJvYXJkIiwicHJpb3JpdHkiLCJwcmV2aW91c0NvbnRlbnQiLCJjb250ZW50Q3JlYXRlUGFzdGVib2FyZCIsImNvbnRlbnRSZW5kZXJHcmFiYmVyIiwiY3VycmVudFBhc3RlVmlldyIsInVwbG9hZGVkRGF0YUltYWdlIiwic3RvcExpc3RlbmluZyIsIm9iaiIsImJyb3dzZUNvbnRlbnQiLCJyb3V0ZXIiLCJzZWxlY3QiLCJBdHRhY2htZW50c0Jyb3dzZXIiLCJwYXN0ZUJ0biIsIm1vZGFsIiwibW9kZSIsImN1cnJlbnQiLCJjbGljayIsImFjdGl2ZSIsInRoZXBhc3RlT3BlbiIsInRvb2xiYXIiLCJ0aGVwYXN0ZUNsb3NlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLG1CQUFBQyxTQUFBQSxRQUFBLElBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsR0FBQSxHQUFBLEdBQUFJLEVBQUEsT0FBQUEsRUFBQUosR0FBQSxHQUFBLElBQUFLLEVBQUEsSUFBQUMsTUFBQSx1QkFBQU4sRUFBQSxLQUFBLE1BQUFLLEVBQUFFLEtBQUEsbUJBQUFGLEVBQUEsSUFBQUcsRUFBQVgsRUFBQUcsR0FBQSxDQUFBUyxRQUFBLElBQUFiLEVBQUFJLEdBQUEsR0FBQVUsS0FBQUYsRUFBQUMsUUFBQSxTQUFBZCxHQUFBLE9BQUFJLEVBQUFILEVBQUFJLEdBQUEsR0FBQUwsSUFBQUEsSUFBQWEsRUFBQUEsRUFBQUMsUUFBQWQsRUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxPQUFBRCxFQUFBRyxHQUFBUyxRQUFBLElBQUEsSUFBQUwsRUFBQSxtQkFBQUQsU0FBQUEsUUFBQUgsRUFBQSxFQUFBQSxFQUFBRixFQUFBYSxPQUFBWCxJQUFBRCxFQUFBRCxFQUFBRSxJQUFBLE9BQUFELEVBQUEsQ0FBQSxDQUFBYSxFQUFBLENBQUEsU0FBQVQsRUFBQVUsRUFBQUosSUNRQSxXQUNBLElBQUFLLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBb1BBLFNBQUFILEVBQUFJLEVBQUFDLEdBS0EsSUFBQUMsRUFKQUMsS0FBQUgsV0FBQUEsRUFDQUcsS0FBQUYsUUFBQUEsRUFDQUUsS0FBQUgsV0FBQUwsRUFBQVEsS0FBQUgsWUFDQUcsS0FBQUYsUUFBQU4sRUFBQVEsS0FBQUYsU0FBQUcsU0FBQSxZQUNBRCxLQUFBSCxXQUFBSyxHQUFBLFNBQUFILEVBMkdBQyxLQTFHQSxTQUFBRyxHQUNBLElBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBR0EsR0FGQXhCLEVBQUF5QixjQUFBLE9BQUFyQixFQUFBcUIsY0FBQXJCLEVBQUFxQixjQUFBLEtBQ0F6QixFQUFBMEIsb0JBQUEsRUFDQSxPQUFBLE9BQUFSLEVBQUFkLEVBQUFxQixlQUFBUCxFQUFBWixtQkFBQSxHQUVBLElBREFBLEVBQUFGLEVBQUFxQixjQUFBbkIsZUFDQXFCLE1BQUEsQ0FJQSxJQUhBWCxFQUFBLEtBQ0FoQixFQUFBeUIsY0FBQUcsWUFBQSxHQUVBbEIsRUFBQSxFQUFBRyxHQURBTSxFQUFBYixFQUFBcUIsT0FDQXJDLE9BQUFvQixFQUFBRyxFQUFBSCxLQUNBRCxFQUFBVSxFQUFBVCxJQUNBbUIsS0FBQUMsTUFBQSw0QkFDQTlCLEVBQUF5QixjQUFBRyxZQUFBRyxLQUFBdEIsRUFBQW9CLE1BSUEsSUFBQXhCLEVBQUFNLEVBQUEsRUFBQUcsR0FEQU0sRUFBQWQsRUFBQXFCLE9BQ0FyQyxPQUFBcUIsRUFBQUcsRUFBQVQsSUFBQU0sRUFBQSxDQUVBLElBREFGLEVBQUFXLEVBQUFmLElBQ0F3QixLQUFBQyxNQUFBLFlBQUEsRUFDQWIsRUFBQSxJQUFBZSxZQUNBQyxPQUFBLFNBQUFDLEdBQ0EsT0FBQWxDLEVBQUFtQyxhQUFBRCxFQUFBRSxPQUFBQyxPQUFBckMsRUFBQXlCLGNBQUFULElBRUEsSUFDQUMsRUFBQXFCLGNBQUE3QixFQUFBOEIsYUFDQSxNQUFBQyxJQUNBcEMsRUFBQXFDLGlCQUNBLE1BRUEsZUFBQWhDLEVBQUFvQixPQUNBLElBQUF4QixHQUFBLEVBQUFDLEVBQUFxQixNQUFBckMsUUFBQWdCLEVBQUFxQixNQUFBLEdBQUFFLEtBQUFDLE1BQUEsY0FDQVAsR0FBQSxFQUNBZixFQUFBRixFQUFBcUIsTUFBQSxHQUFBRSxNQUVBcEIsRUFBQWlDLFlBQUEsU0FBQUMsR0FDQSxPQUFBcEIsR0FDQVAsRUFBQTJCLEVBQ0EzQyxFQUFBRCxRQUFBNkMsUUFBQSxZQUFBLENBQ0FwQixLQUFBbUIsRUFDQUUsWUFBQSxFQUNBckMsU0FBQUEsRUFDQWlCLGNBQUF6QixFQUFBeUIsaUJBR0F6QixFQUFBRCxRQUFBNkMsUUFBQSxZQUFBLENBQ0FwQixLQUFBbUIsRUFDQWxCLGNBQUF6QixFQUFBeUIsbUJBS0EsYUFBQWhCLEVBQUFvQixNQUNBcEIsRUFBQWlDLFlBQUEsU0FBQUMsR0FDQSxPQUFBM0MsRUFBQUQsUUFBQTZDLFFBQUEsZ0JBQUEsQ0FDQXBCLEtBQUFtQixFQUNBbEIsY0FBQXpCLEVBQUF5QixrQkFJQSxjQUFBaEIsRUFBQW9CLE1BQ0FwQixFQUFBaUMsWUFBQSxTQUFBQyxHQUNBLE9BQUEzQyxFQUFBRCxRQUFBNkMsUUFBQSxnQkFBQSxDQUNBcEIsS0FBQW1CLEVBQ0FsQixjQUFBekIsRUFBQXlCLHdCQU1BLElBQUFxQixNQUFBQyxVQUFBQyxRQUFBM0QsS0FBQWlCLEVBQUEyQyxNQUFBLGdCQUNBekIsRUFBQWxCLEVBQUE0QyxRQUFBLFFBQ0FDLFdBQUEsV0FDQSxPQUFBbkQsRUFBQUQsUUFBQTZDLFFBQUEsWUFBQSxDQUNBcEIsS0FBQUEsRUFDQUMsY0FBQXpCLEVBQUF5QixpQkFFQSxJQUVBekIsRUFBQW9ELHdCQUFBLFNBQUFDLEdBQ0EsT0FBQXJELEVBQUFtQyxhQUFBa0IsRUFBQXJELEVBQUF5QixpQkFJQSxHQUFBbkIsRUFBQWdELE9BQUFoRCxjQUNBLEdBQUEsT0FBQWUsRUFBQUcsRUFBQWxCLEVBQUE0QyxRQUFBLFNBQUE3QixFQUFBL0IsWUFBQSxFQUNBNkQsV0FBQSxXQUtBLE9BSkFuRCxFQUFBRCxRQUFBNkMsUUFBQSxZQUFBLENBQ0FwQixLQUFBQSxFQUNBQyxjQUFBekIsRUFBQXlCLGdCQUVBekIsRUFBQUQsUUFBQTZDLFFBQUEsNkJBQ0EsT0FDQSxDQUVBLElBQUFoQyxFQUFBLEVBQUFHLEdBREFPLEVBQUFoQixFQUFBaUQsT0FDQWpFLE9BQUFzQixFQUFBRyxFQUFBSCxJQUNBTCxFQUFBZSxFQUFBVixHQUNBWixFQUFBbUMsYUFBQXFCLElBQUFDLGdCQUFBbEQsR0FBQVAsRUFBQXlCLGVBRUF6QixFQUFBb0Qsd0JBQUEsU0FBQUMsR0FDQSxPQUFBckQsRUFBQW1DLGFBQUFrQixFQUFBckQsRUFBQXlCLGlCQUlBLE9BQUEsU0FoV0FoQyxFQUFBNkQsT0FBQUksUUFFQUMsTUFBQSxTQUFBQyxHQU1BLE1BSkEsb0JBQUFDLFNBQUEsT0FBQUEsU0FDQUEsUUFBQUMsSUFBQSwwRkFFQXBFLEVBQUFxRSxrQkFBQUgsR0FDQTlELFlBR0FMLEVBQUF1RSxHQUFBQyxxQkFBQSxXQUNBLElBQUFDLEVBQUF4RCxFQUFBRyxFQUVBLElBQUFILEVBQUEsRUFBQUcsRUFEQVosS0FDQVgsT0FBQW9CLEVBQUFHLEVBQUFILEtBQ0F3RCxFQUZBakUsS0FFQVMsSUFDQXlELFdBQUExRSxFQUFBeUUsR0FBQUUsR0FBQSw2Q0FHQTFFLEVBQUFxRSxrQkFBQUcsR0FDQUEsRUFBQUMsV0FBQSxHQUVBLE9BQUFsRSxNQUdBUixFQUFBdUUsR0FBQUssaUJBQUEsV0FDQSxJQUFBSCxFQUFBeEQsRUFBQUcsRUFFQSxJQUFBSCxFQUFBLEVBQUFHLEVBREFaLEtBQ0FYLE9BQUFvQixFQUFBRyxFQUFBSCxLQUNBd0QsRUFGQWpFLEtBRUFTLElBQ0F5RCxXQUFBMUUsRUFBQXlFLEdBQUFFLEdBQUEsZ0NBR0ExRSxFQUFBNEUsY0FBQUosR0FDQUEsRUFBQUMsV0FBQSxHQUVBLE9BQUFsRSxNQUdBUixFQUFBdUUsR0FBQU8sd0JBQUEsV0FDQSxJQUFBTCxFQUFBeEQsRUFBQUcsRUFFQSxJQUFBSCxFQUFBLEVBQUFHLEVBREFaLEtBQ0FYLE9BQUFvQixFQUFBRyxFQUFBSCxLQUNBd0QsRUFGQWpFLEtBRUFTLElBQ0F5RCxXQUFBMUUsRUFBQXlFLEdBQUFFLEdBQUEsNkJBR0ExRSxFQUFBOEUscUJBQUFOLEdBQ0FBLEVBQUFDLFdBQUEsR0FFQSxPQUFBbEUsTUFHQUwsRUFBQSxTQUFBNkUsRUFBQUMsR0FDQSxJQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBckcsRUFBQXNHLEVBQUFDLEVBQUFoRSxFQUFBaUUsRUFJQSxHQUhBLE1BQUFULElBQ0FBLEVBQUEsT0FFQU8sRUFBQVIsRUFBQTNDLE1BQUEsbUNBQ0EsT0FBQSxLQU1BLElBSkFtRCxHQUFBL0QsRUFBQStELEdBQUEsR0FBQUQsRUFBQTlELEVBQUEsR0FBQXlELEVBQUF6RCxFQUFBLEdBQ0E0RCxFQUFBTSxLQUFBVCxHQUNBRSxFQUFBLEdBQ0FLLEVBQUEsRUFDQUEsRUFBQUosRUFBQXhGLFFBQUEsQ0FJQSxJQUhBNkYsRUFBQUwsRUFBQUssTUFBQUQsRUFBQUEsRUFBQVIsR0FDQUssRUFBQSxJQUFBakMsTUFBQXFDLEVBQUE3RixRQUNBWCxFQUFBLEVBQ0FBLEVBQUF3RyxFQUFBN0YsUUFDQXlGLEVBQUFwRyxHQUFBd0csRUFBQUUsV0FBQTFHLEdBQ0FBLElBRUFpRyxFQUFBLElBQUFVLFdBQUFQLEdBQ0FGLEVBQUE5QyxLQUFBNkMsR0FDQU0sR0FBQVIsRUFFQSxPQUFBLElBQUFhLEtBQUFWLEVBQUEsQ0FDQWhELEtBQUFtRCxLQUlBckYsRUFBQSxXQUNBLE9BQUFGLEVBQUErRixTQUFBQyxjQUFBLFFBQUFDLEtBQUEsbUJBQUEsR0FBQUEsS0FBQSxlQUFBLEdBQUFBLEtBQUEsWUFBQSxHQUFBQyxJQUFBLENBQ0FDLE1BQUEsRUFDQUMsT0FBQSxFQUNBQyxTQUFBLFFBQ0FDLE1BQUEsSUFDQUMsU0FBQSxTQUNBQyxRQUFBLFNBSUFwRyxFQUFBLFNBQUFxRyxFQUFBQyxHQUNBLElBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBT0EsT0FGQUwsRUFEQUMsRUFEQUMsRUFEQUUsRUFEQUQsT0FBQSxFQU1BLFVBREFFLEVBQUFQLEVBQUFPLFNBQUFDLGdCQUdBRixHQURBRCxFQUFBTCxFQUFBUyxZQUNBQyxRQUNBVixFQUFBVyxPQUFBTCxHQUFBLFFBQUFELEVBQUFFLFNBQUFDLGlCQUlBLEdBREFKLEVBQUE3RyxFQUFBLGdCQUFBK0csRUFBQSxPQUNBbEgsUUFBQWdILEVBQUFsQyxHQUFBLGVBRUEsMENBQUEwQyxLQUFBTCxJQUNBSixHQUFBSCxFQUFBYSxZQUVBWCxFQUFBM0csRUFBQXlHLEdBQUFjLFFBQUEsWUFBQSxNQUVBWCxHQUFBRCxFQUFBVyxVQUlBVixFQURBLE1BQUFJLEdBQ0FQLEVBQUFXLE1BRUFWLEdBRUFFLEVBQUFBLEdBQUE1RyxFQUFBeUcsR0FBQTlCLEdBQUEsdUJBQ0EzRSxFQUFBeUcsR0FBQTlCLEdBQUEsY0FJQTFFLEVBQUFxRCxVQUFBaEQsUUFBQSxLQUVBTCxFQUFBcUQsVUFBQWpELFdBQUEsS0FFQUosRUFBQXFFLGtCQUFBLFNBQUFrRCxHQUNBLElBQUF0RCxFQWNBLE9BYkFBLEVBQUEsSUFBQWpFLEVBQUFDLElBQUF1SCxTQUFBRCxHQUFBQSxHQUNBeEgsRUFBQXdILEdBQUE5RyxHQUFBLFFBQ0EsU0FBQUMsR0FDQSxJQUFBUCxFQUFBTyxFQUFBZ0MsUUFBQSxLQUFBa0IsT0FBQTZELGVBQUFDLFdBQ0EsT0FBQXpELEVBQUE3RCxXQUFBdUgsVUFJQTFELEVBQUE3RCxXQUFBSyxHQUFBLFFBQ0EsV0FDQSxPQUFBVixFQUFBd0gsR0FBQS9HLFNBQUEsb0JBR0F5RCxFQUFBN0QsV0FBQUssR0FBQSxPQUNBLFdBQ0EsT0FBQVYsRUFBQXdILEdBQUFLLFlBQUEscUJBS0E1SCxFQUFBNEUsY0FBQSxTQUFBaUQsR0FDQSxJQUFBQyxFQUFBN0QsRUFBQXpDLEVBQUFDLEVBQ0EsT0FBQSxvQkFBQXNHLGNBQUEsT0FBQUEsYUFBQUEsYUFBQTFFLGVBQUEsS0FBQSxPQUFBN0IsRUFBQXdHLE9BQUFDLDJCQUFBLE9BQUF4RyxFQUFBRCxFQUFBN0IsS0FBQXFJLE9BQUFELGFBQUExRSxVQUFBLFVBQUE1QixFQUFBeUcsU0FBQSxHQUNBM0gsS0FBQXVFLHFCQUFBK0MsSUFFQTVELEVBQUEsSUFBQWpFLEVBQUFDLElBQUFrSSxhQUFBTixHQUFBQSxHQUNBQyxHQUFBLEVBQ0EvSCxFQUFBOEgsR0FBQXBILEdBQUEsUUFBQSxTQUFBQyxHQUNBLElBQUFnQixFQUlBLE9BSEEsTUFBQUEsRUFBQWhCLEVBQUEwSCxVQUFBLE1BQUExRyxJQUNBb0csR0FBQSxHQUVBLE9BRUEvSCxFQUFBOEgsR0FBQXBILEdBQUEsVUFBQSxTQUFBQyxHQUNBLElBQUFnQixFQW9CQSxPQW5CQSxNQUFBQSxFQUFBaEIsRUFBQTBILFVBQUEsTUFBQTFHLElBQ0FvRyxHQUFBLEdBRUEsTUFBQXBILEVBQUEySCxTQUFBLE1BQUEzSCxFQUFBNEgsVUFDQVIsRUFBQXBILEVBQUEySCxTQUFBM0gsRUFBQTRILFNBRUFSLEdBQUEsS0FBQXBILEVBQUEwSCxVQUNBbkUsRUFBQXNFLHdCQUFBLEVBQ0F0RSxFQUFBN0QsV0FBQXVILFFBQ0ExRCxFQUFBakMsb0JBQUEsRUFDQXlCLFdBQ0EsV0FDQSxJQUFBUSxFQUFBakMsbUJBRUEsT0FEQWpDLEVBQUE4SCxHQUFBRixRQUNBMUQsRUFBQXNFLHdCQUFBLEdBR0EsSUFFQSxPQUVBeEksRUFBQThILEdBQUFwSCxHQUFBLFFBQ0EsY0FFQVYsRUFBQThILEdBQUFwSCxHQUFBLFFBQ0EsV0FDQSxJQUFBd0QsRUFBQXNFLHVCQUNBLE9BQUF4SSxFQUFBOEgsR0FBQXJILFNBQUEsb0JBSUFULEVBQUE4SCxHQUFBcEgsR0FBQSxPQUNBLFdBQ0EsSUFBQXdELEVBQUFzRSx1QkFDQSxPQUFBeEksRUFBQThILEdBQUFELFlBQUEsb0JBSUE3SCxFQUFBa0UsRUFBQTVELFNBQUFJLEdBQUEsMkJBQ0EsV0FFQSxPQURBVixFQUFBOEgsR0FBQUYsUUFDQTFELEVBQUFzRSx3QkFBQSxJQUdBeEksRUFBQWtFLEVBQUE1RCxTQUFBSSxHQUFBLFlBQ0EsU0FBQUMsRUFBQThILEdBQ0EsSUFBQUMsRUFBQUMsRUFBQUMsRUFNQSxPQUxBQSxFQUFBNUksRUFBQThILEdBQUFlLEtBQUEsa0JBQ0FGLEVBQUEzSSxFQUFBOEgsR0FBQWUsS0FBQSxnQkFDQUgsRUFBQTFJLEVBQUE4SCxHQUFBZ0IsTUFDQTlJLEVBQUE4SCxHQUFBZ0IsSUFBQSxHQUFBSixFQUFBaEQsTUFBQSxFQUFBa0QsR0FBQUgsRUFBQTFHLEtBQUEyRyxFQUFBaEQsTUFBQWlELElBQ0EzSSxFQUFBOEgsR0FBQSxHQUFBaUIsa0JBQUFILEVBQUFILEVBQUExRyxLQUFBbEMsT0FBQStJLEVBQUFILEVBQUExRyxLQUFBbEMsUUFDQUcsRUFBQThILEdBQUEzRSxRQUFBLGNBS0FsRCxFQUFBOEUscUJBQUEsU0FBQWlFLEdBUUEsT0FOQSxJQUFBL0ksRUFBQStJLEVBQUFBLEdBQ0FoSixFQUFBZ0osR0FBQXRJLEdBQUEsUUFDQSxXQUNBLE9BQUFWLEVBQUFnSixHQUFBdkksU0FBQSxvQkFHQVQsRUFBQWdKLEdBQUF0SSxHQUFBLE9BQ0EsV0FDQSxPQUFBVixFQUFBZ0osR0FBQW5CLFlBQUEscUJBd0hBNUgsRUFBQXFELFVBQUFaLGFBQUEsU0FBQWtCLEVBQUE5RSxFQUFBcUksR0FDQSxJQUFBOEIsRUFTQTFJLEVBMEJBQSxFQWxDQSxPQUFBcUQsRUFBQXZCLE1BQUEsNEJBQ0E3QixLQUFBRixRQUFBNkMsUUFBQSxrQkFBQSxDQUNBK0YsUUFBQSw0RkFHQTFJLEtBQUFGLFFBQUE2QyxRQUFBLG9CQUNBOEYsRUFBQSxJQUFBRSxPQUNBQyxZQUFBLFlBQ0FILEVBQUF6RyxRQUFBakMsRUF5QkFDLEtBeEJBLFdBQ0EsSUFBQTZJLEVBQUFDLEVBQUF0RSxHQUNBc0UsRUFBQXZELFNBQUFDLGNBQUEsV0FDQUcsTUFBQThDLEVBQUE5QyxNQUNBbUQsRUFBQWxELE9BQUE2QyxFQUFBN0MsT0FDQWtELEVBQUFDLFdBQUEsTUFDQUMsVUFBQVAsRUFBQSxFQUFBLEVBQUFLLEVBQUFuRCxNQUFBbUQsRUFBQWxELFFBQ0FwQixFQUFBLEtBQ0EsSUFDQUEsRUFBQXNFLEVBQUFHLFVBQUEsYUFDQUosRUFBQWxKLEVBQUE2RSxHQUNBLE1BQUFqQyxJQVdBLE9BVkFpQyxHQUNBekUsRUFBQUQsUUFBQTZDLFFBQUEsYUFBQSxDQUNBa0csS0FBQUEsRUFDQXJFLFFBQUFBLEVBQ0FtQixNQUFBOEMsRUFBQTlDLE1BQ0FDLE9BQUE2QyxFQUFBN0MsT0FDQXBFLGNBQUFsRCxFQUNBcUksS0FBQUEsSUFHQTVHLEVBQUFELFFBQUE2QyxRQUFBLG1CQUdBOEYsRUFBQVMsU0FBQW5KLEVBUUFDLEtBUEEsV0FLQSxPQUpBRCxFQUFBRCxRQUFBNkMsUUFBQSxrQkFBQSxDQUNBK0YsUUFBQSw2QkFBQXRGLEVBQ0ErRixJQUFBL0YsSUFFQXJELEVBQUFELFFBQUE2QyxRQUFBLG1CQUdBOEYsRUFBQXJGLElBQUFBLElBR0EzRCxFQUFBcUQsVUFBQUssd0JBQUEsU0FBQWlHLEdBQ0EsSUFBQS9DLEVBQUE1RixFQUFBRyxFQUFBSyxFQUFBb0ksRUFPQXRKLEVBSkEsSUFGQXNKLEVBQUFDLEtBQUFDLE1BQUEsSUFBQUQsS0FBQUUsVUFFQS9JLEVBQUEsRUFBQUcsR0FEQUssRUFBQWpCLEtBQUFILFdBQUE0SixLQUFBLFFBQ0FwSyxPQUFBb0IsRUFBQUcsRUFBQUgsS0FDQTRGLEVBQUFwRixFQUFBUixJQUNBLGlCQUFBNEksSUFBQSxFQUVBLE9BQUFuRyxZQUFBbkQsRUFhQUMsS0FaQSxXQUNBLElBQUFVLEVBQUFHLEVBQUFLLEVBRUEsSUFBQVIsRUFBQSxFQUFBRyxHQURBSyxFQUFBbkIsRUFBQUYsV0FBQTRKLEtBQUEsUUFDQXBLLE9BQUFxQixFQUFBRyxFQUFBSCxLQUNBMkYsRUFBQW5GLEVBQUFSLElBQ0EsaUJBQUEySSxLQUNBRCxFQUFBL0MsRUFBQWpELEtBQ0E1RCxFQUFBNkcsR0FBQXFELFVBR0EsT0FBQTNKLEVBQUFELFFBQUE2QyxRQUFBLDhCQUVBLElBM1NBbEQsRUE4U0FBLElBSUFMLEtBQUFZLDJDQzViQW5CLEVBQVEscUJBQ1JBLEVBQVEscUJBQ1JBLEVBQVEsaUJBQ1JBLEVBQVEsbUlDSFIsSUFBVVcsRUFBU2YsRUFDZGtMLEVBR0hDLEVBSlFwSyxFQXFSUGlFLE9BQU9KLE9BclJTNUUsRUFxUkZvTCxNQXBSWkYsRUFBV0csR0FBR0MsTUFBTUosU0FDZEcsR0FBR0MsTUFBTUMsS0FBS0MsT0FDZEgsR0FBR0MsTUFBTUMsS0FBS0UsTUFDdkJOLEVBQVNELEVBQVNDLEtBR25CRSxHQUFHQyxNQUFNSixTQUFTSyxLQUFLRyx3QkFBMEJMLEdBQUdDLE1BQU1LLEtBQUtDLE9BQU8sQ0FDckVDLFNBQVVSLEdBQUdRLFNBQVMscUJBQ3RCQyxVQUFXLG9CQUNYQyxXQUFXLEtBQ1hDLE1BQVEsS0FDUkMsWUFBYyxLQUNkQyxXQUFhLEtBRWJDLFNBQVcsS0FFWEMsT0FBUyxDQUNSQywrQkFBaUMsY0FDakNDLGdDQUFrQyxnQkFFbkNDLFdBQWEsV0FFWmxCLEdBQUdDLE1BQU1LLEtBQUt0SCxVQUFVa0ksV0FBV0MsTUFBT2pMLEtBQU1rTCxXQUVoREMsRUFBRUMsU0FBVXBMLEtBQUtxTCxRQUFTLENBQ3pCQyxnQkFBa0IxQixFQUFLYSxRQUdmLElBQUlYLEdBQUdDLE1BQU1LLEtBQUssQ0FDMUJtQixRQUFhLE1BQ2JoQixVQUFhLGNBQ2JDLFdBQWF4SyxLQUFLd0ssYUFHbkJ4SyxLQUFLNEssU0FBVzVLLEtBQUtxTCxRQUFRRyxTQUU5QkMsYUFBZSxTQUFVeEQsR0FDeEIsSUFBSXlELEVBQVkxTCxLQUFLMkwsZ0JBQWdCQyxLQUFLLElBQUlqRSxJQUFJLEdBQ2pEa0UsRUFBTzdMLEtBQ1A4TCxFQUFTN0QsRUFBS3BHLE1BQU0sd0JBQXdCLEdBNEI3QyxPQTFCTzhILEVBQVMwQixRQUFRVSxXQUFXQyxRQUFRRixLQUMxQ0EsRUFBUzlMLEtBQUtxTCxRQUFRWSxtQkFHbEJqTSxLQUFLeUssT0FDVHpLLEtBQUt5SyxNQUFNeUIsVUFHWmxNLEtBQUt5SyxNQUFRLElBQUloTSxFQUFFa0ssTUFDbkIzSSxLQUFLeUssTUFBTXpJLE9BQVMsV0FDbkIsSUFBSW1LLEVBQU9OLEVBQUtPLGNBQWNDLFVBQVUsVUFDdkNDLEVBQVFoRCxLQUFLaUQsSUFBS0osRUFBS3hHLE1BQVEzRixLQUFLMkYsTUFBT3dHLEVBQUt2RyxPQUFTNUYsS0FBSzRGLFFBRTdEdUcsR0FBU0csRUFBUSxHQUFNdE0sS0FBS3dNLFNBQVV4TSxLQUFLMkYsTUFBTTJHLEVBQU90TSxLQUFLNEYsT0FBTzBHLEdBRXRFdE0sS0FBS3lNLE1BQU9mLElBR2IxTCxLQUFLeUssTUFBTWlDLEtBQU16RSxHQUNaakksS0FBSzJMLGlCQUNUM0wsS0FBSzJMLGdCQUFnQmdCLE9BQU8zTSxLQUFLeUssT0FFbEN6SyxLQUFLUixFQUFFLHdDQUF3Q3NNLEVBQU8sTUFBTXpELEtBQU0sV0FBVyxHQUc3RXJJLEtBQUs4RyxVQUFTLEdBQ1A5RyxNQUVSNE0sT0FBUyxXQU1SLE9BTEE5QyxHQUFHQyxNQUFNSyxLQUFLdEgsVUFBVThKLE9BQU8zQixNQUFNakwsS0FBS2tMLFdBQzFDbEwsS0FBSzJMLGdCQUFrQjNMLEtBQUtSLEVBQUUsb0JBQzlCUSxLQUFLMEssWUFBYzFLLEtBQUtSLEVBQUUsMkJBQzFCUSxLQUFLMkssV0FBYTNLLEtBQUtSLEVBQUUsMEJBQ3pCUSxLQUFLUixFQUFFLDBCQUEwQjhJLElBQUt0SSxLQUFLcUwsUUFBUUMsaUJBQzVDdEwsTUFFUjZNLGFBQWUsV0FDZDdNLEtBQUsyQyxRQUFTLDJCQUE2QjNDLE1BQzNDQSxLQUFLOE0sd0JBRU5DLFlBQWMsV0FFYixJQUFJbkwsRUFBTzVCLEtBQUtSLEVBQUUsb0NBQW9DOEksTUFDckQwRSxFQUFTckQsRUFBUzBCLFFBQVFVLFdBQVdDLFFBQVNwSyxHQUM5QytFLEVBQU8zRyxLQUFLUixFQUFFLCtCQUErQjhJLE1BQVEsSUFBTTBFLEVBQzNEbkUsRUFBTzdJLEtBQUt5SyxNQUFNd0MsVUFBV3JMLEVBQU0rSCxFQUFTMEIsUUFBUTZCLGNBRXJEbE4sS0FBS21OLHFCQUVMdEUsRUFBS3VFLE9BQVF2RSxFQUFLd0UsYUFDbEJ4RSxFQUFLbEMsS0FBT0EsRUFDWmtDLEVBQUtqSCxLQUFPQSxFQUNaNUIsS0FBS29NLGNBQWNrQixRQUFTekUsRUFBT2xDLEdBRW5DM0csS0FBSzhHLFVBQVUsR0FFZjlHLEtBQUsyQyxRQUFTLDBCQUE0QjNDLE9BRTNDdU4sS0FBSyxXQUVKLE9BREF2TixLQUFLd04sSUFBSUQsT0FDRnZOLE1BRVJ5TixLQUFLLFdBRUosT0FEQXpOLEtBQUt3TixJQUFJQyxPQUNGek4sTUFFUjhHLFNBQVcsU0FBVTRHLEdBQ3BCMU4sS0FBSzBLLFlBQVlyQyxLQUFNLFdBQVlxRixHQUNuQzFOLEtBQUsySyxXQUFXdEMsS0FBTSxXQUFZcUYsSUFFbkNDLHNCQUF3QixXQUN2QjNOLEtBQUsyQyxRQUFTLDZCQUNkM0MsS0FBSzhHLFVBQVMsR0FDZDlHLEtBQUs4TSx3QkFFTmMsb0JBQXNCLFNBQVNDLEVBQUdDLEdBQ2pDOU4sS0FBSzJDLFFBQVMsMkJBQTRCbUwsR0FDMUM5TixLQUFLOEcsVUFBUyxHQUNkOUcsS0FBSzhNLHdCQUVOSyxtQkFBcUIsV0FDcEJuTixLQUFLb00sY0FBYzJCLEtBQU0sZUFBZ0IvTixLQUFLMk4sc0JBQXVCM04sTUFDckVBLEtBQUtvTSxjQUFjMkIsS0FBTSxRQUFXL04sS0FBSzROLG9CQUFxQjVOLE9BRS9EOE0scUJBQXVCLFdBQ3RCOU0sS0FBS29NLGNBQWM0QixPQUFRLGVBQWdCaE8sS0FBSzJOLHNCQUF1QjNOLE1BQ3ZFQSxLQUFLb00sY0FBYzRCLE9BQVEsUUFBV2hPLEtBQUs0TixvQkFBcUI1TixPQUVqRW9NLFlBQWEsV0FDWixPQUFPcE0sS0FBS3dLLFdBQVdJLFNBQVNBLFNBQVNBLFlBSzNDZCxHQUFHQyxNQUFNSixTQUFTSyxLQUFLaUUsV0FBYW5FLEdBQUdDLE1BQU1LLEtBQUtDLE9BQU8sQ0FDeERDLFNBQVVSLEdBQUdRLFNBQVMsdUJBQ3RCQyxVQUFXLHNCQUNYQyxXQUFXLEtBQ1gwRCxPQUFPLFFBQ1BDLFlBQWMsS0FFZHZCLE9BQVEsV0FDUCxJQUFJZixFQUFPN0wsS0FRWCxPQVBBOEosR0FBR0MsTUFBTUssS0FBS3RILFVBQVU4SixPQUFPM0IsTUFBTWpMLEtBQUtrTCxXQUMxQ3RILFFBQVFDLElBQUs3RCxLQUFLUixFQUFHLGNBQ3JCUSxLQUFLbU8sWUFBY25PLEtBQUtSLEVBQUcsYUFBYzhFLDBCQUN6Q3RFLEtBQUtvTyxTQUFXcE8sS0FBS1IsRUFBRyxZQUN4QlEsS0FBS21PLFlBQVlqTyxHQUFHLFFBQVMsV0FDNUIyTCxFQUFLd0MsYUFBYSxNQUVack8sTUFFUnNPLE1BQVEsV0FDUCxJQUNDQyxFQURHMUMsRUFBTzdMLEtBa0NYLE9BL0JBQSxLQUFLd08sYUFBYyxFQUVuQnhPLEtBQUttTyxZQUNIak8sR0FBRyxRQUFRLFNBQVM1QixHQUNwQmlRLEVBQW9CekUsR0FBR0MsTUFBTUosU0FBUzRFLGtCQUFrQmpRLEVBQUVrRCxjQUFjbkIsaUJBRXhFSCxHQUFHLFlBQWMsU0FBVTVCLEVBQUcySixHQUV6QnNHLEdBQXFCMUMsRUFBSzJDLGNBRy9CM0MsRUFBS3dDLGFBQWN6RSxFQUFLNkUsc0JBQ3hCalAsRUFBR1EsTUFBTzRMLEtBQUssT0FFZjFMLEdBQUcsYUFBZSxTQUFVNUIsRUFBRzJKLEdBQzFCNEQsRUFBSzJDLGNBR1YzQyxFQUFLbEosUUFBUywwQkFBMkIzQyxLQUFPaUksRUFBS3pELFNBQ3JEcUgsRUFBSzJDLGFBQWMsS0FFbkJ0TyxHQUFHLGtCQUFvQixTQUFVNUIsRUFBRzJKLEdBQ3BDNEQsRUFBS3dDLGFBQWN6RSxFQUFLOEUsYUFDeEJsUCxFQUFHUSxNQUFPNEwsS0FBSyxNQUlqQjFJLFdBQVcsV0FDVjJJLEVBQUtzQyxZQUFZeEcsSUFBSSxHQUFHUCxTQUN2QixHQUVLcEgsTUFFUjJPLEtBQU8sV0FLTixPQUpBM08sS0FBS21PLFlBQ0hTLElBQUksY0FDSkEsSUFBSSxtQkFDSkEsSUFBSSxhQUNDNU8sTUFFUnVOLEtBQUssV0FFSixPQURBdk4sS0FBS3dOLElBQUlELE9BQ0Z2TixNQUVSeU4sS0FBSyxXQUVKLE9BREF6TixLQUFLd04sSUFBSUMsT0FDRnpOLE1BRVJxTyxhQUFhLFNBQVVRLEdBQ3RCN08sS0FBS29PLFNBQVM3TSxLQUFNc04sTUFJdEIvRSxHQUFHQyxNQUFNSixTQUFTSyxLQUFLOEUsdUJBQXlCaEYsR0FBR0MsTUFBTUssS0FBS0MsT0FBTyxDQUVwRUMsU0FBVVIsR0FBR1EsU0FBUyxvQkFDdEJDLFVBQVksbUJBRVp3RSxRQUFVLEtBQ1ZuRSxTQUFXLEtBRVhJLFdBQWEsV0FDWixJQUFJZ0UsRUFBTWxGLEdBQUdDLE1BQU1LLEtBQUt0SCxVQUFVa0ksV0FBV0MsTUFBT2pMLEtBQU1rTCxXQXNCMUQsT0FwQkFDLEVBQUVDLFNBQVVwTCxLQUFLcUwsUUFBUyxDQUN6QjRELFdBQWMsS0FDZDNELGdCQUFrQjFCLEVBQUtzRixPQUN2QmpELGtCQUFvQixZQUNwQmtELE1BQVV2RixFQUFLd0YsYUFHaEJwUCxLQUFLK08sUUFBVyxJQUFJL08sS0FBS3FMLFFBQVEwRCxRQUFTLENBQUV2RSxXQUFheEssS0FBS3dLLGFBRTlEeEssS0FBSzRLLFNBQVcsSUFBSWQsR0FBR0MsTUFBTUosU0FBU0ssS0FBS0csd0JBQXlCLENBQzlESyxXQUFleEssS0FBS3dLLFdBQ3BCZ0IsUUFBYXhMLEtBQUtxTCxRQUFRNEQsV0FDMUIzRCxnQkFBbUJ0TCxLQUFLcUwsUUFBUUMsZ0JBQ2hDVyxrQkFBb0JqTSxLQUFLcUwsUUFBUVksb0JBRXZDak0sS0FBSzRNLFNBRUw1TSxLQUFLcVAsU0FBVXJQLEtBQUsrTyxRQUFTLDBCQUEyQi9PLEtBQUtzUCxjQUM3RHRQLEtBQUtxUCxTQUFVclAsS0FBSzRLLFNBQVUsMkJBQTRCNUssS0FBS3VQLGVBRXhEUCxHQUVScEMsT0FBTyxXQVNOLE9BUEhoSixRQUFRQyxJQUFJaUcsR0FBR0MsTUFBTUssS0FBS3RILFVBQVU4SixPQUFPNU0sS0FBS2tMLFdBQzdDcEIsR0FBR0MsTUFBTUssS0FBS3RILFVBQVU4SixPQUFPM0IsTUFBT2pMLEtBQU1rTCxXQUU1Q2xMLEtBQUtSLEVBQUUsWUFDTG1OLE9BQVEzTSxLQUFLK08sUUFBUW5DLFNBQVNZLEtBQzlCYixPQUFRM00sS0FBSzRLLFNBQVNnQyxTQUFTWSxLQUUxQnhOLE1BRVJzUCxhQUFlLFNBQVVQLEVBQVVTLEdBQ2xDeFAsS0FBSytPLFFBQVFKLE9BQU9sQixPQUNwQnpOLEtBQUs0SyxTQUFTMkMsT0FBTzlCLGFBQWMrRCxJQUVwQ0QsY0FBYyxXQUdiLE9BRkF2UCxLQUFLNEssU0FBUzZDLE9BQ2R6TixLQUFLK08sUUFBUXhCLE9BQU9lLFFBQ2J0TyxNQUVSeVAsYUFBYSxXQUVaLE9BREF6UCxLQUFLK08sUUFBUUosT0FDTjNPLE1BRVIwUCxVQUFZLFdBQ1gsT0FBTzFQLEtBQUsrTyxRQUFRYixRQUVyQnlCLFFBQVEsV0FFUCxPQURBM1AsS0FBSytPLFFBQVFKLE9BQ04zTyxtUkNqUlYsU0FBV1IsRUFBR0wsRUFBU1YsR0FFTm1SLFVBQVVDLFVBQVU5TSxRQUFRLFVBQTVDLElBQ0MrTSxFQUFVLEVBR1huRyxTQUFXeEssRUFBUXdLLFNBQVduSyxFQUFFNkssT0FBUSxDQUN2QzBGLFNBQVcsQ0FDVnJNLE1BQVUsVUFBVzZCLFVBQWMsWUFBYUEsVUFBd0MsV0FBM0J5SyxFQUFPM00sT0FBTzRNLFVBQTJCLFlBQWExSyxTQUFTQyxjQUFjLFFBRTNJd0UsS0FBSyxHQUVMK0MsWUFBYSxTQUFVdEMsRUFBT3lGLEVBQVFDLEdBRXJDLElBQUlDLEVBQUssa0JBQW1CTixJQUMzQk8sRUFBYTdRLEVBQUVpTCxHQUNiNkYsS0FBSyxZQUFZRixFQUFHLHlGQUNwQkcsU0FHRjlGLEVBQU16SSxPQUFTLFdBQ2R4QyxFQUFHMFEsRUFBTzFRLEVBQUUsSUFBSTRRLElBQU16SyxNQUFPM0YsS0FBS3dRLGNBQ2xDaFIsRUFBRzBRLEVBQU8xUSxFQUFFLElBQUk0USxJQUFNeEssT0FBUTVGLEtBQUt5USxnQkFPM0IsU0FBVEMsRUFBbUJsTSxHQUNsQixJQUFJNUMsRUFBTzRDLEVBQVEzQyxNQUFNLHFCQUFxQixHQUM3Q3ZCLEVBQU8sSUFBSTdCLEVBQUU2RyxLQUFNLEtBQU0sQ0FBRTJDLEtBQU16RCxJQUNqQ3dJLEVBQVNyRCxTQUFTMEIsUUFBUVUsV0FBV0MsUUFBU3BLLEdBQzlDK08sRUFBV25SLEVBQUUsbUNBQW1DOEksTUFhbkMsU0FBVmdGLElBQ0hzRCxFQUFTaEcsU0FBU0EsU0FBU0EsU0FBUzBDLFFBQVNoTixRQWJ6QyxJQUF1QjBNLEdBQzNCcEosUUFBUWlOLE1BQU8sZ0NBQW1DalAsUUFHOUMsSUFBdUIrTyxHQUMzQkEsRUFBV0EsRUFBU0csUUFBUSwwQkFBMEIsSUFBSUEsUUFBUSxNQUFNLEtBQ3hFeFEsRUFBS3FHLEtBQU9nRCxTQUFTQyxLQUFLbUgsWUFBYyxJQUFNSixFQUFXLElBQU0zRCxHQUUvRDFNLEVBQUtxRyxLQUFPZ0QsU0FBU0MsS0FBS3NGLE9BQVMsSUFBTWxDLEVBRTFDMU0sRUFBS3NCLEtBQU9BLEVBS0xnUCxHQWdCTkEsRUFBU0ksUUFBUUMsUUFDakIzRCxPQWhCQXNELEVBQVc5RyxHQUFHQyxNQUFNbUcsT0FBT2dCLEtBQU03TixPQUFPOE4sZUFBZ0IsQ0FDdkRDLE1BQVEsT0FDUkosTUFBUSxTQUNSN0IsTUFBUXhGLFNBQVNDLEtBQUt3RixXQUN0QmlDLFVBQVUsS0FHRkMsUUFFSlYsRUFBU2hHLFNBQVNBLFVBQVlnRyxFQUFTaEcsU0FBU0EsU0FBUzJHLE1BQzdEakUsSUFFQXNELEVBQVMxUSxHQUFJLGlCQUFrQm9OLElBTWpDc0QsRUFBU2hHLFNBQVNBLFNBQVNBLFNBQVNtRCxLQUFLLGlCQUFpQixTQUFVelAsR0FDbkU0UixFQUFPMVEsRUFBRSxJQUFJNFEsR0FBSTNLLEtBQUssZ0JBQWdCbkgsRUFBRWtULE1BQU1DLFdBRS9DYixFQUFTaEcsU0FBU0EsU0FBU0EsU0FBU21ELEtBQUssZUFBZSxTQUFVRixFQUFJNkQsR0FFckUsSUFBSXJCLEVBQWFILEVBQU8xUSxFQUFFLElBQUk0USxHQUM3QnVCLEVBQVUsa0NBQWtDRCxFQUFLRSxXQUFXeEIsR0FBRyxvQkFBb0JzQixFQUFLRSxXQUFXQyxRQUFRMUksSUFBSSxPQUdoSGtILEVBQVd5QixZQUFhSCxHQUd4QnpCLEVBQU8xUSxFQUFFLFlBQVk0RCxFQUFJLE1BQU0yTyxLQUFLLFdBQ25DdlMsRUFBRVEsTUFBTThSLFlBQWFILE9BR3ZCZixFQUFTaEcsU0FBU0EsU0FBU0EsU0FBU21ELEtBQUssUUFBUSxTQUFVRixFQUFJNkQsR0FDOUQ5TixRQUFRQyxJQUFJZ0ssRUFBRzZELEtBNURsQixJQUFJTSxFQUNIcEIsRUFDQXhOLEVBQU1xSCxFQUFNckgsSUFDWjZPLEVBQU03TyxFQUFJOE8sT0FBTyxFQUFFLEdBaUZwQixNQXBCYSxVQUFSRCxJQUVKRCxFQUFNLElBQUlHLGdCQUNOQyxhQUFlLE9BQ25CSixFQUFJSyxtQkFBcUIsV0FDeEIsSUFBSXJSLEVBQ21CLEdBQWxCZ1IsRUFBSU0sY0FDUnRSLEVBQVMsSUFBSWUsWUFDTkMsT0FBUyxXQUNmME8sRUFBUTFQLEVBQU9vQixTQUVoQnBCLEVBQU9xQixjQUFlLElBQUlpRCxLQUFNLENBQUUwTSxFQUFJTyxVQUFZLENBQUUzUSxLQUFNLGlCQUc1RG9RLEVBQUlkLEtBQU0sTUFBTzlOLEdBQ2pCNE8sRUFBSVEsS0FBTSxPQUVTLFVBQVJQLEdBQ1h2QixFQUFRdE4sR0FFRmlOLEdBTVI5QixrQkFBa0IsU0FBVWxPLEdBQzNCLElBQUlvUyxHQUFXLEVBQ2YsT0FBS3BTLEVBQWNxQixPQUNsQmxDLEVBQUV1UyxLQUFNMVIsRUFBY3FCLE1BQU8sU0FBU2hELEVBQUU4QixHQUN2QyxHQUFLQSxFQUFLb0IsUUFBUStILFNBQVMwQixRQUFRVSxXQUFXckksTUFFN0MsUUFEQStPLEdBQVcsS0FJTkEsR0FHSHBTLEVBQWMyQyxPQUNsQnhELEVBQUV1UyxLQUFNcEksU0FBUzBCLFFBQVFVLFdBQVdySSxNQUFPLFNBQVM5QixFQUFLOFEsR0FDeEQsSUFBMEMsRUFBckNyUyxFQUFjMkMsTUFBTUQsUUFBUW5CLEdBRWhDLFFBREE2USxHQUFXLEtBSU5BLEdBRUQsT0FJTjlJLFVBNUlKLENBOElJbEcsT0FBUXFHLEdBQUdDLE1BQU9GLDRDQzlJdEIsSUFBVXJLLEVBR1JvSyxFQUhRcEssRUF1SlBpRSxPQUFPSixPQXBKUnVHLEVBQU9FLEdBQUdDLE1BQU1KLFNBQVNDLEtBRTFCcEssRUFBRTZLLE9BQVFQLEdBQUc2SSxTQUFTN1AsVUFBVyxDQUNoQzhQLFFBQVUsU0FBVUMsT0FTckIxSCxFQUFFZCxPQUFRUCxHQUFHQyxNQUFNQyxLQUFLOEksV0FBV0MsT0FBT2pRLFVBQVcsQ0FDcERrUSxrQkFBbUJsSixHQUFHQyxNQUFNQyxLQUFLOEksV0FBV0MsT0FBT2pRLFVBQVVrSSxXQUM3REEsV0FBWSxXQUNYaEwsS0FBS2dULGtCQUFrQi9ILE1BQU9qTCxLQUFNa0wsV0FDcENsTCxLQUFLaVQscUJBRU5DLG9CQUFxQnBKLEdBQUdDLE1BQU1DLEtBQUs4SSxXQUFXQyxPQUFPalEsVUFBVXFRLGFBQy9EQSxhQUFlLFNBQVVuSixHQUN4QmhLLEtBQUtrVCxvQkFBb0JqSSxNQUFNakwsS0FBS2tMLFdBRS9CcEIsR0FBR0MsTUFBTUosU0FBU29HLFNBQVNyTSxPQUMvQnNHLEVBQUtvSixJQUFJLENBQUNDLFdBQVcsQ0FDcEI5UixLQUFVcUksRUFBS3dGLFdBQ2ZrRSxTQUFVLE9BS2JMLGtCQUFtQixXQUNsQixJQUFJTSxHQUFrQixFQUd0QnZULEtBQUtFLEdBQUksdUJBQXlCLFNBQVNnSSxHQUNyQ3FMLEdBQW1CLG1CQUFzQkEsRUFBZ0I1RCxTQUM3RDRELEVBQWdCNUQsZUFFWixJQUF1QnpILElBQzNCcUwsRUFBa0JyTCxJQUNoQmxJLE1BRUpBLEtBQUtFLEdBQUksNEJBQTZCRixLQUFLd1Qsd0JBQXlCeFQsTUFDcEVBLEtBQUtFLEdBQUksNEJBQTZCRixLQUFLeVQscUJBQXNCelQsTUFDakVBLEtBQUtFLEdBQUksMkJBQTRCRixLQUFLeVQscUJBQXNCelQsT0FLakV3VCx3QkFBeUIsU0FBVXRMLEdBQ3RCbEksS0FBS2dSLFFBRWpCaFIsS0FBSzBULGlCQUFtQnhMLEVBQVE4QixLQUFPLElBQUlGLEdBQUdDLE1BQU1KLFNBQVNLLEtBQUs4RSx1QkFBd0IsQ0FDekZ0RSxXQUFheEssS0FDYitPLFFBQVdqRixHQUFHQyxNQUFNSixTQUFTSyxLQUFLaUUsYUFFbkNqTyxLQUFLcVAsU0FBVXJQLEtBQUswVCxpQkFBaUI5SSxTQUFVLDRCQUE2QjVLLEtBQUsyVCxvQkFFbEZGLHFCQUFzQixTQUFVdkwsR0FDL0JBLEVBQVFxSCxpQkFFVG9FLGtCQUFtQixTQUFVekwsR0FDNUJsSSxLQUFLNFQsY0FBZTVULEtBQUswVCxpQkFBaUI5SSxTQUFVLDZCQUNwRCxJQUFJaUosRUFBTSxDQUFFN0osS0FBTSxNQUNsQmhLLEtBQUs4VCxjQUFjRCxHQUNuQjdULEtBQUtrSSxRQUFRa0wsSUFBS1MsRUFBSTdKLE1BQ3RCaEssS0FBSytULE9BQU9wTSxNQUFNcU0sT0FBTyxXQUUxQnhGLFlBQVksV0FHWDVLLFFBQVFDLElBQUk3RCxTQVVkbUwsRUFBRWQsT0FBUVAsR0FBR0MsTUFBTUMsS0FBS2lLLG1CQUFtQm5SLFVBQVcsQ0FDckRrUSxrQkFBbUJsSixHQUFHQyxNQUFNQyxLQUFLaUssbUJBQW1CblIsVUFBVWtJLFdBQzlEQSxXQUFZLFdBQ1gsSUFDQ2tKLEVBREdySSxFQUFPN0wsS0FHWEEsS0FBS2dULGtCQUFrQi9ILE1BQU1qTCxLQUFLa0wsV0FFbENsTCxLQUFLMkosU0FBVyxDQUNmakcsTUFBUSxDQUVQcUwsU0FBVSxFQUNWb0YsT0FBUSxFQUNSQyxLQUFPLFNBRVJDLFNBQVcsR0FHSHJVLEtBQUt3SyxzQkFBc0JWLEdBQUdDLE1BQU1DLEtBQUs4SSxXQUFXQyxRQUV2RGpKLEdBQUdDLE1BQU1KLFNBQVNvRyxTQUFTck0sUUFFL0J3USxFQUFXLElBQUlwSyxHQUFHQyxNQUFNQyxLQUFLQyxPQUFRLENBQ3BDMUksS0FBUXFJLEVBQUt3RixXQUNiN0UsVUFBWSxpQkFDWitJLFVBQVksR0FDWmdCLE1BQU8sV0FDTnpJLEVBQUtsQyxTQUFTNEssT0FBUzFJLEVBQUtsQyxTQUFTakcsTUFDckNtSSxFQUFLMkksYUFBYzVLLEVBQUt3RixlQUcxQnBQLEtBQUsySixTQUFTakcsTUFBTXFMLFFBQVUsSUFBSWpGLEdBQUdDLE1BQU1KLFNBQVNLLEtBQUs4RSx1QkFBd0IsQ0FDaEZ0RSxXQUFheEssS0FBS3dLLFdBQ2xCdUUsUUFBV2pGLEdBQUdDLE1BQU1KLFNBQVNLLEtBQUtpRSxXQUNsQ2dCLFdBQWFqUCxLQUFLd0ssV0FBV0ksU0FBU0EsU0FBU0EsV0FHaEQ1SyxLQUFLeVUsUUFBUXJCLElBQUssa0JBQW1CYyxFQUFTdEgsWUFJakQ0SCxhQUFjLFNBQVVyRixHQUN2QixJQUFJdEQsRUFBTzdMLEtBRVhBLEtBQUsySixTQUFTd0ssTUFBVSxJQUFJckssR0FBR0MsTUFBTUMsS0FBS0UsTUFBTyxDQUNoRE0sV0FBYXhLLEtBQ2JtUCxNQUFhQSxJQUVkblAsS0FBSzJKLFNBQVN3SyxNQUFNak0sUUFBU2xJLEtBQUsySixTQUFTNEssT0FBT3hGLFNBQ2xEL08sS0FBSzJKLFNBQVN3SyxNQUFNakQsT0FFcEJsUixLQUFLMkosU0FBU3dLLE1BQU1qVSxHQUFJLFFBQVMsV0FDaEMyTCxFQUFLNkksZ0JBQ0w3SSxFQUFLbEMsU0FBUzRLLE9BQU94RixRQUFRVSxpQkFHOUJ6UCxLQUFLMkosU0FBUzRLLE9BQU94RixRQUFRUSxnQkFFN0J2UCxLQUFLcVAsU0FBVXJQLEtBQUsySixTQUFTNEssT0FBT3hGLFFBQVFuRSxTQUFVLDBCQUEyQjVLLEtBQUswVSxnQkFFdkZBLGNBQWUsV0FDZDFVLEtBQUsySixTQUFTd0ssTUFBTTdDLFFBRXBCdFIsS0FBSzRULGNBQWU1VCxLQUFLMkosU0FBUzRLLE9BQU94RixRQUFRbkUsU0FBVSIsImZpbGUiOiJhZG1pbi90aGUtcGFzdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcblxuLypcbnBhc3RlLmpzIGlzIGFuIGludGVyZmFjZSB0byByZWFkIGRhdGEgKCB0ZXh0IC8gaW1hZ2UgKSBmcm9tIGNsaXBib2FyZCBpbiBkaWZmZXJlbnQgYnJvd3NlcnMuIEl0IGFsc28gY29udGFpbnMgc2V2ZXJhbCBoYWNrcy5cblxuaHR0cHM6Ly9naXRodWIuY29tL2xheWVyc3Nzcy9wYXN0ZS5qc1xuICovXG5cbihmdW5jdGlvbigpIHtcbiAgdmFyICQsIFBhc3RlLCBjcmVhdGVIaWRkZW5FZGl0YWJsZSwgZGF0YVVSTHRvQmxvYiwgaXNGb2N1c2FibGU7XG5cbiAgJCA9IHdpbmRvdy5qUXVlcnk7XG5cbiAgJC5wYXN0ZSA9IGZ1bmN0aW9uKHBhc3RlQ29udGFpbmVyKSB7XG4gICAgdmFyIHBtO1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb25zb2xlICE9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkRFUFJFQ0FURUQ6IFRoaXMgbWV0aG9kIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgJC5mbi5wYXN0YWJsZU5vbklucHV0YWJsZSgpIGluc3RlYWQuXCIpO1xuICAgIH1cbiAgICBwbSA9IFBhc3RlLm1vdW50Tm9uSW5wdXRhYmxlKHBhc3RlQ29udGFpbmVyKTtcbiAgICByZXR1cm4gcG0uX2NvbnRhaW5lcjtcbiAgfTtcblxuICAkLmZuLnBhc3RhYmxlTm9uSW5wdXRhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsLCBqLCBsZW4sIHJlZjtcbiAgICByZWYgPSB0aGlzO1xuICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgZWwgPSByZWZbal07XG4gICAgICBpZiAoZWwuX3Bhc3RhYmxlIHx8ICQoZWwpLmlzKCd0ZXh0YXJlYSwgaW5wdXQ6dGV4dCwgW2NvbnRlbnRlZGl0YWJsZV0nKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIFBhc3RlLm1vdW50Tm9uSW5wdXRhYmxlKGVsKTtcbiAgICAgIGVsLl9wYXN0YWJsZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gICQuZm4ucGFzdGFibGVUZXh0YXJlYSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbCwgaiwgbGVuLCByZWY7XG4gICAgcmVmID0gdGhpcztcbiAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIGVsID0gcmVmW2pdO1xuICAgICAgaWYgKGVsLl9wYXN0YWJsZSB8fCAkKGVsKS5pcygnOm5vdCh0ZXh0YXJlYSwgaW5wdXQ6dGV4dCknKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIFBhc3RlLm1vdW50VGV4dGFyZWEoZWwpO1xuICAgICAgZWwuX3Bhc3RhYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgJC5mbi5wYXN0YWJsZUNvbnRlbnRlZGl0YWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbCwgaiwgbGVuLCByZWY7XG4gICAgcmVmID0gdGhpcztcbiAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIGVsID0gcmVmW2pdO1xuICAgICAgaWYgKGVsLl9wYXN0YWJsZSB8fCAkKGVsKS5pcygnOm5vdChbY29udGVudGVkaXRhYmxlXSknKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIFBhc3RlLm1vdW50Q29udGVudGVkaXRhYmxlKGVsKTtcbiAgICAgIGVsLl9wYXN0YWJsZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIGRhdGFVUkx0b0Jsb2IgPSBmdW5jdGlvbihkYXRhVVJMLCBzbGljZVNpemUpIHtcbiAgICB2YXIgYjY0RGF0YSwgYnl0ZUFycmF5LCBieXRlQXJyYXlzLCBieXRlQ2hhcmFjdGVycywgYnl0ZU51bWJlcnMsIGNvbnRlbnRUeXBlLCBpLCBtLCBvZmZzZXQsIHJlZiwgc2xpY2U7XG4gICAgaWYgKHNsaWNlU2l6ZSA9PSBudWxsKSB7XG4gICAgICBzbGljZVNpemUgPSA1MTI7XG4gICAgfVxuICAgIGlmICghKG0gPSBkYXRhVVJMLm1hdGNoKC9eZGF0YVxcOihbXlxcO10rKVxcO2Jhc2U2NFxcLCguKykkLykpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmVmID0gbSwgbSA9IHJlZlswXSwgY29udGVudFR5cGUgPSByZWZbMV0sIGI2NERhdGEgPSByZWZbMl07XG4gICAgYnl0ZUNoYXJhY3RlcnMgPSBhdG9iKGI2NERhdGEpO1xuICAgIGJ5dGVBcnJheXMgPSBbXTtcbiAgICBvZmZzZXQgPSAwO1xuICAgIHdoaWxlIChvZmZzZXQgPCBieXRlQ2hhcmFjdGVycy5sZW5ndGgpIHtcbiAgICAgIHNsaWNlID0gYnl0ZUNoYXJhY3RlcnMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzbGljZVNpemUpO1xuICAgICAgYnl0ZU51bWJlcnMgPSBuZXcgQXJyYXkoc2xpY2UubGVuZ3RoKTtcbiAgICAgIGkgPSAwO1xuICAgICAgd2hpbGUgKGkgPCBzbGljZS5sZW5ndGgpIHtcbiAgICAgICAgYnl0ZU51bWJlcnNbaV0gPSBzbGljZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBieXRlQXJyYXkgPSBuZXcgVWludDhBcnJheShieXRlTnVtYmVycyk7XG4gICAgICBieXRlQXJyYXlzLnB1c2goYnl0ZUFycmF5KTtcbiAgICAgIG9mZnNldCArPSBzbGljZVNpemU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQmxvYihieXRlQXJyYXlzLCB7XG4gICAgICB0eXBlOiBjb250ZW50VHlwZVxuICAgIH0pO1xuICB9O1xuXG4gIGNyZWF0ZUhpZGRlbkVkaXRhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpLmF0dHIoJ2NvbnRlbnRlZGl0YWJsZScsIHRydWUpLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSkuYXR0cigndGFiaW5kZXgnLCAtMSkuY3NzKHtcbiAgICAgIHdpZHRoOiAxLFxuICAgICAgaGVpZ2h0OiAxLFxuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICBsZWZ0OiAtMTAwLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgb3BhY2l0eTogMWUtMTdcbiAgICB9KTtcbiAgfTtcblxuICBpc0ZvY3VzYWJsZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGhhc1RhYmluZGV4KSB7XG4gICAgdmFyIGZpZWxkc2V0LCBmb2N1c2FibGVJZlZpc2libGUsIGltZywgbWFwLCBtYXBOYW1lLCBub2RlTmFtZTtcbiAgICBtYXAgPSB2b2lkIDA7XG4gICAgbWFwTmFtZSA9IHZvaWQgMDtcbiAgICBpbWcgPSB2b2lkIDA7XG4gICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gdm9pZCAwO1xuICAgIGZpZWxkc2V0ID0gdm9pZCAwO1xuICAgIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICgnYXJlYScgPT09IG5vZGVOYW1lKSB7XG4gICAgICBtYXAgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICBtYXBOYW1lID0gbWFwLm5hbWU7XG4gICAgICBpZiAoIWVsZW1lbnQuaHJlZiB8fCAhbWFwTmFtZSB8fCBtYXAubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ21hcCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaW1nID0gJCgnaW1nW3VzZW1hcD1cXCcjJyArIG1hcE5hbWUgKyAnXFwnXScpO1xuICAgICAgcmV0dXJuIGltZy5sZW5ndGggPiAwICYmIGltZy5pcygnOnZpc2libGUnKTtcbiAgICB9XG4gICAgaWYgKC9eKGlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvLnRlc3Qobm9kZU5hbWUpKSB7XG4gICAgICBmb2N1c2FibGVJZlZpc2libGUgPSAhZWxlbWVudC5kaXNhYmxlZDtcbiAgICAgIGlmIChmb2N1c2FibGVJZlZpc2libGUpIHtcbiAgICAgICAgZmllbGRzZXQgPSAkKGVsZW1lbnQpLmNsb3Nlc3QoJ2ZpZWxkc2V0JylbMF07XG4gICAgICAgIGlmIChmaWVsZHNldCkge1xuICAgICAgICAgIGZvY3VzYWJsZUlmVmlzaWJsZSA9ICFmaWVsZHNldC5kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoJ2EnID09PSBub2RlTmFtZSkge1xuICAgICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gZWxlbWVudC5ocmVmIHx8IGhhc1RhYmluZGV4O1xuICAgIH0gZWxzZSB7XG4gICAgICBmb2N1c2FibGVJZlZpc2libGUgPSBoYXNUYWJpbmRleDtcbiAgICB9XG4gICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gZm9jdXNhYmxlSWZWaXNpYmxlIHx8ICQoZWxlbWVudCkuaXMoJ1tjb250ZW50ZWRpdGFibGVdJyk7XG4gICAgcmV0dXJuIGZvY3VzYWJsZUlmVmlzaWJsZSAmJiAkKGVsZW1lbnQpLmlzKCc6dmlzaWJsZScpO1xuICB9O1xuXG4gIFBhc3RlID0gKGZ1bmN0aW9uKCkge1xuICAgIFBhc3RlLnByb3RvdHlwZS5fdGFyZ2V0ID0gbnVsbDtcblxuICAgIFBhc3RlLnByb3RvdHlwZS5fY29udGFpbmVyID0gbnVsbDtcblxuICAgIFBhc3RlLm1vdW50Tm9uSW5wdXRhYmxlID0gZnVuY3Rpb24obm9uSW5wdXRhYmxlKSB7XG4gICAgICB2YXIgcGFzdGU7XG4gICAgICBwYXN0ZSA9IG5ldyBQYXN0ZShjcmVhdGVIaWRkZW5FZGl0YWJsZSgpLmFwcGVuZFRvKG5vbklucHV0YWJsZSksIG5vbklucHV0YWJsZSk7XG4gICAgICAkKG5vbklucHV0YWJsZSkub24oJ2NsaWNrJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldikge1xuICAgICAgICAgIGlmICghKGlzRm9jdXNhYmxlKGV2LnRhcmdldCwgZmFsc2UpIHx8IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhc3RlLl9jb250YWluZXIuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICBwYXN0ZS5fY29udGFpbmVyLm9uKCdmb2N1cycsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQobm9uSW5wdXRhYmxlKS5hZGRDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHJldHVybiBwYXN0ZS5fY29udGFpbmVyLm9uKCdibHVyJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChub25JbnB1dGFibGUpLnJlbW92ZUNsYXNzKCdwYXN0YWJsZS1mb2N1cycpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH07XG5cbiAgICBQYXN0ZS5tb3VudFRleHRhcmVhID0gZnVuY3Rpb24odGV4dGFyZWEpIHtcbiAgICAgIHZhciBjdGxEb3duLCBwYXN0ZSwgcmVmLCByZWYxO1xuICAgICAgaWYgKCh0eXBlb2YgRGF0YVRyYW5zZmVyICE9PSBcInVuZGVmaW5lZFwiICYmIERhdGFUcmFuc2ZlciAhPT0gbnVsbCA/IERhdGFUcmFuc2Zlci5wcm90b3R5cGUgOiB2b2lkIDApICYmICgocmVmID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcikgIT0gbnVsbCA/IChyZWYxID0gcmVmLmNhbGwoT2JqZWN0LCBEYXRhVHJhbnNmZXIucHJvdG90eXBlLCAnaXRlbXMnKSkgIT0gbnVsbCA/IHJlZjEuZ2V0IDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3VudENvbnRlbnRlZGl0YWJsZSh0ZXh0YXJlYSk7XG4gICAgICB9XG4gICAgICBwYXN0ZSA9IG5ldyBQYXN0ZShjcmVhdGVIaWRkZW5FZGl0YWJsZSgpLmluc2VydEJlZm9yZSh0ZXh0YXJlYSksIHRleHRhcmVhKTtcbiAgICAgIGN0bERvd24gPSBmYWxzZTtcbiAgICAgICQodGV4dGFyZWEpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIHZhciByZWYyO1xuICAgICAgICBpZiAoKHJlZjIgPSBldi5rZXlDb2RlKSA9PT0gMTcgfHwgcmVmMiA9PT0gMjI0KSB7XG4gICAgICAgICAgY3RsRG93biA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSk7XG4gICAgICAkKHRleHRhcmVhKS5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIHZhciByZWYyO1xuICAgICAgICBpZiAoKHJlZjIgPSBldi5rZXlDb2RlKSA9PT0gMTcgfHwgcmVmMiA9PT0gMjI0KSB7XG4gICAgICAgICAgY3RsRG93biA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChldi5jdHJsS2V5ICE9IG51bGwpICYmIChldi5tZXRhS2V5ICE9IG51bGwpKSB7XG4gICAgICAgICAgY3RsRG93biA9IGV2LmN0cmxLZXkgfHwgZXYubWV0YUtleTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3RsRG93biAmJiBldi5rZXlDb2RlID09PSA4Nikge1xuICAgICAgICAgIHBhc3RlLl90ZXh0YXJlYV9mb2N1c19zdG9sZW4gPSB0cnVlO1xuICAgICAgICAgIHBhc3RlLl9jb250YWluZXIuZm9jdXMoKTtcbiAgICAgICAgICBwYXN0ZS5fcGFzdGVfZXZlbnRfZmlyZWQgPSBmYWxzZTtcbiAgICAgICAgICBzZXRUaW1lb3V0KChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoIXBhc3RlLl9wYXN0ZV9ldmVudF9maXJlZCkge1xuICAgICAgICAgICAgICAgICQodGV4dGFyZWEpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhc3RlLl90ZXh0YXJlYV9mb2N1c19zdG9sZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KSh0aGlzKSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9KTtcbiAgICAgICQodGV4dGFyZWEpLm9uKCdwYXN0ZScsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7fTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgICQodGV4dGFyZWEpLm9uKCdmb2N1cycsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFwYXN0ZS5fdGV4dGFyZWFfZm9jdXNfc3RvbGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gJCh0ZXh0YXJlYSkuYWRkQ2xhc3MoJ3Bhc3RhYmxlLWZvY3VzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgJCh0ZXh0YXJlYSkub24oJ2JsdXInLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghcGFzdGUuX3RleHRhcmVhX2ZvY3VzX3N0b2xlbikge1xuICAgICAgICAgICAgcmV0dXJuICQodGV4dGFyZWEpLnJlbW92ZUNsYXNzKCdwYXN0YWJsZS1mb2N1cycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgICQocGFzdGUuX3RhcmdldCkub24oJ19wYXN0ZUNoZWNrQ29udGFpbmVyRG9uZScsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJCh0ZXh0YXJlYSkuZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gcGFzdGUuX3RleHRhcmVhX2ZvY3VzX3N0b2xlbiA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgcmV0dXJuICQocGFzdGUuX3RhcmdldCkub24oJ3Bhc3RlVGV4dCcsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXYsIGRhdGEpIHtcbiAgICAgICAgICB2YXIgY29udGVudCwgY3VyRW5kLCBjdXJTdGFydDtcbiAgICAgICAgICBjdXJTdGFydCA9ICQodGV4dGFyZWEpLnByb3AoJ3NlbGVjdGlvblN0YXJ0Jyk7XG4gICAgICAgICAgY3VyRW5kID0gJCh0ZXh0YXJlYSkucHJvcCgnc2VsZWN0aW9uRW5kJyk7XG4gICAgICAgICAgY29udGVudCA9ICQodGV4dGFyZWEpLnZhbCgpO1xuICAgICAgICAgICQodGV4dGFyZWEpLnZhbChcIlwiICsgY29udGVudC5zbGljZSgwLCBjdXJTdGFydCkgKyBkYXRhLnRleHQgKyBjb250ZW50LnNsaWNlKGN1ckVuZCkpO1xuICAgICAgICAgICQodGV4dGFyZWEpWzBdLnNldFNlbGVjdGlvblJhbmdlKGN1clN0YXJ0ICsgZGF0YS50ZXh0Lmxlbmd0aCwgY3VyU3RhcnQgKyBkYXRhLnRleHQubGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4gJCh0ZXh0YXJlYSkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfTtcblxuICAgIFBhc3RlLm1vdW50Q29udGVudGVkaXRhYmxlID0gZnVuY3Rpb24oY29udGVudGVkaXRhYmxlKSB7XG4gICAgICB2YXIgcGFzdGU7XG4gICAgICBwYXN0ZSA9IG5ldyBQYXN0ZShjb250ZW50ZWRpdGFibGUsIGNvbnRlbnRlZGl0YWJsZSk7XG4gICAgICAkKGNvbnRlbnRlZGl0YWJsZSkub24oJ2ZvY3VzJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChjb250ZW50ZWRpdGFibGUpLmFkZENsYXNzKCdwYXN0YWJsZS1mb2N1cycpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgcmV0dXJuICQoY29udGVudGVkaXRhYmxlKS5vbignYmx1cicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQoY29udGVudGVkaXRhYmxlKS5yZW1vdmVDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gUGFzdGUoX2NvbnRhaW5lciwgX3RhcmdldCkge1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gX2NvbnRhaW5lcjtcbiAgICAgIHRoaXMuX3RhcmdldCA9IF90YXJnZXQ7XG4gICAgICB0aGlzLl9jb250YWluZXIgPSAkKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICB0aGlzLl90YXJnZXQgPSAkKHRoaXMuX3RhcmdldCkuYWRkQ2xhc3MoJ3Bhc3RhYmxlJyk7XG4gICAgICB0aGlzLl9jb250YWluZXIub24oJ3Bhc3RlJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldikge1xuICAgICAgICAgIHZhciBfaSwgY2xpcGJvYXJkRGF0YSwgZmlsZSwgZmlsZVR5cGUsIGl0ZW0sIGosIGssIGwsIGxlbiwgbGVuMSwgbGVuMiwgcGFzdGVkRmlsZW5hbWUsIHJlYWRlciwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCBzdHJpbmdJc0ZpbGVuYW1lLCB0ZXh0O1xuICAgICAgICAgIF90aGlzLm9yaWdpbmFsRXZlbnQgPSAoZXYub3JpZ2luYWxFdmVudCAhPT0gbnVsbCA/IGV2Lm9yaWdpbmFsRXZlbnQgOiBudWxsKTtcbiAgICAgICAgICBfdGhpcy5fcGFzdGVfZXZlbnRfZmlyZWQgPSB0cnVlO1xuICAgICAgICAgIGlmICgoKHJlZiA9IGV2Lm9yaWdpbmFsRXZlbnQpICE9IG51bGwgPyByZWYuY2xpcGJvYXJkRGF0YSA6IHZvaWQgMCkgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2xpcGJvYXJkRGF0YSA9IGV2Lm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YTtcbiAgICAgICAgICAgIGlmIChjbGlwYm9hcmREYXRhLml0ZW1zKSB7XG4gICAgICAgICAgICAgIHBhc3RlZEZpbGVuYW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgX3RoaXMub3JpZ2luYWxFdmVudC5wYXN0ZWRUeXBlcyA9IFtdO1xuICAgICAgICAgICAgICByZWYxID0gY2xpcGJvYXJkRGF0YS5pdGVtcztcbiAgICAgICAgICAgICAgZm9yIChqID0gMCwgbGVuID0gcmVmMS5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSByZWYxW2pdO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUubWF0Y2goL150ZXh0XFwvKHBsYWlufHJ0ZnxodG1sKS8pKSB7XG4gICAgICAgICAgICAgICAgICBfdGhpcy5vcmlnaW5hbEV2ZW50LnBhc3RlZFR5cGVzLnB1c2goaXRlbS50eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVmMiA9IGNsaXBib2FyZERhdGEuaXRlbXM7XG4gICAgICAgICAgICAgIGZvciAoX2kgPSBrID0gMCwgbGVuMSA9IHJlZjIubGVuZ3RoOyBrIDwgbGVuMTsgX2kgPSArK2spIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gcmVmMltfaV07XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZS5tYXRjaCgvXmltYWdlXFwvLykpIHtcbiAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9oYW5kbGVJbWFnZShldmVudC50YXJnZXQucmVzdWx0LCBfdGhpcy5vcmlnaW5hbEV2ZW50LCBwYXN0ZWRGaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaXRlbS5nZXRBc0ZpbGUoKSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3RleHQvcGxhaW4nKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoX2kgPT09IDAgJiYgY2xpcGJvYXJkRGF0YS5pdGVtcy5sZW5ndGggPiAxICYmIGNsaXBib2FyZERhdGEuaXRlbXNbMV0udHlwZS5tYXRjaCgvXmltYWdlXFwvLykpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nSXNGaWxlbmFtZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlID0gY2xpcGJvYXJkRGF0YS5pdGVtc1sxXS50eXBlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaXRlbS5nZXRBc1N0cmluZyhmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ0lzRmlsZW5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwYXN0ZWRGaWxlbmFtZSA9IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZVRleHQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0ZpbGVuYW1lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGU6IGZpbGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogX3RoaXMub3JpZ2luYWxFdmVudFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlVGV4dCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IF90aGlzLm9yaWdpbmFsRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0L3J0ZicpIHtcbiAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0QXNTdHJpbmcoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlVGV4dFJpY2gnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IF90aGlzLm9yaWdpbmFsRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3RleHQvaHRtbCcpIHtcbiAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0QXNTdHJpbmcoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlVGV4dEh0bWwnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IF90aGlzLm9yaWdpbmFsRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICgtMSAhPT0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChjbGlwYm9hcmREYXRhLnR5cGVzLCAndGV4dC9wbGFpbicpKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGNsaXBib2FyZERhdGEuZ2V0RGF0YSgnVGV4dCcpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZVRleHQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IF90aGlzLm9yaWdpbmFsRXZlbnRcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF90aGlzLl9jaGVja0ltYWdlc0luQ29udGFpbmVyKGZ1bmN0aW9uKHNyYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5faGFuZGxlSW1hZ2Uoc3JjLCBfdGhpcy5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjbGlwYm9hcmREYXRhID0gd2luZG93LmNsaXBib2FyZERhdGEpIHtcbiAgICAgICAgICAgIGlmICgocmVmMyA9ICh0ZXh0ID0gY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdUZXh0JykpKSAhPSBudWxsID8gcmVmMy5sZW5ndGggOiB2b2lkIDApIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlVGV4dCcsIHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBfdGhpcy5vcmlnaW5hbEV2ZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcignX3Bhc3RlQ2hlY2tDb250YWluZXJEb25lJyk7XG4gICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVmNCA9IGNsaXBib2FyZERhdGEuZmlsZXM7XG4gICAgICAgICAgICAgIGZvciAobCA9IDAsIGxlbjIgPSByZWY0Lmxlbmd0aDsgbCA8IGxlbjI7IGwrKykge1xuICAgICAgICAgICAgICAgIGZpbGUgPSByZWY0W2xdO1xuICAgICAgICAgICAgICAgIF90aGlzLl9oYW5kbGVJbWFnZShVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpLCBfdGhpcy5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfdGhpcy5fY2hlY2tJbWFnZXNJbkNvbnRhaW5lcihmdW5jdGlvbihzcmMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX2hhbmRsZUltYWdlKHNyYywgX3RoaXMub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9XG5cbiAgICBQYXN0ZS5wcm90b3R5cGUuX2hhbmRsZUltYWdlID0gZnVuY3Rpb24oc3JjLCBlLCBuYW1lKSB7XG4gICAgICB2YXIgbG9hZGVyO1xuICAgICAgaWYgKHNyYy5tYXRjaCgvXndlYmtpdFxcLWZha2VcXC11cmxcXDpcXC9cXC8vKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlSW1hZ2VFcnJvcicsIHtcbiAgICAgICAgICBtZXNzYWdlOiBcIllvdSBhcmUgdHJ5aW5nIHRvIHBhc3RlIGFuIGltYWdlIGluIFNhZmFyaSwgaG93ZXZlciB3ZSBhcmUgdW5hYmxlIHRvIHJldGlldmUgaXRzIGRhdGEuXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVJbWFnZVN0YXJ0Jyk7XG4gICAgICBsb2FkZXIgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGxvYWRlci5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCI7XG4gICAgICBsb2FkZXIub25sb2FkID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYmxvYiwgY2FudmFzLCBjdHgsIGRhdGFVUkw7XG4gICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gbG9hZGVyLndpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBsb2FkZXIuaGVpZ2h0O1xuICAgICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgIGN0eC5kcmF3SW1hZ2UobG9hZGVyLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgIGRhdGFVUkwgPSBudWxsO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhVVJMID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XG4gICAgICAgICAgICBibG9iID0gZGF0YVVSTHRvQmxvYihkYXRhVVJMKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICAgICAgICBpZiAoZGF0YVVSTCkge1xuICAgICAgICAgICAgX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZUltYWdlJywge1xuICAgICAgICAgICAgICBibG9iOiBibG9iLFxuICAgICAgICAgICAgICBkYXRhVVJMOiBkYXRhVVJMLFxuICAgICAgICAgICAgICB3aWR0aDogbG9hZGVyLndpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQ6IGxvYWRlci5oZWlnaHQsXG4gICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZUltYWdlRW5kJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKTtcbiAgICAgIGxvYWRlci5vbmVycm9yID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlSW1hZ2VFcnJvcicsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIGdldCBpbWFnZSBmcm9tOiBcIiArIHNyYyxcbiAgICAgICAgICAgIHVybDogc3JjXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVJbWFnZUVuZCcpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgICByZXR1cm4gbG9hZGVyLnNyYyA9IHNyYztcbiAgICB9O1xuXG4gICAgUGFzdGUucHJvdG90eXBlLl9jaGVja0ltYWdlc0luQ29udGFpbmVyID0gZnVuY3Rpb24oY2IpIHtcbiAgICAgIHZhciBpbWcsIGosIGxlbiwgcmVmLCB0aW1lc3BhbjtcbiAgICAgIHRpbWVzcGFuID0gTWF0aC5mbG9vcigxMDAwICogTWF0aC5yYW5kb20oKSk7XG4gICAgICByZWYgPSB0aGlzLl9jb250YWluZXIuZmluZCgnaW1nJyk7XG4gICAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgaW1nID0gcmVmW2pdO1xuICAgICAgICBpbWdbXCJfcGFzdGVfbWFya2VkX1wiICsgdGltZXNwYW5dID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGssIGxlbjEsIHJlZjE7XG4gICAgICAgICAgcmVmMSA9IF90aGlzLl9jb250YWluZXIuZmluZCgnaW1nJyk7XG4gICAgICAgICAgZm9yIChrID0gMCwgbGVuMSA9IHJlZjEubGVuZ3RoOyBrIDwgbGVuMTsgaysrKSB7XG4gICAgICAgICAgICBpbWcgPSByZWYxW2tdO1xuICAgICAgICAgICAgaWYgKCFpbWdbXCJfcGFzdGVfbWFya2VkX1wiICsgdGltZXNwYW5dKSB7XG4gICAgICAgICAgICAgIGNiKGltZy5zcmMpO1xuICAgICAgICAgICAgICAkKGltZykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ19wYXN0ZUNoZWNrQ29udGFpbmVyRG9uZScpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyksIDEpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFzdGU7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsInJlcXVpcmUoJ3Bhc3RlLmpzL3Bhc3RlLmpzJyk7XG5yZXF1aXJlKCd0aGUtcGFzdGUtYmFzZS5qcycpO1xucmVxdWlyZSgnbWVkaWEtdmlldy5qcycpO1xucmVxdWlyZSgndGhlLXBhc3RlLmpzJyk7XG4iLCIoZnVuY3Rpb24oJCx3aW5kb3csbyl7XG5cdHZhciB0aGVwYXN0ZSA9IHdwLm1lZGlhLnRoZXBhc3RlLFxuXHRcdEJ1dHRvbiA9IHdwLm1lZGlhLnZpZXcuQnV0dG9uLFxuXHRcdE1vZGFsICA9IHdwLm1lZGlhLnZpZXcuTW9kYWwsXG5cdFx0bDEwbiAgID0gdGhlcGFzdGUubDEwbjtcblxuXG5cdHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlVXBsb2FkZXIgPSB3cC5tZWRpYS5WaWV3LmV4dGVuZCh7XG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCd0aGVwYXN0ZS11cGxvYWRlcicpLFxuXHRcdGNsYXNzTmFtZTogJ3RoZXBhc3RlLXVwbG9hZGVyJyxcblx0XHRjb250cm9sbGVyOm51bGwsXG5cdFx0aW1hZ2UgOiBudWxsLFxuXHRcdCRkaXNjYXJkQnRuIDogbnVsbCxcblx0XHQkdXBsb2FkQnRuIDogbnVsbCxcblxuXHRcdHVwbG9hZGVyIDogbnVsbCxcblxuXHRcdGV2ZW50cyA6IHtcblx0XHRcdCdjbGljayBbZGF0YS1hY3Rpb249XCJ1cGxvYWRcIl0nXHQ6ICd1cGxvYWRJbWFnZScsXG5cdFx0XHQnY2xpY2sgW2RhdGEtYWN0aW9uPVwiZGlzY2FyZFwiXSdcdDogJ2Rpc2NhcmRJbWFnZScsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplIDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRfLmRlZmF1bHRzKCB0aGlzLm9wdGlvbnMsIHtcblx0XHRcdFx0ZGVmYXVsdEZpbGVOYW1lIDogbDEwbi5pbWFnZVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdGluc3RyID0gbmV3IHdwLm1lZGlhLlZpZXcoe1xuXHRcdFx0XHR0YWdOYW1lICAgIDogJ2RpdicsXG5cdFx0XHRcdGNsYXNzTmFtZSAgOiAnaW5zdHJ1bWVudHMnLFxuXHRcdFx0XHRjb250cm9sbGVyIDogdGhpcy5jb250cm9sbGVyXG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy51cGxvYWRlciA9IHRoaXMub3B0aW9ucy51cGxvZGVyO1xuXHRcdH0sXG5cdFx0c2V0SW1hZ2VEYXRhIDogZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0XHR2YXIgY29udGFpbmVyID0gdGhpcy4kaW1hZ2VDb250YWluZXIuaHRtbCgnJykuZ2V0KDApLFxuXHRcdFx0XHRzZWxmID0gdGhpcyxcblx0XHRcdFx0Zm9ybWF0ID0gZGF0YS5tYXRjaCgvZGF0YTooaW1hZ2VcXC8oXFx3KykpOy8pWzFdO1xuXG5cdFx0XHRpZiAoICEgdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLmNvbnZlcnRbZm9ybWF0XSApIHtcblx0XHRcdFx0Zm9ybWF0ID0gdGhpcy5vcHRpb25zLmRlZmF1bHRGaWxlRm9ybWF0O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHRoaXMuaW1hZ2UgKSB7XG5cdFx0XHRcdHRoaXMuaW1hZ2UuZGVzdHJveSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmltYWdlID0gbmV3IG8uSW1hZ2UoKTtcblx0XHRcdHRoaXMuaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBvcHRzID0gc2VsZi5nZXRVcGxvYWRlcigpLmdldE9wdGlvbigncmVzaXplJyksXG5cdFx0XHRcdFx0c2NhbGUgPSBNYXRoLm1heCggb3B0cy53aWR0aCAvIHRoaXMud2lkdGgsIG9wdHMuaGVpZ2h0IC8gdGhpcy5oZWlnaHQgKTtcblxuXHRcdFx0XHQhIW9wdHMgJiYgKHNjYWxlIDwgMSkgJiYgdGhpcy5kb3duc2l6ZSggdGhpcy53aWR0aCpzY2FsZSwgdGhpcy5oZWlnaHQqc2NhbGUgKTtcblxuXHRcdFx0XHR0aGlzLmVtYmVkKCBjb250YWluZXIgKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5pbWFnZS5sb2FkKCBkYXRhICk7XG5cdFx0XHRpZiAoIHRoaXMuJGltYWdlQ29udGFpbmVyICkge1xuXHRcdFx0XHR0aGlzLiRpbWFnZUNvbnRhaW5lci5hcHBlbmQodGhpcy5pbWFnZSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLiQoJ1tkYXRhLXNldHRpbmc9XCJmb3JtYXRcIl0gaW5wdXRbdmFsdWU9XCInK2Zvcm1hdCsnXCJdJykucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG5cblxuXHRcdFx0dGhpcy5kaXNhYmxlZChmYWxzZSk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHJlbmRlciA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0d3AubWVkaWEuVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuJGltYWdlQ29udGFpbmVyID0gdGhpcy4kKCcuaW1hZ2UtY29udGFpbmVyJyk7XG5cdFx0XHR0aGlzLiRkaXNjYXJkQnRuID0gdGhpcy4kKCdbZGF0YS1hY3Rpb249XCJkaXNjYXJkXCJdJyk7XG5cdFx0XHR0aGlzLiR1cGxvYWRCdG4gPSB0aGlzLiQoJ1tkYXRhLWFjdGlvbj1cInVwbG9hZFwiXScpO1xuXHRcdFx0dGhpcy4kKCdbZGF0YS1zZXR0aW5nPVwidGl0bGVcIl0nKS52YWwoIHRoaXMub3B0aW9ucy5kZWZhdWx0RmlsZU5hbWUgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0ZGlzY2FyZEltYWdlIDogZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMudHJpZ2dlciggJ2FjdGlvbjpkaXNjYXJkOmRhdGFpbWFnZScgLCB0aGlzICk7XG5cdFx0XHR0aGlzLnVuYmluZFVwbG9hZGVyRXZlbnRzKCk7XG5cdFx0fSxcblx0XHR1cGxvYWRJbWFnZSA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgdHlwZSA9IHRoaXMuJCgnW2RhdGEtc2V0dGluZz1cImZvcm1hdFwiXSA6Y2hlY2tlZCcpLnZhbCgpLFxuXHRcdFx0XHRzdWZmaXggPSB0aGVwYXN0ZS5vcHRpb25zLm1pbWVfdHlwZXMuY29udmVydFsgdHlwZSBdLFxuXHRcdFx0XHRuYW1lID0gdGhpcy4kKCdpbnB1dFtkYXRhLXNldHRpbmc9XCJ0aXRsZVwiXScpLnZhbCgpICsgJy4nICsgc3VmZml4LFxuXHRcdFx0XHRibG9iID0gdGhpcy5pbWFnZS5nZXRBc0Jsb2IoIHR5cGUsIHRoZXBhc3RlLm9wdGlvbnMuanBlZ19xdWFsaXR5ICk7XG5cblx0XHRcdHRoaXMuYmluZFVwbG9hZGVyRXZlbnRzKCk7XG5cblx0XHRcdGJsb2IuZGV0YWNoKCBibG9iLmdldFNvdXJjZSgpICk7XG5cdFx0XHRibG9iLm5hbWUgPSBuYW1lO1xuXHRcdFx0YmxvYi50eXBlID0gdHlwZTtcblx0XHRcdHRoaXMuZ2V0VXBsb2FkZXIoKS5hZGRGaWxlKCBibG9iICwgbmFtZSApO1xuXG5cdFx0XHR0aGlzLmRpc2FibGVkKCB0cnVlICk7XG5cblx0XHRcdHRoaXMudHJpZ2dlciggJ2FjdGlvbjp1cGxvYWQ6ZGF0YWltYWdlJyAsIHRoaXMgKTtcblx0XHR9LFxuXHRcdHNob3c6ZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMuJGVsLnNob3coKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0aGlkZTpmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy4kZWwuaGlkZSgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRkaXNhYmxlZCA6IGZ1bmN0aW9uKCBkaXNhYmxlZCApIHtcblx0XHRcdHRoaXMuJGRpc2NhcmRCdG4ucHJvcCggJ2Rpc2FibGVkJywgZGlzYWJsZWQgKTtcblx0XHRcdHRoaXMuJHVwbG9hZEJ0bi5wcm9wKCAnZGlzYWJsZWQnLCBkaXNhYmxlZCApO1xuXHRcdH0sXG5cdFx0X3VwbG9hZFN1Y2Nlc3NIYW5kbGVyIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnRyaWdnZXIoICdhY3Rpb246dXBsb2FkZWQ6ZGF0YWltYWdlJyApO1xuXHRcdFx0dGhpcy5kaXNhYmxlZChmYWxzZSk7XG5cdFx0XHR0aGlzLnVuYmluZFVwbG9hZGVyRXZlbnRzKCk7XG5cdFx0fSxcblx0XHRfdXBsb2FkRXJyb3JIYW5kbGVyIDogZnVuY3Rpb24odXAsZXJyKSB7XG5cdFx0XHR0aGlzLnRyaWdnZXIoICdlcnJvcjp1cGxvYWRlZDpkYXRhaW1hZ2UnLCBlcnIgKTtcblx0XHRcdHRoaXMuZGlzYWJsZWQoZmFsc2UpO1xuXHRcdFx0dGhpcy51bmJpbmRVcGxvYWRlckV2ZW50cygpO1xuXHRcdH0sXG5cdFx0YmluZFVwbG9hZGVyRXZlbnRzIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmdldFVwbG9hZGVyKCkuYmluZCggJ0ZpbGVVcGxvYWRlZCcsXHR0aGlzLl91cGxvYWRTdWNjZXNzSGFuZGxlcixcdHRoaXMgKTtcblx0XHRcdHRoaXMuZ2V0VXBsb2FkZXIoKS5iaW5kKCAnRXJyb3InLFx0XHRcdHRoaXMuX3VwbG9hZEVycm9ySGFuZGxlcixcdHRoaXMgKTtcblx0XHR9LFxuXHRcdHVuYmluZFVwbG9hZGVyRXZlbnRzIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmdldFVwbG9hZGVyKCkudW5iaW5kKCAnRmlsZVVwbG9hZGVkJyxcdHRoaXMuX3VwbG9hZFN1Y2Nlc3NIYW5kbGVyLFx0dGhpcyApO1xuXHRcdFx0dGhpcy5nZXRVcGxvYWRlcigpLnVuYmluZCggJ0Vycm9yJyxcdFx0XHR0aGlzLl91cGxvYWRFcnJvckhhbmRsZXIsXHR0aGlzICk7XG5cdFx0fSxcblx0XHRnZXRVcGxvYWRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jb250cm9sbGVyLnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyO1xuXHRcdH1cblx0fSk7XG5cblxuXHR3cC5tZWRpYS50aGVwYXN0ZS52aWV3LlBhc3RlYm9hcmQgPSB3cC5tZWRpYS5WaWV3LmV4dGVuZCh7XG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCd0aGVwYXN0ZS1wYXN0ZWJvYXJkJyksXG5cdFx0Y2xhc3NOYW1lOiAndGhlcGFzdGUtcGFzdGVib2FyZCcsXG5cdFx0Y29udHJvbGxlcjpudWxsLFxuXHRcdGFjdGlvbjoncGFzdGUnLFxuXHRcdCRwYXN0ZWJvYXJkIDogbnVsbCxcblxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR3cC5tZWRpYS5WaWV3LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0Y29uc29sZS5sb2coIHRoaXMuJCggJy5pbmplY3RvcicgKSk7XG5cdFx0XHR0aGlzLiRwYXN0ZWJvYXJkID0gdGhpcy4kKCAnLmluamVjdG9yJyApLnBhc3RhYmxlQ29udGVudGVkaXRhYmxlKCk7XG5cdFx0XHR0aGlzLiRtZXNzYWdlID0gdGhpcy4kKCAnLm1lc3NhZ2UnICk7XG5cdFx0XHR0aGlzLiRwYXN0ZWJvYXJkLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHNlbGYuc2hvd19tZXNzYWdlKCcnKTtcblx0XHRcdH0gKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c3RhcnQgOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0Y2xpcGJvYXJkSGFzSW1hZ2U7XG5cblx0XHRcdHRoaXMuaW1hZ2VQYXN0ZWQgPSBmYWxzZTtcblxuXHRcdFx0dGhpcy4kcGFzdGVib2FyZFxuXHRcdFx0XHQub24oJ3Bhc3RlJyxmdW5jdGlvbihlKXtcblx0XHRcdFx0XHRjbGlwYm9hcmRIYXNJbWFnZSA9IHdwLm1lZGlhLnRoZXBhc3RlLmNsaXBib2FyZEhhc0ltYWdlKGUub3JpZ2luYWxFdmVudC5jbGlwYm9hcmREYXRhKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0Lm9uKCdwYXN0ZVRleHQnICwgZnVuY3Rpb24oIGUsIGRhdGEgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGNsaXBib2FyZEhhc0ltYWdlIHx8IHNlbGYuaW1hZ2VQYXN0ZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNlbGYuc2hvd19tZXNzYWdlKCBsMTBuLnBhc3RlX2Vycm9yX25vX2ltYWdlICk7XG5cdFx0XHRcdFx0JCggdGhpcyApLmh0bWwoJycpO1xuXHRcdFx0XHR9IClcblx0XHRcdFx0Lm9uKCdwYXN0ZUltYWdlJyAsIGZ1bmN0aW9uKCBlLCBkYXRhICkge1xuXHRcdFx0XHRcdGlmICggc2VsZi5pbWFnZVBhc3RlZCApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c2VsZi50cmlnZ2VyKCAnYWN0aW9uOmNyZWF0ZTpkYXRhaW1hZ2UnLCB0aGlzICwgZGF0YS5kYXRhVVJMICk7XG5cdFx0XHRcdFx0c2VsZi5pbWFnZVBhc3RlZCA9IHRydWU7XG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQub24oJ3Bhc3RlSW1hZ2VFcnJvcicgLCBmdW5jdGlvbiggZSwgZGF0YSApIHtcblx0XHRcdFx0XHRzZWxmLnNob3dfbWVzc2FnZSggbDEwbi5wYXN0ZV9lcnJvciApO1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5odG1sKCcnKTtcblx0XHRcdFx0fSApXG5cdFx0XHRcdDtcblxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRzZWxmLiRwYXN0ZWJvYXJkLmdldCgwKS5mb2N1cygpO1xuXHRcdFx0fSwxKTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzdG9wIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRwYXN0ZWJvYXJkXG5cdFx0XHRcdC5vZmYoJ3Bhc3RlSW1hZ2UnKVxuXHRcdFx0XHQub2ZmKCdwYXN0ZUltYWdlRXJyb3InKVxuXHRcdFx0XHQub2ZmKCdwYXN0ZVRleHQnKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c2hvdzpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGVsLnNob3coKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0aGlkZTpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGVsLmhpZGUoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c2hvd19tZXNzYWdlOmZ1bmN0aW9uKCBtc2cgKSB7XG5cdFx0XHR0aGlzLiRtZXNzYWdlLnRleHQoIG1zZyApO1xuXHRcdH1cblx0fSk7XG5cblx0d3AubWVkaWEudGhlcGFzdGUudmlldy5EYXRhU291cmNlSW1hZ2VHcmFiYmVyID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuLy9cdFx0dGFnTmFtZTogICAnZGl2Jyxcblx0XHR0ZW1wbGF0ZTogd3AudGVtcGxhdGUoJ3RoZXBhc3RlLWdyYWJiZXInKSxcblx0XHRjbGFzc05hbWUgOiAndGhlcGFzdGUtZ3JhYmJlcicsXG5cblx0XHRncmFiYmVyIDogbnVsbCxcblx0XHR1cGxvYWRlciA6IG51bGwsXG5cblx0XHRpbml0aWFsaXplIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcmV0ID0gd3AubWVkaWEuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdF8uZGVmYXVsdHMoIHRoaXMub3B0aW9ucywge1xuXHRcdFx0XHR3cHVwbG9hZGVyXHRcdDogbnVsbCxcblx0XHRcdFx0ZGVmYXVsdEZpbGVOYW1lXHQ6IGwxMG4ucGFzdGVkLFxuXHRcdFx0XHRkZWZhdWx0RmlsZUZvcm1hdCA6ICdpbWFnZS9wbmcnLFxuXHRcdFx0XHR0aXRsZVx0XHRcdDogbDEwbi5jb3B5X3Bhc3RlXG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5ncmFiYmVyICA9IG5ldyB0aGlzLm9wdGlvbnMuZ3JhYmJlciggeyBjb250cm9sbGVyXHQ6IHRoaXMuY29udHJvbGxlciB9ICk7XG5cblx0XHRcdHRoaXMudXBsb2FkZXIgPSBuZXcgd3AubWVkaWEudGhlcGFzdGUudmlldy5EYXRhU291cmNlSW1hZ2VVcGxvYWRlcigge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udHJvbGxlclx0XHRcdDogdGhpcy5jb250cm9sbGVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0dXBsb2Rlclx0XHRcdFx0OiB0aGlzLm9wdGlvbnMud3B1cGxvYWRlcixcblx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHRGaWxlTmFtZVx0XHQ6IHRoaXMub3B0aW9ucy5kZWZhdWx0RmlsZU5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0RmlsZUZvcm1hdFx0OiB0aGlzLm9wdGlvbnMuZGVmYXVsdEZpbGVGb3JtYXRcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdHRoaXMucmVuZGVyKCk7XG5cblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMuZ3JhYmJlciwgJ2FjdGlvbjpjcmVhdGU6ZGF0YWltYWdlJyxcdHRoaXMuaW1hZ2VDcmVhdGVkICk7XG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLnVwbG9hZGVyLCAnYWN0aW9uOmRpc2NhcmQ6ZGF0YWltYWdlJyxcdHRoaXMuc3RhcnRHcmFiYmluZyApO1xuXG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sXG5cdFx0cmVuZGVyOmZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5jb25zb2xlLmxvZyh3cC5tZWRpYS5WaWV3LnByb3RvdHlwZS5yZW5kZXIsdGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0d3AubWVkaWEuVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0dGhpcy4kKCcuY29udGVudCcpXG5cdFx0XHRcdC5hcHBlbmQoIHRoaXMuZ3JhYmJlci5yZW5kZXIoKS4kZWwgKVxuXHRcdFx0XHQuYXBwZW5kKCB0aGlzLnVwbG9hZGVyLnJlbmRlcigpLiRlbCApO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGltYWdlQ3JlYXRlZCA6IGZ1bmN0aW9uKCBncmFiYmVyICwgaW1hZ2VEYXRhICkge1xuXHRcdFx0dGhpcy5ncmFiYmVyLnN0b3AoKS5oaWRlKCk7XG5cdFx0XHR0aGlzLnVwbG9hZGVyLnNob3coKS5zZXRJbWFnZURhdGEoIGltYWdlRGF0YSApO1xuXHRcdH0sXG5cdFx0c3RhcnRHcmFiYmluZzpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMudXBsb2FkZXIuaGlkZSgpO1xuXHRcdFx0dGhpcy5ncmFiYmVyLnNob3coKS5zdGFydCgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzdG9wR3JhYmJpbmc6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmdyYWJiZXIuc3RvcCgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRnZXRBY3Rpb24gOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLmdyYWJiZXIuYWN0aW9uO1xuXHRcdH0sXG5cdFx0ZGlzbWlzczpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuZ3JhYmJlci5zdG9wKCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0pO1xuXG59KShqUXVlcnksd2luZG93LG1PeGllKTtcbiIsIihmdW5jdGlvbiggJCwgZXhwb3J0cywgbyApIHtcblxuXHR2YXIgaXNfY2hyb21lXHQ9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgPiAtMSxcblx0XHRjb3VudGVyID0gMCxcblx0XHR3b3JrZmxvdztcblxuXHR0aGVwYXN0ZSA9IGV4cG9ydHMudGhlcGFzdGUgPSAkLmV4dGVuZCgge1xuXHRcdHN1cHBvcnRzIDoge1xuXHRcdFx0cGFzdGU6ICggKCdwYXN0ZScgaW4gZG9jdW1lbnQpIHx8ICgnb25wYXN0ZScgaW4gZG9jdW1lbnQpIHx8IHR5cGVvZih3aW5kb3cub25wYXN0ZSkgPT09ICdvYmplY3QnIHx8ICggJ29ucGFzdGUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpICkgKSwgLy8gYnJvd3NlclxuXHRcdH0sXG5cdFx0dmlldzp7fSxcblxuXHRcdHVwbG9hZEltYWdlOiBmdW5jdGlvbiggaW1hZ2UsIGVkaXRvciwgdXBsb2FkX3BsYWNlaG9sZGVyICkge1xuXG5cdFx0XHR2YXIgaWQgPSAnX190aGVwYXN0ZV9ib3hfJysoY291bnRlcisrKSxcblx0XHRcdFx0JGNvbnRhaW5lciA9ICQoaW1hZ2UpXG5cdFx0XHRcdFx0LndyYXAoJzxkaXYgaWQ9XCInK2lkKydcIiBkYXRhLXByb2dyZXNzPVwiMFwiIGNsYXNzPVwidGhlcGFzdGUtaW1hZ2UtcGxhY2Vob2xkZXJcIiBjb250ZW50ZWRpdGFibGU9XCJmYWxzZVwiPjwvZGl2PicpXG5cdFx0XHRcdFx0LnBhcmVudCgpO1xuXG5cdFx0XHRcdC8vIHNldCAkY29udGFpbmVyIHNpemUgb25jZSBrbm93blxuXHRcdFx0XHRpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQkKCBlZGl0b3IuJCgnIycraWQpICkud2lkdGgoIHRoaXMubmF0dXJhbFdpZHRoICk7XG5cdFx0XHRcdFx0JCggZWRpdG9yLiQoJyMnK2lkKSApLmhlaWdodCggdGhpcy5uYXR1cmFsSGVpZ2h0ICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0dmFyIHhocixcblx0XHRcdFx0d29ya2Zsb3csXG5cdFx0XHRcdHNyYyA9IGltYWdlLnNyYyxcblx0XHRcdFx0c3ViID0gc3JjLnN1YnN0cigwLDUpLFxuXHRcdFx0XHR1cGxvYWQgPSBmdW5jdGlvbiggZGF0YVVSTCApe1xuXHRcdFx0XHRcdHZhciB0eXBlID0gZGF0YVVSTC5tYXRjaCgvXmRhdGFcXDooW15cXDtdKylcXDsvKVsxXSxcblx0XHRcdFx0XHRcdGZpbGUgPSBuZXcgby5CbG9iKCBudWxsLCB7IGRhdGE6IGRhdGFVUkwgfSApLFxuXHRcdFx0XHRcdFx0c3VmZml4ID0gdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLmNvbnZlcnRbIHR5cGUgXSxcblx0XHRcdFx0XHRcdHBvc3RuYW1lID0gJCgnI3Bvc3QgW25hbWU9XCJwb3N0X3RpdGxlXCJdI3RpdGxlJykudmFsKCk7XG5cdFx0XHRcdFx0aWYgKCAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHN1ZmZpeCApIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUudHJhY2UoICdXb25cXCd0IHVwbG9hZCwgYmFkIG1pbWUgdHlwZTogJyArIHR5cGUgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgcG9zdG5hbWUgKSB7XG5cdFx0XHRcdFx0XHRwb3N0bmFtZSA9IHBvc3RuYW1lLnJlcGxhY2UoLyhbXFxeXFwhXFw/PD46XCInXFwvXFx8XFwqwqddKS9nLCcnKS5yZXBsYWNlKC8gKy9nLCcgJyk7XG5cdFx0XHRcdFx0XHRmaWxlLm5hbWUgPSB0aGVwYXN0ZS5sMTBuLnBhc3RlZF9pbnRvICsgJyAnICsgcG9zdG5hbWUgKyAnLicgKyBzdWZmaXg7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGZpbGUubmFtZSA9IHRoZXBhc3RlLmwxMG4ucGFzdGVkICsgJy4nICsgc3VmZml4O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRmaWxlLnR5cGUgPSB0eXBlO1xuXG5cdFx0XHRcdFx0dmFyIGFkZEZpbGUgPSBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0d29ya2Zsb3cudXBsb2FkZXIudXBsb2FkZXIudXBsb2FkZXIuYWRkRmlsZSggZmlsZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoICEgd29ya2Zsb3cgKSB7XG5cdFx0XHRcdFx0XHR3b3JrZmxvdyA9IHdwLm1lZGlhLmVkaXRvci5vcGVuKCB3aW5kb3cud3BBY3RpdmVFZGl0b3IsIHtcblx0XHRcdFx0XHRcdFx0ZnJhbWU6XHRcdCdwb3N0Jyxcblx0XHRcdFx0XHRcdFx0c3RhdGU6XHRcdCdpbnNlcnQnLFxuXHRcdFx0XHRcdFx0XHR0aXRsZTpcdFx0dGhlcGFzdGUubDEwbi5jb3B5X3Bhc3RlLFxuXHRcdFx0XHRcdFx0XHRtdWx0aXBsZTpcdGZhbHNlXG5cdFx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHRcdHdvcmtmbG93LmNsb3NlKCk7XG5cblx0XHRcdFx0XHRcdGlmICggd29ya2Zsb3cudXBsb2FkZXIudXBsb2FkZXIgJiYgd29ya2Zsb3cudXBsb2FkZXIudXBsb2FkZXIucmVhZHkgKSB7XG5cdFx0XHRcdFx0XHRcdGFkZEZpbGUoKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHdvcmtmbG93Lm9uKCAndXBsb2FkZXI6cmVhZHknLCBhZGRGaWxlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHdvcmtmbG93LnN0YXRlKCkucmVzZXQoKTtcblx0XHRcdFx0XHRcdGFkZEZpbGUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0d29ya2Zsb3cudXBsb2FkZXIudXBsb2FkZXIudXBsb2FkZXIuYmluZCgnVXBsb2FkUHJvZ3Jlc3MnLGZ1bmN0aW9uKCBlICl7XG5cdFx0XHRcdFx0XHRlZGl0b3IuJCgnIycraWQpLmF0dHIoJ2RhdGEtcHJvZ3Jlc3MnLGUudG90YWwucGVyY2VudCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0d29ya2Zsb3cudXBsb2FkZXIudXBsb2FkZXIudXBsb2FkZXIuYmluZCgnRmlsZVVwbG9hZGVkJyxmdW5jdGlvbiggdXAsIGFyZ3MgKXtcblxuXHRcdFx0XHRcdFx0dmFyICRjb250YWluZXIgPSBlZGl0b3IuJCgnIycraWQpLFxuXHRcdFx0XHRcdFx0XHRpbWdIVE1MID0gJzxpbWcgY2xhc3M9XCJhbGlnbm5vbmUgd3AtaW1hZ2UtJythcmdzLmF0dGFjaG1lbnQuaWQrJyBzaXplLWZ1bGxcIiBzcmM9XCInK2FyZ3MuYXR0YWNobWVudC5jaGFuZ2VkLnVybCsnXCIgLz4nO1xuXG5cdFx0XHRcdFx0XHQvLyByZXBsYWNlIGltYWdlXG5cdFx0XHRcdFx0XHQkY29udGFpbmVyLnJlcGxhY2VXaXRoKCBpbWdIVE1MICk7XG5cblx0XHRcdFx0XHRcdC8vIHJlcGxhY2Ugb3RoZXIgaW5zdGFuY2VzXG5cdFx0XHRcdFx0XHRlZGl0b3IuJCgnaW1nW3NyYz1cIicrc3JjKydcIl0nKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdCQodGhpcykucmVwbGFjZVdpdGgoIGltZ0hUTUwgKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmJpbmQoJ0Vycm9yJyxmdW5jdGlvbiggdXAsIGFyZ3MgKXtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHVwLGFyZ3MpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRpZiAoIHN1YiA9PT0gJ2Jsb2I6JyApIHtcblxuXHRcdFx0XHR4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRcdFx0eGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcblx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0dmFyIHJlYWRlcjtcblx0XHRcdFx0XHRpZiAoIHhoci5yZWFkeVN0YXRlID09IDQgKSB7XG5cdFx0XHRcdFx0XHRyZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0XHRcdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR1cGxvYWQoIHJlYWRlci5yZXN1bHQgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKCBuZXcgQmxvYiggWyB4aHIucmVzcG9uc2UgXSwgeyB0eXBlOiAnaW1hZ2UvcG5nJyB9ICkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0eGhyLm9wZW4oICdHRVQnLCBzcmMgKTtcblx0XHRcdFx0eGhyLnNlbmQoIG51bGwgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggc3ViID09PSAnZGF0YTonICkge1xuXHRcdFx0XHR1cGxvYWQoIHNyYyApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuICRjb250YWluZXI7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqXHRAcmV0dXJuOiBudWxsfHRydWV8ZmFsc2Vcblx0XHQgKi9cblx0XHRjbGlwYm9hcmRIYXNJbWFnZTpmdW5jdGlvbiggY2xpcGJvYXJkRGF0YSApIHtcblx0XHRcdHZhciBoYXNJbWFnZSA9IGZhbHNlO1xuXHRcdFx0aWYgKCBjbGlwYm9hcmREYXRhLml0ZW1zICkge1xuXHRcdFx0XHQkLmVhY2goIGNsaXBib2FyZERhdGEuaXRlbXMsIGZ1bmN0aW9uKGksaXRlbSl7XG5cdFx0XHRcdFx0aWYgKCBpdGVtLnR5cGUgaW4gdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLnBhc3RlICkge1xuXHRcdFx0XHRcdFx0aGFzSW1hZ2UgPSB0cnVlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gaGFzSW1hZ2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggY2xpcGJvYXJkRGF0YS50eXBlcyApIHtcblx0XHRcdFx0JC5lYWNoKCB0aGVwYXN0ZS5vcHRpb25zLm1pbWVfdHlwZXMucGFzdGUsIGZ1bmN0aW9uKHR5cGUsZXh0KXtcblx0XHRcdFx0XHRpZiAoIGNsaXBib2FyZERhdGEudHlwZXMuaW5kZXhPZih0eXBlKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0aGFzSW1hZ2UgPSB0cnVlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gaGFzSW1hZ2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblxuXHR9LCB0aGVwYXN0ZSApO1xuXG59KSggalF1ZXJ5LCB3cC5tZWRpYSwgbU94aWUgKTtcbiIsIihmdW5jdGlvbigkLGV4cG9ydHMpe1xuXG5cdHZhciBjb3VudGVyICAgICAgPSAwLFxuXHRcdGwxMG4gPSB3cC5tZWRpYS50aGVwYXN0ZS5sMTBuO1xuXG5cdCQuZXh0ZW5kKCB3cC5VcGxvYWRlci5wcm90b3R5cGUsIHtcblx0XHRzdWNjZXNzIDogZnVuY3Rpb24oIGZpbGVfYXR0YWNobWVudCApe1xuXHRcdH1cblx0fSk7XG5cblxuXHQvKipcblx0ICpcdEludGVncmF0ZSBpbnRvIG1lZGlhIGxpYnJhcnkgbW9kYWxcblx0ICovXG5cdC8vIGFkZCBzdGF0ZXMgdG8gYnJvd3NlIHJvdXRlclxuXHRfLmV4dGVuZCggd3AubWVkaWEudmlldy5NZWRpYUZyYW1lLlNlbGVjdC5wcm90b3R5cGUsIHtcblx0XHRfcGFyZW50SW5pdGlhbGl6ZTogd3AubWVkaWEudmlldy5NZWRpYUZyYW1lLlNlbGVjdC5wcm90b3R5cGUuaW5pdGlhbGl6ZSxcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuX3BhcmVudEluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0dGhpcy5iaW5kUGFzdGVIYW5kbGVycygpO1xuXHRcdH0sXG5cdFx0X3BhcmVudEJyb3dzZVJvdXRlcjogd3AubWVkaWEudmlldy5NZWRpYUZyYW1lLlNlbGVjdC5wcm90b3R5cGUuYnJvd3NlUm91dGVyLFxuXHRcdGJyb3dzZVJvdXRlciA6IGZ1bmN0aW9uKCB2aWV3ICkge1xuXHRcdFx0dGhpcy5fcGFyZW50QnJvd3NlUm91dGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0aWYgKCB3cC5tZWRpYS50aGVwYXN0ZS5zdXBwb3J0cy5wYXN0ZSApIHtcblx0XHRcdFx0dmlldy5zZXQoe3Bhc3RlYm9hcmQ6e1xuXHRcdFx0XHRcdHRleHQ6ICAgICBsMTBuLmNvcHlfcGFzdGUsXG5cdFx0XHRcdFx0cHJpb3JpdHk6IDM1XG5cdFx0XHRcdH19KTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0YmluZFBhc3RlSGFuZGxlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHByZXZpb3VzQ29udGVudCA9IGZhbHNlLCBmcmFtZTtcblxuXHRcdFx0Ly8gZGlzbWlzcyBjb250ZW50IG9uIGNsb3NlXG5cdFx0XHR0aGlzLm9uKCAnY29udGVudDpyZW5kZXIgY2xvc2UnICwgZnVuY3Rpb24oY29udGVudCl7XG5cdFx0XHRcdGlmICggcHJldmlvdXNDb250ZW50ICYmICdmdW5jdGlvbicgPT09IHR5cGVvZiBwcmV2aW91c0NvbnRlbnQuZGlzbWlzcyApIHtcblx0XHRcdFx0XHRwcmV2aW91c0NvbnRlbnQuZGlzbWlzcygpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBjb250ZW50IClcblx0XHRcdFx0XHRwcmV2aW91c0NvbnRlbnQgPSBjb250ZW50O1xuXHRcdFx0fSAsIHRoaXMgKTtcblxuXHRcdFx0dGhpcy5vbiggJ2NvbnRlbnQ6Y3JlYXRlOnBhc3RlYm9hcmQnLCB0aGlzLmNvbnRlbnRDcmVhdGVQYXN0ZWJvYXJkLCB0aGlzICk7XG5cdFx0XHR0aGlzLm9uKCAnY29udGVudDpyZW5kZXI6cGFzdGVib2FyZCcsIHRoaXMuY29udGVudFJlbmRlckdyYWJiZXIsIHRoaXMgKTtcblx0XHRcdHRoaXMub24oICdjb250ZW50OmNyZWF0ZTpkYXRhaW1hZ2UnLCB0aGlzLmNvbnRlbnRSZW5kZXJHcmFiYmVyLCB0aGlzICk7XG5cblx0XHRcdGZyYW1lID0gdGhpcztcblx0XHR9LFxuXHRcdC8vIGFkZCBoYW5kbGVyc1xuXHRcdGNvbnRlbnRDcmVhdGVQYXN0ZWJvYXJkOiBmdW5jdGlvbiggY29udGVudCApIHtcblx0XHRcdHZhciBzdGF0ZSA9IHRoaXMuc3RhdGUoKTtcblxuXHRcdFx0dGhpcy5jdXJyZW50UGFzdGVWaWV3ID0gY29udGVudC52aWV3ID0gbmV3IHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlR3JhYmJlcigge1xuXHRcdFx0XHRjb250cm9sbGVyXHQ6IHRoaXMsXG5cdFx0XHRcdGdyYWJiZXJcdFx0OiB3cC5tZWRpYS50aGVwYXN0ZS52aWV3LlBhc3RlYm9hcmRcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy5jdXJyZW50UGFzdGVWaWV3LnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScsIHRoaXMudXBsb2FkZWREYXRhSW1hZ2UgKTtcblx0XHR9LFxuXHRcdGNvbnRlbnRSZW5kZXJHcmFiYmVyOiBmdW5jdGlvbiggY29udGVudCApIHtcblx0XHRcdGNvbnRlbnQuc3RhcnRHcmFiYmluZygpO1xuXHRcdH0sXG5cdFx0dXBsb2FkZWREYXRhSW1hZ2U6IGZ1bmN0aW9uKCBjb250ZW50ICkge1xuXHRcdFx0dGhpcy5zdG9wTGlzdGVuaW5nKCB0aGlzLmN1cnJlbnRQYXN0ZVZpZXcudXBsb2FkZXIsICdhY3Rpb246dXBsb2FkZWQ6ZGF0YWltYWdlJyApO1xuXHRcdFx0dmFyIG9iaiA9IHsgdmlldzogbnVsbCB9O1xuXHRcdFx0dGhpcy5icm93c2VDb250ZW50KG9iaik7XG5cdFx0XHR0aGlzLmNvbnRlbnQuc2V0KCBvYmoudmlldyApO1xuXHRcdFx0dGhpcy5yb3V0ZXIuZ2V0KCkuc2VsZWN0KCdicm93c2UnKVxuXHRcdH0sXG5cdFx0aW1hZ2VQYXN0ZWQ6ZnVuY3Rpb24oKXtcblx0XHRcdC8vIGVuYWJsZSBpbnNlcnQgYnRuXG5cdFx0XHQvLyBjbGVhciBzZWxlY3Rpb25cblx0XHRcdGNvbnNvbGUubG9nKHRoaXMpXG5cblx0XHR9XG5cdH0pO1xuXG5cblxuXHQvKipcblx0ICpcdEFkZCBwYXN0ZSBidXR0b24gdG8gdG9vbGJhciBvbiB1cGxvYWQucGhwXG5cdCAqL1xuXHRfLmV4dGVuZCggd3AubWVkaWEudmlldy5BdHRhY2htZW50c0Jyb3dzZXIucHJvdG90eXBlLCB7XG5cdFx0X3BhcmVudEluaXRpYWxpemU6XHR3cC5tZWRpYS52aWV3LkF0dGFjaG1lbnRzQnJvd3Nlci5wcm90b3R5cGUuaW5pdGlhbGl6ZSxcblx0XHRpbml0aWFsaXplOlx0ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdHBhc3RlQnRuO1xuXG5cdFx0XHR0aGlzLl9wYXJlbnRJbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0dGhpcy50aGVwYXN0ZSA9IHtcblx0XHRcdFx0cGFzdGVcdDoge1xuLy9cdFx0XHRcdFx0YnV0dG9uXHQ6IGZhbHNlLFxuXHRcdFx0XHRcdGdyYWJiZXJcdDogZmFsc2UsXG5cdFx0XHRcdFx0bW9kYWxcdDogZmFsc2UsXG5cdFx0XHRcdFx0bW9kZVx0OiAncGFzdGUnLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRjdXJyZW50XHRcdDogZmFsc2Vcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhICggdGhpcy5jb250cm9sbGVyIGluc3RhbmNlb2Ygd3AubWVkaWEudmlldy5NZWRpYUZyYW1lLlNlbGVjdCApICkge1xuXG5cdFx0XHRcdGlmICggd3AubWVkaWEudGhlcGFzdGUuc3VwcG9ydHMucGFzdGUgKSB7XG5cblx0XHRcdFx0XHRwYXN0ZUJ0biA9IG5ldyB3cC5tZWRpYS52aWV3LkJ1dHRvbigge1xuXHRcdFx0XHRcdFx0dGV4dFx0XHQ6IGwxMG4uY29weV9wYXN0ZSxcblx0XHRcdFx0XHRcdGNsYXNzTmFtZTogICdncmFiYmVyLWJ1dHRvbicsXG5cdFx0XHRcdFx0XHRwcmlvcml0eVx0OiAtNjQsXG5cdFx0XHRcdFx0XHRjbGljazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYudGhlcGFzdGUuYWN0aXZlID0gc2VsZi50aGVwYXN0ZS5wYXN0ZTtcblx0XHRcdFx0XHRcdFx0c2VsZi50aGVwYXN0ZU9wZW4oIGwxMG4uY29weV9wYXN0ZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR0aGlzLnRoZXBhc3RlLnBhc3RlLmdyYWJiZXIgPSBuZXcgd3AubWVkaWEudGhlcGFzdGUudmlldy5EYXRhU291cmNlSW1hZ2VHcmFiYmVyKCB7XG5cdFx0XHRcdFx0XHRjb250cm9sbGVyXHQ6IHRoaXMuY29udHJvbGxlcixcblx0XHRcdFx0XHRcdGdyYWJiZXJcdFx0OiB3cC5tZWRpYS50aGVwYXN0ZS52aWV3LlBhc3RlYm9hcmQsXG5cdFx0XHRcdFx0XHR3cHVwbG9hZGVyXHQ6IHRoaXMuY29udHJvbGxlci51cGxvYWRlci51cGxvYWRlci51cGxvYWRlclxuXHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHRcdHRoaXMudG9vbGJhci5zZXQoICdwYXN0ZU1vZGVCdXR0b24nLCBwYXN0ZUJ0bi5yZW5kZXIoKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR0aGVwYXN0ZU9wZW46IGZ1bmN0aW9uKCB0aXRsZSApIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0dGhpcy50aGVwYXN0ZS5tb2RhbCAgPSAgbmV3IHdwLm1lZGlhLnZpZXcuTW9kYWwoIHtcblx0XHRcdFx0Y29udHJvbGxlciA6IHRoaXMsXG5cdFx0XHRcdHRpdGxlICAgICAgOiB0aXRsZVxuXHRcdFx0fSApO1xuXHRcdFx0dGhpcy50aGVwYXN0ZS5tb2RhbC5jb250ZW50KCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyICk7XG5cdFx0XHR0aGlzLnRoZXBhc3RlLm1vZGFsLm9wZW4oKTtcblxuXHRcdFx0dGhpcy50aGVwYXN0ZS5tb2RhbC5vbiggJ2Nsb3NlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYudGhlcGFzdGVDbG9zZSgpO1xuXHRcdFx0XHRzZWxmLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnN0b3BHcmFiYmluZygpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIuc3RhcnRHcmFiYmluZygpO1xuXG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZDpkYXRhaW1hZ2UnLCB0aGlzLnRoZXBhc3RlQ2xvc2UgKTtcblx0XHR9LFxuXHRcdHRoZXBhc3RlQ2xvc2U6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy50aGVwYXN0ZS5tb2RhbC5jbG9zZSgpO1xuXG5cdFx0XHR0aGlzLnN0b3BMaXN0ZW5pbmcoIHRoaXMudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIudXBsb2FkZXIsICdhY3Rpb246dXBsb2FkOmRhdGFpbWFnZScgKTtcblx0XHR9XG5cdH0pO1xuXG59KShqUXVlcnksd2luZG93KTtcbiJdfQ==
