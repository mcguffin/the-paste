!function u(D,e,F){function t(n,a){if(!e[n]){if(!D[n]){var o="function"==typeof require&&require;if(!a&&o)return o(n,!0);if(i)return i(n,!0);var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}var r=e[n]={exports:{}};D[n][0].call(r.exports,function(u){return t(D[n][1][u]||u)},r,r.exports,u,D,e,F)}return e[n].exports}for(var i="function"==typeof require&&require,n=0;n<F.length;n++)t(F[n]);return t}({1:[function(u,D,e){"use strict";var F=n(u("converter")),t=n(u("image-dialog")),i=u("compat");function n(u){return u&&u.__esModule?u:{default:u}}const a=wp.media.View.extend({template:wp.template("the-paste-instructions"),className:"the-paste-instructions",render:function(){wp.media.View.prototype.render.apply(this,arguments),setInterval(()=>{this.$el.prop("hidden",!document.hasFocus())},100)}});_.extend(wp.media.view.MediaFrame.prototype,{_parentInitialize:wp.media.view.MediaFrame.prototype.initialize,initialize:function(u){this._parentInitialize.apply(this,arguments),this.on("attach",this.addPasteInstructions,this),this.pasteInstructions=new a,this.pasteInstructions.render()},addPasteInstructions:function(){this.$el.find("#media-frame-title").append(this.pasteInstructions.el)}}),_.extend(wp.media.view.AttachmentsBrowser.prototype,{_parentInitialize:wp.media.view.AttachmentsBrowser.prototype.initialize,initialize:function(){this._parentInitialize.apply(this,arguments);const u=new a({priority:-10});u.render(),this.toolbar.set("pasteInstructions",u),document.addEventListener("paste",async u=>{if(!this.$el.is(":visible"))return;const D=Array.from(u.clipboardData.files);return D.length&&(u.preventDefault(),u.stopPropagation()),D.push(...await F.default.clipboardItemsToFiles(u.clipboardData.items)),D.length?await this.handlePastedFiles(D):void 0},{capture:!0})},handlePastedFiles:async function(u){const D=[],e=this.controller.uploader.uploader.uploader;if(u.forEach(u=>{/^image\//.test(u.type)?D.push(u):e.addFile(i.rml.file(u))}),D.length){(await(0,t.default)(D)).forEach(u=>e.addFile(i.rml.file(u)))}}})},{compat:2,converter:3,"image-dialog":5}],2:[function(u,D,e){"use strict";const F=new class{get svg(){return _wpPluploadSettings.defaults.filters.mime_types[0].extensions.split(",").includes("svg")}get webp(){return 0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}};D.exports={rml:{file:u=>(u.getSource||(u.getSource=()=>u),u)},supports:F}},{}],3:[function(u,D,e){"use strict";u("compat");var F=u("filename");const t={clipboardItemsToFiles:u=>{const D=[];return new Promise((e,F)=>{const i=Array.from(u).map(u=>{if("string"===u.kind){const i=(e=u.type,null!==(F={"text/plain":async u=>{const D=await t.itemToString(u);return D.toLowerCase().indexOf("<svg")>=0&&(new DOMParser).parseFromString(D,"image/svg+xml").querySelector("svg")?[t.stringToFile(D,"image/svg+xml")]:[]},"text/html":async u=>{const D=new URL(document.location),e=document.createElement("div");e.innerHTML=await t.itemToString(u);const F=Array.from(e.querySelectorAll("img")).filter(u=>{const e=new URL(u.src);return!["http:","https:"].includes(e.protocol)||D.hostname!==e.hostname}).map(u=>t.elementToFile(u));return new Promise((u,D)=>{Promise.allSettled(F).then(D=>u(Array.from(D).map(u=>u.value)))})}}[e])&&void 0!==F?F:()=>new Promise((u,D)=>u([])));return i(u).then(u=>{D.push(...u.filter(u=>u.size>0))}).catch(u=>console.error(u))}var e,F});Promise.allSettled(i).then(()=>e(D))})},clipboardItemsToHtml:async u=>{let D,e;for(D=0;D<u.length;D++)if(e=u[D],"string"===e.kind&&"text/html"===e.type)return await t.itemToString(e);return""},gdocsItemToSources:async u=>new Promise((D,e)=>{u.getAsString(async u=>{const e=Object.values(JSON.parse(JSON.parse(u).data).image_urls);D(e)})}),gdocsItemToFiles:async u=>{let D;const e=await t.gdocsItemToSources(u),F=[];for(D=0;D<e.length;D++)F.push(await t.blobUrlToFile(e[D]));return F},itemToString:async u=>new Promise((D,e)=>{u.getAsString(u=>D(u))}),elementToFile:async u=>await t.urlToFile(u.src,u.alt),urlToFile:async function(u){let D,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const F=u.substr(0,u.indexOf(":"));return"data"===F?D=t.dataUrlToFile(u,e):["blob","http","https"].includes(F)&&(D=await t.blobUrlToFile(u,e)),D},urlToMime:async u=>{const D=u.substr(0,u.indexOf(":"));let e;return"data"===D?e=t.dataUrlToMime(u):["blob","http","https"].includes(D)&&(e=await t.blobUrlToMime(u)),e},urlToType:async u=>{const D=await t.urlToMime(u);return D.substr(0,D.indexOf("/"))},urlToBlobUrl:async u=>{const D=await t.blobUrlToFile(u);return t.fileToBlobUrl(D)},stringToFile:(u,D)=>t.blobToFile(new Blob([u],{type:D})),blobToFile:function(u){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new File([u],(0,F.safeFilename)(u,D),{type:u.type})},blobUrlToMime:async u=>(await t.blobUrlToBlob(u)).type,blobUrlToType:async u=>{const D=await t.blobUrlToBlob(u);return D.type.substr(0,D.type.indexOf("/"))},blobUrlToBlob:async function(u){return await fetch(u).then(u=>u.blob())},blobUrlToFile:async function(u){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const e=await t.blobUrlToBlob(u);return t.blobToFile(e,D)},blobUrlToDataUrl:async u=>{const D=await fetch(u).then(u=>u.blob());return await t.fileToDataUrl(D)},dataUrlToMime:u=>u.match("data:([^;]+);")[1],dataUrlToType:u=>u.match("data:([^/]+)/")[1],dataUrlToBlob:u=>{let D=u.split(","),e=D[0].match(/:(.*?);/)[1],F=atob(D[1]),t=F.length,i=new Uint8Array(t);for(;t--;)i[t]=F.charCodeAt(t);return new Blob([i],{type:e})},dataUrlToFile:function(u){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.blobToFile(t.dataUrlToBlob(u),D)},dataUrlToBlobUrl:u=>t.fileToBlobUrl(t.dataUrlToBlob(u)),fileToBlobUrl:u=>URL.createObjectURL(u),fileToDataUrl:u=>new Promise((D,e)=>{const F=new FileReader;F.addEventListener("load",()=>D(F.result)),F.readAsDataURL(u)})};D.exports=t},{compat:2,filename:4}],4:[function(u,D,e){"use strict";var F,t=(F=u("mime"))&&F.__esModule?F:{default:F};const i=u=>{var D,e,F;const t=function(u){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return("00"+u.toString()).substr(-D)};let i=thepaste.options.default_filename;const n=new Date,a=(null===(D=document.querySelector('#post [name="post_title"]#title'))||void 0===D?void 0:D.value)||(null===(e=document.querySelector(".wp-block-post-title"))||void 0===e?void 0:e.textContent)||(null===(F=document.querySelector("h1"))||void 0===F?void 0:F.textContent),o=thepaste.options.filename_values,s=[{s:"%Y",r:n.getFullYear()},{s:"%y",r:n.getFullYear()%100},{s:"%m",r:t(n.getMonth()+1)},{s:"%d",r:t(n.getDate())},{s:"%e",r:n.getDate()},{s:"%H",r:t(n.getHours())},{s:"%I",r:t(n.getHours()%12)},{s:"%M",r:t(n.getMinutes())},{s:"%S",r:t(n.getSeconds())},{s:"%s",r:Math.floor(n.getTime()/1e3)},{s:"%x",r:n.toLocaleDateString()},{s:"%X",r:n.toLocaleTimeString()}];return void 0!==a?s.push({s:"<postname>",r:a}):s.push({s:"<postname>",r:""}),Object.keys(o).forEach(u=>{o[u]?s.push({s:"<".concat(u,">"),r:o[u]}):s.push({s:"<".concat(u,">"),r:""})}),s.forEach(function(u){i=i.replace(u.s,u.r)}),"string"==typeof u&&(i+="."+u),i};D.exports={generateFilename:i,safeFilename:function(u){let D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=u.type;const F=t.default.extension(e);return D=D.replace(/(?:[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u0380-\u0383\u038B\u038D\u03A2\u0530\u0557\u0558\u058B\u058C\u0590\u05C8-\u05CF\u05EB-\u05EE\u05F5-\u0605\u061C\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB\u07FC\u082E\u082F\u083F\u085C\u085D\u085F\u086B-\u086F\u0890-\u0896\u08E2\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A77-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0BFF\u0C0D\u0C11\u0C29\u0C3A\u0C3B\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B\u0C5E\u0C5F\u0C64\u0C65\u0C70-\u0C76\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDB\u0CDF\u0CE4\u0CE5\u0CF0\u0CF4-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D50-\u0D53\u0D64\u0D65\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F6\u13F7\u13FE\u13FF\u169D-\u169F\u16F9-\u16FF\u1716-\u171E\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180E\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE\u1AAF\u1ADE\u1ADF\u1AEC-\u1AFF\u1B4D\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C8B-\u1C8F\u1CBB\u1CBC\u1CC8-\u1CCF\u1CFB-\u1CFF\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u2028-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20C2-\u20CF\u20F1-\u20FF\u218C-\u218F\u242A-\u243F\u244B-\u245F\u2B74\u2B75\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E5E-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u3040\u3097\u3098\u3100-\u3104\u3130\u318F\u31E6-\u31EE\u321F\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA6F8-\uA6FF\uA7DD-\uA7F0\uA82D-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C6-\uA8CD\uA8DA-\uA8DF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB6C-\uAB6F\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFDD0-\uFDEF\uFE1A-\uFE1F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDCFF\uDD03-\uDD06\uDD34-\uDD36\uDD8F\uDD9D-\uDD9F\uDDA1-\uDDCF\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEFC-\uDEFF\uDF24-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDFC4-\uDFC7\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6E\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDBF\uDDF4-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56\uDC9F-\uDCA6\uDCB0-\uDCDF\uDCF3\uDCF6-\uDCFA\uDD1C-\uDD1E\uDD3A-\uDD3E\uDD5A-\uDD7F\uDDB8-\uDDBB\uDDD0\uDDD1\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE49-\uDE4F\uDE59-\uDE5F\uDEA0-\uDEBF\uDEE7-\uDEEA\uDEF7-\uDEFF\uDF36-\uDF38\uDF56\uDF57\uDF73-\uDF77\uDF92-\uDF98\uDF9D-\uDFA8\uDFB0-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCF9\uDD28-\uDD2F\uDD3A-\uDD3F\uDD66-\uDD68\uDD86-\uDD8D\uDD90-\uDE5F\uDE7F\uDEAA\uDEAE\uDEAF\uDEB2-\uDEC1\uDEC8-\uDECF\uDED9-\uDEF9\uDF28-\uDF2F\uDF5A-\uDF6F\uDF8A-\uDFAF\uDFCC-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC4E-\uDC51\uDC76-\uDC7E\uDCBD\uDCC3-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD48-\uDD4F\uDD77-\uDD7F\uDDE0\uDDF5-\uDDFF\uDE12\uDE42-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEAA-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDF7F\uDF8A\uDF8C\uDF8D\uDF8F\uDFB6\uDFC1\uDFC3\uDFC4\uDFC6\uDFCB\uDFD6\uDFD9-\uDFE0\uDFE3-\uDFFF]|\uD805[\uDC5C\uDC62-\uDC7F\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDDE-\uDDFF\uDE45-\uDE4F\uDE5A-\uDE5F\uDE6D-\uDE7F\uDEBA-\uDEBF\uDECA-\uDECF\uDEE4-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF47-\uDFFF]|\uD806[\uDC3C-\uDC9F\uDCF3-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD47-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE5-\uDDFF\uDE48-\uDE4F\uDEA3-\uDEAF\uDEF9-\uDEFF\uDF0A-\uDF5F\uDF68-\uDFBF\uDFE2-\uDFEF\uDFFA-\uDFFF]|\uD807[\uDC09\uDC37\uDC46-\uDC4F\uDC6D-\uDC6F\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDDAF\uDDDC-\uDDDF\uDDEA-\uDEDF\uDEF9-\uDEFF\uDF11\uDF3B-\uDF3D\uDF5B-\uDFAF\uDFB1-\uDFBF\uDFF2-\uDFFE]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F\uDC75-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD812-\uD817\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD832\uD83F\uD87C\uD87D\uD87F\uD88E-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF3-\uDFFF]|\uD80D[\uDC30-\uDC3F\uDC56-\uDC5F]|\uD810[\uDFFB-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD818[\uDC00-\uDCFF\uDD3A-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDE6D\uDEBF\uDECA-\uDECF\uDEEE\uDEEF\uDEF6-\uDEFF\uDF46-\uDF4F\uDF5A\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDD3F\uDD7A-\uDE3F\uDE9B-\uDE9F\uDEB9\uDEBA\uDED4-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE5-\uDFEF\uDFF7-\uDFFF]|\uD823[\uDCD6-\uDCFE\uDD1F-\uDD7F\uDDF3-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A\uDC9B\uDCA0-\uDFFF]|\uD833[\uDCFD-\uDCFF\uDEB4-\uDEB9\uDED1-\uDEDF\uDEF1-\uDEFF\uDF2E\uDF2F\uDF47-\uDF4F\uDFC4-\uDFFF]|\uD834[\uDCF6-\uDCFF\uDD27\uDD28\uDD73-\uDD7A\uDDEB-\uDDFF\uDE46-\uDEBF\uDED4-\uDEDF\uDEF4-\uDEFF\uDF57-\uDF5F\uDF79-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]|\uD836[\uDE8C-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDC2F\uDC6E-\uDC8E\uDC90-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD50-\uDE8F\uDEAF-\uDEBF\uDEFA-\uDEFE\uDF00-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCFA-\uDDCF\uDDFB-\uDDFE\uDE00-\uDEBF\uDEDF\uDEF6-\uDEFD\uDF00-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5\uDCC6\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDD5D\uDD60-\uDFFF]|\uD83B[\uDC00-\uDC70\uDCB5-\uDD00\uDD3E-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDEEF\uDEF2-\uDFFF]|\uD83C[\uDC2C-\uDC2F\uDC94-\uDC9F\uDCAF\uDCB0\uDCC0\uDCD0\uDCF6-\uDCFF\uDDAE-\uDDE5\uDE03-\uDE0F\uDE3C-\uDE3F\uDE49-\uDE4F\uDE52-\uDE5F\uDE66-\uDEFF]|\uD83D[\uDED9-\uDEDB\uDEED-\uDEEF\uDEFD-\uDEFF\uDFDA-\uDFDF\uDFEC-\uDFEF\uDFF1-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE\uDCAF\uDCBC-\uDCBF\uDCC2-\uDCCF\uDCD9-\uDCFF\uDE58-\uDE5F\uDE6E\uDE6F\uDE7D-\uDE7F\uDE8B-\uDE8D\uDEC7\uDEC9-\uDECC\uDEDD\uDEDE\uDEEB-\uDEEE\uDEF9-\uDEFF\uDF93\uDFFB-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEAE\uDEAF]|\uD87A[\uDFE1-\uDFEF]|\uD87B[\uDE5E-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD88D[\uDC7A-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,"-").trim(),D||(D=i(F)),F!==D.split(".").pop()&&(D+=".".concat(F)),D}}},{mime:7}],5:[function(u,D,e){(function(e){(function(){"use strict";var F=i("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),t=i(u("image-list"));function i(u){return u&&u.__esModule?u:{default:u}}let n=null,a=null;D.exports=u=>new Promise((D,e)=>{if(null!==n)return a.addFiles(u),void D([]);n=new wp.media.view.Modal({events:{keydown:function(u){"Enter"===u.key?a.submit():"Escape"===u.key&&n.close()},"click .media-modal-close":function(u){n.close()}},controller:{trigger:()=>{}},title:thepaste.l10n.the_paste}),a=new t.default({controller:n});const i=(0,F.default)("body").is(".modal-open");a.on("thepaste:submit",async()=>{const u=await a.getFiles();n.close(),D(u)}),a.on("thepaste:cancel",()=>{n.close(),D([])}),n.content(a),a.addFiles(u),n.open(),n.on("close",()=>{(0,F.default)("body").toggleClass("the-paste-modal-open",!1),(0,F.default)("body").toggleClass("modal-open",i),setTimeout(()=>{n.remove(),n=null},10)}),(0,F.default)("body").toggleClass("the-paste-modal-open",!0)})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"image-list":6}],6:[function(u,D,e){"use strict";var F=a(u("converter")),t=a(u("mime")),i=u("compat"),n=u("filename");function a(u){return u&&u.__esModule?u:{default:u}}const o=wp.media.View.extend({tagName:"form",template:wp.template("the-paste-image-list-item"),className:"the-paste-image-list-item",events:{'click [name="discard"]':"discard",'change [name="the-paste-format"]':"updateView"},initialize:function(u){let{file:D}=u;wp.media.View.prototype.initialize.apply(this,arguments),this.file=D,new Promise((u,e)=>{const t=new Image;t.addEventListener("load",function(){u(t)}),t.src=F.default.fileToBlobUrl(D)}).then(u=>{let D=u.width&&u.height;this.canvas=this.$("canvas").get(0),"image/svg+xml"===this.file.type&&(D?document.body.append(u):this.canvas.after(u)),this.canvas.width=u.width,this.canvas.height=u.height,this.canvas.getContext("2d").drawImage(u,0,0),"image/svg+xml"===this.file.type&&(D?u.remove():this.$('[data-format]:not([data-format="image/svg+xml"])').remove())})},updateView:function(){const u=this.$('[name="the-paste-format"]:checked').val();u!==this.file.type&&["image/webp","image/jpeg"].includes(u)?this.$(".the-paste-quality").show():this.$(".the-paste-quality").hide()},render:function(){wp.media.View.prototype.render.apply(this,arguments);const u=this.file.type,D=this.file.name.replace(/\.([^\.]*)$/,"");"image/webp"!==u&&(i.supports.webp&&t.default.extension("image/webp")||this.$('[data-format="image/webp"]').remove()),this.$('[name="the-paste-format"][value="'.concat(u,'"]')).prop("checked",!0),this.$('[name="the-paste-filename"]').val(D),this.$('[name="the-paste-filename"]').prop("placeholder",(0,n.generateFilename)()),i.supports.svg&&"image/svg+xml"===u||(this.$('[data-format="image/svg+xml"]').remove(),"image/svg+xml"===u&&this.$('[name="the-paste-format"][value="image/png"]').prop("checked",!0)),this.updateView()},getFile:function(){const u=this.$('[name="the-paste-format"]:checked').val(),D=this.$('[name="the-paste-filename"]').val()||(0,n.generateFilename)(),e="".concat(D,".").concat(t.default.extension(u)),i=parseFloat(this.$('[name="the-paste-quality"]').val())||thepaste.options.jpeg_quality;return this.file.type===u?new Promise((D,F)=>{D(new File([this.file],e,{type:u}))}):new Promise((D,t)=>{this.canvas.toBlob(u=>{D(F.default.blobToFile(u,e))},u,.01*i)})},discard:function(){this.controller.discardItem(this)}}),s=wp.media.View.extend({template:wp.template("the-paste-image-list"),className:"the-paste-image-list",events:{"click .media-frame-toolbar button":"submit"},initialize:function(){wp.media.View.prototype.initialize.apply(this,arguments),this.files=[],this.items=[],this.button=new wp.media.view.Button({className:"button-primary button-hero"}),this.render()},discardItem:function(u){this.files=this.files.filter(D=>D!==u.file),this.items=this.items.filter(D=>D!==u),u.$el.remove(),this.items.length||this.trigger("thepaste:cancel")},addFiles:function(u){this.files.push(...u),u.forEach(u=>{const D=new o({file:u,controller:this});D.render(),this.$(".content").append(D.$el),this.items.push(D),D.render()})},getFiles:async function(){const u=[];for(const D of this.items)u.push(await D.getFile());return u},submit:function(){this.trigger("thepaste:submit")}});D.exports=s},{compat:2,converter:3,filename:4,mime:7}],7:[function(u,D,e){"use strict";const F=Object.keys(thepaste.options.mime_types),t=Object.values(thepaste.options.mime_types);F.push("zip"),t.push("application/x-zip-compressed"),D.exports={extension:u=>{const D=t.indexOf(u);return-1!==D&&F[D]},type:u=>{const D=F.indexOf(u);return-1!==D&&t[D]}}},{}]},{},[1]);
//# sourceMappingURL=the-paste.js.map
