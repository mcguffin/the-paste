!function r(o,s,l){function p(t,e){if(!s[t]){if(!o[t]){var a="function"==typeof require&&require;if(!e&&a)return a(t,!0);if(d)return d(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var n=s[t]={exports:{}};o[t][0].call(n.exports,function(e){return p(o[t][1][e]||e)},n,n.exports,r,o,s,l)}return s[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)p(l[e]);return p}({1:[function(e,t,a){(function(){var l,i,n,s,a;function o(e,t){var y;this._container=e,this._target=t,this._container=l(this._container),this._target=l(this._target).addClass("pastable"),this._container.on("paste",(y=this,function(e){var t,a,i,n,r,o,s,l,p,d,u,h,c,g,m,f,b,w,v,_;if(y.originalEvent=null!==e.originalEvent?e.originalEvent:null,y._paste_event_fired=!0,null!=(null!=(g=e.originalEvent)?g.clipboardData:void 0))if((a=e.originalEvent.clipboardData).items){for(h=null,y.originalEvent.pastedTypes=[],o=0,p=(m=a.items).length;o<p;o++)(r=m[o]).type.match(/^text\/(plain|rtf|html)/)&&y.originalEvent.pastedTypes.push(r.type);for(t=s=0,d=(f=a.items).length;s<d;t=++s){if((r=f[t]).type.match(/^image\//)){(c=new FileReader).onload=function(e){return y._handleImage(e.target.result,y.originalEvent,h)};try{c.readAsDataURL(r.getAsFile())}catch(e){}e.preventDefault();break}"text/plain"===r.type&&(0===t&&1<a.items.length&&a.items[1].type.match(/^image\//)&&(v=!0,n=a.items[1].type),r.getAsString(function(e){return v?(h=e,y._target.trigger("pasteText",{text:e,isFilename:!0,fileType:n,originalEvent:y.originalEvent})):y._target.trigger("pasteText",{text:e,originalEvent:y.originalEvent})})),"text/rtf"===r.type&&r.getAsString(function(e){return y._target.trigger("pasteTextRich",{text:e,originalEvent:y.originalEvent})}),"text/html"===r.type&&r.getAsString(function(e){return y._target.trigger("pasteTextHtml",{text:e,originalEvent:y.originalEvent})})}}else-1!==Array.prototype.indexOf.call(a.types,"text/plain")&&(_=a.getData("Text"),setTimeout(function(){return y._target.trigger("pasteText",{text:_,originalEvent:y.originalEvent})},1)),y._checkImagesInContainer(function(e){return y._handleImage(e,y.originalEvent)});if(a=window.clipboardData)if(null!=(b=_=a.getData("Text"))&&b.length)setTimeout(function(){return y._target.trigger("pasteText",{text:_,originalEvent:y.originalEvent}),y._target.trigger("_pasteCheckContainerDone")},1);else{for(l=0,u=(w=a.files).length;l<u;l++)i=w[l],y._handleImage(URL.createObjectURL(i),y.originalEvent);y._checkImagesInContainer(function(e){return y._handleImage(e,y.originalEvent)})}return null}))}(l=window.jQuery).paste=function(e){return"undefined"!=typeof console&&null!==console&&console.log("DEPRECATED: This method is deprecated. Please use $.fn.pastableNonInputable() instead."),i.mountNonInputable(e)._container},l.fn.pastableNonInputable=function(){for(var e,t=0,a=this.length;t<a;t++)(e=this[t])._pastable||l(e).is("textarea, input:text, [contenteditable]")||(i.mountNonInputable(e),e._pastable=!0);return this},l.fn.pastableTextarea=function(){for(var e,t=0,a=this.length;t<a;t++)(e=this[t])._pastable||l(e).is(":not(textarea, input:text)")||(i.mountTextarea(e),e._pastable=!0);return this},l.fn.pastableContenteditable=function(){for(var e,t=0,a=this.length;t<a;t++)(e=this[t])._pastable||l(e).is(":not([contenteditable])")||(i.mountContenteditable(e),e._pastable=!0);return this},s=function(e,t){var a,i,n,r,o,s,l,p,d,u,h;if(null==t&&(t=512),!(p=e.match(/^data\:([^\;]+)\;base64\,(.+)$/)))return null;for((u=p)[0],s=u[1],a=u[2],r=atob(a),n=[],d=0;d<r.length;){for(h=r.slice(d,d+t),o=new Array(h.length),l=0;l<h.length;)o[l]=h.charCodeAt(l),l++;i=new Uint8Array(o),n.push(i),d+=t}return new Blob(n,{type:s})},n=function(){return l(document.createElement("div")).attr("contenteditable",!0).attr("aria-hidden",!0).attr("tabindex",-1).css({width:1,height:1,position:"fixed",left:-100,overflow:"hidden",opacity:1e-17})},a=function(e,t){var a,i,n=void 0,r=void 0,o=void 0,s=e.nodeName.toLowerCase();return"area"===s?(a=(n=e.parentNode).name,!(!e.href||!a||"map"!==n.nodeName.toLowerCase())&&(0<(r=l("img[usemap='#"+a+"']")).length&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(s)?(o=!e.disabled)&&(i=l(e).closest("fieldset")[0])&&(o=!i.disabled):o="a"===s&&e.href||t,(o=o||l(e).is("[contenteditable]"))&&l(e).is(":visible"))},o.prototype._target=null,o.prototype._container=null,o.mountNonInputable=function(e){var t=new o(n().appendTo(e),e);return l(e).on("click",function(e){if(!a(e.target,!1)&&!window.getSelection().toString())return t._container.focus()}),t._container.on("focus",function(){return l(e).addClass("pastable-focus")}),t._container.on("blur",function(){return l(e).removeClass("pastable-focus")})},o.mountTextarea=function(r){var a,i,e,t;return"undefined"!=typeof DataTransfer&&null!==DataTransfer&&DataTransfer.prototype&&null!=(e=Object.getOwnPropertyDescriptor)&&(null!=(t=e.call(Object,DataTransfer.prototype,"items"))&&t.get)?this.mountContenteditable(r):(i=new o(n().insertBefore(r),r),a=!1,l(r).on("keyup",function(e){var t;return 17!==(t=e.keyCode)&&224!==t||(a=!1),null}),l(r).on("keydown",function(e){var t;return 17!==(t=e.keyCode)&&224!==t||(a=!0),null!=e.ctrlKey&&null!=e.metaKey&&(a=e.ctrlKey||e.metaKey),a&&86===e.keyCode&&(i._textarea_focus_stolen=!0,i._container.focus(),i._paste_event_fired=!1,setTimeout(function(){if(!i._paste_event_fired)return l(r).focus(),i._textarea_focus_stolen=!1},1)),null}),l(r).on("paste",function(){}),l(r).on("focus",function(){if(!i._textarea_focus_stolen)return l(r).addClass("pastable-focus")}),l(r).on("blur",function(){if(!i._textarea_focus_stolen)return l(r).removeClass("pastable-focus")}),l(i._target).on("_pasteCheckContainerDone",function(){return l(r).focus(),i._textarea_focus_stolen=!1}),l(i._target).on("pasteText",function(e,t){var a=l(r).prop("selectionStart"),i=l(r).prop("selectionEnd"),n=l(r).val();return l(r).val(""+n.slice(0,a)+t.text+n.slice(i)),l(r)[0].setSelectionRange(a+t.text.length,a+t.text.length),l(r).trigger("change")}))},o.mountContenteditable=function(e){new o(e,e);return l(e).on("focus",function(){return l(e).addClass("pastable-focus")}),l(e).on("blur",function(){return l(e).removeClass("pastable-focus")})},o.prototype._handleImage=function(e,i,n){var r,o,t;return e.match(/^webkit\-fake\-url\:\/\//)?this._target.trigger("pasteImageError",{message:"You are trying to paste an image in Safari, however we are unable to retieve its data."}):(this._target.trigger("pasteImageStart"),(r=new Image).crossOrigin="anonymous",r.onload=(o=this,function(){var e,t,a=document.createElement("canvas");a.width=r.width,a.height=r.height,a.getContext("2d").drawImage(r,0,0,a.width,a.height),t=null;try{t=a.toDataURL("image/png"),e=s(t)}catch(e){}return t&&o._target.trigger("pasteImage",{blob:e,dataURL:t,width:r.width,height:r.height,originalEvent:i,name:n}),o._target.trigger("pasteImageEnd")}),r.onerror=(t=this,function(){return t._target.trigger("pasteImageError",{message:"Failed to get image from: "+e,url:e}),t._target.trigger("pasteImageEnd")}),r.src=e)},o.prototype._checkImagesInContainer=function(i){for(var n,r,o=Math.floor(1e3*Math.random()),e=this._container.find("img"),t=0,a=e.length;t<a;t++)(n=e[t])["_paste_marked_"+o]=!0;return setTimeout((r=this,function(){for(var e=r._container.find("img"),t=0,a=e.length;t<a;t++)(n=e[t])["_paste_marked_"+o]||(i(n.src),l(n).remove());return r._target.trigger("_pasteCheckContainerDone")}),1)},i=o}).call(this)},{}],2:[function(e,t,a){"use strict";e("paste.js/paste.js"),e("the-paste-base.js"),e("media-view.js"),e("the-paste.js")},{"media-view.js":3,"paste.js/paste.js":1,"the-paste-base.js":4,"the-paste.js":5}],3:[function(e,t,a){"use strict";var n,r,o,s;n=jQuery,window,r=mOxie,o=wp.media.thepaste,wp.media.view.Button,wp.media.view.Modal,s=o.l10n,wp.media.thepaste.view.DataSourceImageUploader=wp.media.View.extend({template:wp.template("thepaste-uploader"),className:"thepaste-uploader",controller:null,image:null,$discardBtn:null,$uploadBtn:null,uploader:null,events:{'click [data-action="upload"]':"uploadImage",'click [data-action="discard"]':"discardImage"},initialize:function(){wp.media.View.prototype.initialize.apply(this,arguments),_.defaults(this.options,{defaultFileName:s.image});new wp.media.View({tagName:"div",className:"instruments",controller:this.controller});this.uploader=this.options.uploder},setImageData:function(e){var a=this.$imageContainer.html("").get(0),i=this,t=e.match(/data:(image\/(\w+));/)[1];return o.options.mime_types.convert[t]||(t=this.options.defaultFileFormat),this.image&&this.image.destroy(),this.image=new r.Image,this.image.onload=function(){var e=i.getUploader().getOption("resize"),t=Math.max(e.width/this.width,e.height/this.height);e&&t<1&&this.downsize(this.width*t,this.height*t),this.embed(a)},this.image.load(e),this.$imageContainer&&this.$imageContainer.append(this.image),this.$('[data-setting="format"] input[value="'+t+'"]').prop("checked",!0),this.disabled(!1),this},render:function(){return wp.media.View.prototype.render.apply(this,arguments),this.$imageContainer=this.$(".image-container"),this.$discardBtn=this.$('[data-action="discard"]'),this.$uploadBtn=this.$('[data-action="upload"]'),this.$('[data-setting="title"]').val(this.options.defaultFileName),this},discardImage:function(){this.trigger("action:discard:dataimage",this),this.unbindUploaderEvents()},uploadImage:function(){var e=this.$('[data-setting="format"] :checked').val(),t=o.options.mime_types.convert[e],a=this.$('input[data-setting="title"]').val()+"."+t,i=this.image.getAsBlob(e,o.options.jpeg_quality);this.bindUploaderEvents(),i.detach(i.getSource()),i.name=a,i.type=e,this.getUploader().addFile(i,a),this.disabled(!0),this.trigger("action:upload:dataimage",this)},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},disabled:function(e){this.$discardBtn.prop("disabled",e),this.$uploadBtn.prop("disabled",e)},_uploadSuccessHandler:function(){this.trigger("action:uploaded:dataimage"),this.disabled(!1),this.unbindUploaderEvents()},_uploadErrorHandler:function(e,t){this.trigger("error:uploaded:dataimage",t),this.disabled(!1),this.unbindUploaderEvents()},bindUploaderEvents:function(){this.getUploader().bind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().bind("Error",this._uploadErrorHandler,this)},unbindUploaderEvents:function(){this.getUploader().unbind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().unbind("Error",this._uploadErrorHandler,this)},getUploader:function(){return this.controller.uploader.uploader.uploader}}),wp.media.thepaste.view.Pasteboard=wp.media.View.extend({template:wp.template("thepaste-pasteboard"),className:"thepaste-pasteboard",controller:null,action:"paste",$pasteboard:null,render:function(){var e=this;return wp.media.View.prototype.render.apply(this,arguments),console.log(this.$(".injector")),this.$pasteboard=this.$(".injector").pastableContenteditable(),this.$message=this.$(".message"),this.$pasteboard.on("click",function(){e.show_message("")}),this},start:function(){var a,i=this;return this.imagePasted=!1,this.$pasteboard.on("paste",function(e){a=wp.media.thepaste.clipboardHasImage(e.originalEvent.clipboardData)}).on("pasteText",function(e,t){a||i.imagePasted||(i.show_message(s.paste_error_no_image),n(this).html(""))}).on("pasteImage",function(e,t){i.imagePasted||(i.trigger("action:create:dataimage",this,t.dataURL),i.imagePasted=!0)}).on("pasteImageError",function(e,t){i.show_message(s.paste_error),n(this).html("")}),setTimeout(function(){i.$pasteboard.get(0).focus()},1),this},stop:function(){return this.$pasteboard.off("pasteImage").off("pasteImageError").off("pasteText"),this},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},show_message:function(e){this.$message.text(e)}}),wp.media.thepaste.view.DataSourceImageGrabber=wp.media.View.extend({template:wp.template("thepaste-grabber"),className:"thepaste-grabber",grabber:null,uploader:null,initialize:function(){var e=wp.media.View.prototype.initialize.apply(this,arguments);return _.defaults(this.options,{wpuploader:null,defaultFileName:s.pasted,defaultFileFormat:"image/png",title:s.copy_paste}),this.grabber=new this.options.grabber({controller:this.controller}),this.uploader=new wp.media.thepaste.view.DataSourceImageUploader({controller:this.controller,uploder:this.options.wpuploader,defaultFileName:this.options.defaultFileName,defaultFileFormat:this.options.defaultFileFormat}),this.render(),this.listenTo(this.grabber,"action:create:dataimage",this.imageCreated),this.listenTo(this.uploader,"action:discard:dataimage",this.startGrabbing),e},render:function(){return console.log(wp.media.View.prototype.render,this,arguments),wp.media.View.prototype.render.apply(this,arguments),this.$(".content").append(this.grabber.render().$el).append(this.uploader.render().$el),this},imageCreated:function(e,t){this.grabber.stop().hide(),this.uploader.show().setImageData(t)},startGrabbing:function(){return this.uploader.hide(),this.grabber.show().start(),this},stopGrabbing:function(){return this.grabber.stop(),this},getAction:function(){return this.grabber.action},dismiss:function(){return this.grabber.stop(),this}})},{}],4:[function(e,t,a){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(d,e,u){navigator.userAgent.indexOf("Chrome");var r=0;thepaste=e.thepaste=d.extend({supports:{paste:"paste"in document||"onpaste"in document||"object"===i(window.onpaste)||"onpaste"in document.createElement("DIV")},view:{},uploadImage:function(e,o){var s="__thepaste_box_"+r++,t=d(e).wrap('<div id="'+s+'" data-progress="0" class="thepaste-image-placeholder" contenteditable="false"></div>').parent();e.onload=function(){d(o.$("#"+s)).width(this.naturalWidth),d(o.$("#"+s)).height(this.naturalHeight)};function a(e){var t=e.match(/^data\:([^\;]+)\;/)[1],a=new u.Blob(null,{data:e}),i=thepaste.options.mime_types.convert[t],n=d('#post [name="post_title"]#title').val();function r(){l.uploader.uploader.uploader.addFile(a)}void 0===i&&console.trace("Won't upload, bad mime type: "+t),void 0!==n?(n=n.replace(/([\^\!\?<>:"'\/\|\*ยง])/g,"").replace(/ +/g," "),a.name=thepaste.l10n.pasted_into+" "+n+"."+i):a.name=thepaste.l10n.pasted+"."+i,a.type=t,l?(l.state().reset(),r()):((l=wp.media.editor.open(window.wpActiveEditor,{frame:"post",state:"insert",title:thepaste.l10n.copy_paste,multiple:!1})).close(),l.uploader.uploader&&l.uploader.uploader.ready?r():l.on("uploader:ready",r)),l.uploader.uploader.uploader.bind("UploadProgress",function(e){o.$("#"+s).attr("data-progress",e.total.percent)}),l.uploader.uploader.uploader.bind("FileUploaded",function(e,t){var a=o.$("#"+s),i='<img class="alignnone wp-image-'+t.attachment.id+' size-full" src="'+t.attachment.changed.url+'" />';a.replaceWith(i),o.$('img[src="'+p+'"]').each(function(){d(this).replaceWith(i)})}),l.uploader.uploader.uploader.bind("Error",function(e,t){console.log(e,t)})}var i,l,p=e.src,n=p.substr(0,5);return"blob:"===n?((i=new XMLHttpRequest).responseType="blob",i.onreadystatechange=function(){var e;4==i.readyState&&((e=new FileReader).onload=function(){a(e.result)},e.readAsDataURL(new Blob([i.response],{type:"image/png"})))},i.open("GET",p),i.send(null)):"data:"===n&&a(p),t},clipboardHasImage:function(a){var i=!1;return a.items?(d.each(a.items,function(e,t){if(t.type in thepaste.options.mime_types.paste)return!(i=!0)}),i):a.types?(d.each(thepaste.options.mime_types.paste,function(e,t){if(-1<a.types.indexOf(e))return!(i=!0)}),i):null}},thepaste)}(jQuery,wp.media,mOxie)},{}],5:[function(e,t,a){"use strict";var i,n;i=jQuery,window,n=wp.media.thepaste.l10n,i.extend(wp.Uploader.prototype,{success:function(){}}),_.extend(wp.media.view.MediaFrame.Select.prototype,{_parentInitialize:wp.media.view.MediaFrame.Select.prototype.initialize,initialize:function(){this._parentInitialize.apply(this,arguments),this.bindPasteHandlers()},_parentBrowseRouter:wp.media.view.MediaFrame.Select.prototype.browseRouter,browseRouter:function(e){this._parentBrowseRouter.apply(this,arguments),wp.media.thepaste.supports.paste&&e.set({pasteboard:{text:n.copy_paste,priority:35}})},bindPasteHandlers:function(){var t=!1;this.on("content:render close",function(e){t&&"function"==typeof t.dismiss&&t.dismiss(),void 0!==e&&(t=e)},this),this.on("content:create:pasteboard",this.contentCreatePasteboard,this),this.on("content:render:pasteboard",this.contentRenderGrabber,this),this.on("content:create:dataimage",this.contentRenderGrabber,this)},contentCreatePasteboard:function(e){this.state();this.currentPasteView=e.view=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this,grabber:wp.media.thepaste.view.Pasteboard}),this.listenTo(this.currentPasteView.uploader,"action:uploaded:dataimage",this.uploadedDataImage)},contentRenderGrabber:function(e){e.startGrabbing()},uploadedDataImage:function(){this.stopListening(this.currentPasteView.uploader,"action:uploaded:dataimage");var e={view:null};this.browseContent(e),this.content.set(e.view),this.router.get().select("browse")},imagePasted:function(){console.log(this)}}),_.extend(wp.media.view.AttachmentsBrowser.prototype,{_parentInitialize:wp.media.view.AttachmentsBrowser.prototype.initialize,initialize:function(){var e,t=this;this._parentInitialize.apply(this,arguments),this.thepaste={paste:{grabber:!1,modal:!1,mode:"paste"},current:!1},this.controller instanceof wp.media.view.MediaFrame.Select||wp.media.thepaste.supports.paste&&(e=new wp.media.view.Button({text:n.copy_paste,className:"grabber-button",priority:-64,click:function(){t.thepaste.active=t.thepaste.paste,t.thepasteOpen(n.copy_paste)}}),this.thepaste.paste.grabber=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this.controller,grabber:wp.media.thepaste.view.Pasteboard,wpuploader:this.controller.uploader.uploader.uploader}),this.toolbar.set("pasteModeButton",e.render()))},thepasteOpen:function(e){var t=this;this.thepaste.modal=new wp.media.view.Modal({controller:this,title:e}),this.thepaste.modal.content(this.thepaste.active.grabber),this.thepaste.modal.open(),this.thepaste.modal.on("close",function(){t.thepasteClose(),t.thepaste.active.grabber.stopGrabbing()}),this.thepaste.active.grabber.startGrabbing(),this.listenTo(this.thepaste.active.grabber.uploader,"action:upload:dataimage",this.thepasteClose)},thepasteClose:function(){this.thepaste.modal.close(),this.stopListening(this.thepaste.active.grabber.uploader,"action:upload:dataimage")}})},{}]},{},[2]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhZG1pbi9ub2RlX21vZHVsZXMvcGFzdGUuanMvcGFzdGUuanMiLCJhZG1pbi9zcmMvanMvYWRtaW4vdGhlLXBhc3RlL2luZGV4LmpzIiwiYWRtaW4vc3JjL2pzL2xpYi9tZWRpYS12aWV3LmpzIiwiYWRtaW4vc3JjL2pzL2xpYi90aGUtcGFzdGUtYmFzZS5qcyIsImFkbWluL3NyYy9qcy9saWIvdGhlLXBhc3RlLmpzIl0sIm5hbWVzIjpbInIiLCJlIiwibiIsInQiLCJvIiwiaSIsImYiLCJjIiwicmVxdWlyZSIsInUiLCJhIiwiRXJyb3IiLCJjb2RlIiwicCIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIiQiLCJQYXN0ZSIsImNyZWF0ZUhpZGRlbkVkaXRhYmxlIiwiZGF0YVVSTHRvQmxvYiIsImlzRm9jdXNhYmxlIiwiX2NvbnRhaW5lciIsIl90YXJnZXQiLCJfdGhpcyIsInRoaXMiLCJhZGRDbGFzcyIsIm9uIiwiZXYiLCJfaSIsImNsaXBib2FyZERhdGEiLCJmaWxlIiwiZmlsZVR5cGUiLCJpdGVtIiwiaiIsImsiLCJsIiwibGVuIiwibGVuMSIsImxlbjIiLCJwYXN0ZWRGaWxlbmFtZSIsInJlYWRlciIsInJlZiIsInJlZjEiLCJyZWYyIiwicmVmMyIsInJlZjQiLCJzdHJpbmdJc0ZpbGVuYW1lIiwidGV4dCIsIm9yaWdpbmFsRXZlbnQiLCJfcGFzdGVfZXZlbnRfZmlyZWQiLCJpdGVtcyIsInBhc3RlZFR5cGVzIiwidHlwZSIsIm1hdGNoIiwicHVzaCIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJldmVudCIsIl9oYW5kbGVJbWFnZSIsInRhcmdldCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJnZXRBc0ZpbGUiLCJlcnJvciIsInByZXZlbnREZWZhdWx0IiwiZ2V0QXNTdHJpbmciLCJzdHJpbmciLCJ0cmlnZ2VyIiwiaXNGaWxlbmFtZSIsIkFycmF5IiwicHJvdG90eXBlIiwiaW5kZXhPZiIsInR5cGVzIiwiZ2V0RGF0YSIsInNldFRpbWVvdXQiLCJfY2hlY2tJbWFnZXNJbkNvbnRhaW5lciIsInNyYyIsIndpbmRvdyIsImZpbGVzIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwialF1ZXJ5IiwicGFzdGUiLCJwYXN0ZUNvbnRhaW5lciIsImNvbnNvbGUiLCJsb2ciLCJtb3VudE5vbklucHV0YWJsZSIsImZuIiwicGFzdGFibGVOb25JbnB1dGFibGUiLCJlbCIsIl9wYXN0YWJsZSIsImlzIiwicGFzdGFibGVUZXh0YXJlYSIsIm1vdW50VGV4dGFyZWEiLCJwYXN0YWJsZUNvbnRlbnRlZGl0YWJsZSIsIm1vdW50Q29udGVudGVkaXRhYmxlIiwiZGF0YVVSTCIsInNsaWNlU2l6ZSIsImI2NERhdGEiLCJieXRlQXJyYXkiLCJieXRlQXJyYXlzIiwiYnl0ZUNoYXJhY3RlcnMiLCJieXRlTnVtYmVycyIsImNvbnRlbnRUeXBlIiwibSIsIm9mZnNldCIsInNsaWNlIiwiYXRvYiIsImNoYXJDb2RlQXQiLCJVaW50OEFycmF5IiwiQmxvYiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHIiLCJjc3MiLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwibGVmdCIsIm92ZXJmbG93Iiwib3BhY2l0eSIsImVsZW1lbnQiLCJoYXNUYWJpbmRleCIsIm1hcE5hbWUiLCJmaWVsZHNldCIsIm1hcCIsImltZyIsImZvY3VzYWJsZUlmVmlzaWJsZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJwYXJlbnROb2RlIiwibmFtZSIsImhyZWYiLCJ0ZXN0IiwiZGlzYWJsZWQiLCJjbG9zZXN0Iiwibm9uSW5wdXRhYmxlIiwiYXBwZW5kVG8iLCJnZXRTZWxlY3Rpb24iLCJ0b1N0cmluZyIsImZvY3VzIiwicmVtb3ZlQ2xhc3MiLCJ0ZXh0YXJlYSIsImN0bERvd24iLCJEYXRhVHJhbnNmZXIiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXQiLCJpbnNlcnRCZWZvcmUiLCJrZXlDb2RlIiwiY3RybEtleSIsIm1ldGFLZXkiLCJfdGV4dGFyZWFfZm9jdXNfc3RvbGVuIiwiZGF0YSIsImN1clN0YXJ0IiwicHJvcCIsImN1ckVuZCIsImNvbnRlbnQiLCJ2YWwiLCJzZXRTZWxlY3Rpb25SYW5nZSIsImNvbnRlbnRlZGl0YWJsZSIsImxvYWRlciIsIm1lc3NhZ2UiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwiYmxvYiIsImNhbnZhcyIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJ0b0RhdGFVUkwiLCJvbmVycm9yIiwidXJsIiwiY2IiLCJ0aW1lc3BhbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImZpbmQiLCJyZW1vdmUiLCJ0aGVwYXN0ZSIsImwxMG4iLCJtT3hpZSIsIndwIiwibWVkaWEiLCJ2aWV3IiwiQnV0dG9uIiwiTW9kYWwiLCJEYXRhU291cmNlSW1hZ2VVcGxvYWRlciIsIlZpZXciLCJleHRlbmQiLCJ0ZW1wbGF0ZSIsImNsYXNzTmFtZSIsImNvbnRyb2xsZXIiLCJpbWFnZSIsIiRkaXNjYXJkQnRuIiwiJHVwbG9hZEJ0biIsInVwbG9hZGVyIiwiZXZlbnRzIiwiY2xpY2sgW2RhdGEtYWN0aW9uPVwidXBsb2FkXCJdIiwiY2xpY2sgW2RhdGEtYWN0aW9uPVwiZGlzY2FyZFwiXSIsImluaXRpYWxpemUiLCJhcHBseSIsImFyZ3VtZW50cyIsIl8iLCJkZWZhdWx0cyIsIm9wdGlvbnMiLCJkZWZhdWx0RmlsZU5hbWUiLCJ0YWdOYW1lIiwidXBsb2RlciIsInNldEltYWdlRGF0YSIsImNvbnRhaW5lciIsIiRpbWFnZUNvbnRhaW5lciIsImh0bWwiLCJzZWxmIiwiZm9ybWF0IiwibWltZV90eXBlcyIsImNvbnZlcnQiLCJkZWZhdWx0RmlsZUZvcm1hdCIsImRlc3Ryb3kiLCJvcHRzIiwiZ2V0VXBsb2FkZXIiLCJnZXRPcHRpb24iLCJzY2FsZSIsIm1heCIsImRvd25zaXplIiwiZW1iZWQiLCJsb2FkIiwiYXBwZW5kIiwicmVuZGVyIiwiZGlzY2FyZEltYWdlIiwidW5iaW5kVXBsb2FkZXJFdmVudHMiLCJ1cGxvYWRJbWFnZSIsInN1ZmZpeCIsImdldEFzQmxvYiIsImpwZWdfcXVhbGl0eSIsImJpbmRVcGxvYWRlckV2ZW50cyIsImRldGFjaCIsImdldFNvdXJjZSIsImFkZEZpbGUiLCJzaG93IiwiJGVsIiwiaGlkZSIsIl9kaXNhYmxlZCIsIl91cGxvYWRTdWNjZXNzSGFuZGxlciIsIl91cGxvYWRFcnJvckhhbmRsZXIiLCJ1cCIsImVyciIsImJpbmQiLCJ1bmJpbmQiLCJQYXN0ZWJvYXJkIiwiYWN0aW9uIiwiJHBhc3RlYm9hcmQiLCIkbWVzc2FnZSIsInNob3dfbWVzc2FnZSIsInN0YXJ0IiwiY2xpcGJvYXJkSGFzSW1hZ2UiLCJpbWFnZVBhc3RlZCIsInBhc3RlX2Vycm9yX25vX2ltYWdlIiwicGFzdGVfZXJyb3IiLCJzdG9wIiwib2ZmIiwibXNnIiwiRGF0YVNvdXJjZUltYWdlR3JhYmJlciIsImdyYWJiZXIiLCJyZXQiLCJ3cHVwbG9hZGVyIiwicGFzdGVkIiwidGl0bGUiLCJjb3B5X3Bhc3RlIiwibGlzdGVuVG8iLCJpbWFnZUNyZWF0ZWQiLCJzdGFydEdyYWJiaW5nIiwiaW1hZ2VEYXRhIiwic3RvcEdyYWJiaW5nIiwiZ2V0QWN0aW9uIiwiZGlzbWlzcyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImNvdW50ZXIiLCJzdXBwb3J0cyIsIl90eXBlb2YiLCJvbnBhc3RlIiwiZWRpdG9yIiwiaWQiLCIkY29udGFpbmVyIiwid3JhcCIsInBhcmVudCIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ1cGxvYWQiLCJwb3N0bmFtZSIsIndvcmtmbG93IiwidHJhY2UiLCJyZXBsYWNlIiwicGFzdGVkX2ludG8iLCJzdGF0ZSIsInJlc2V0Iiwib3BlbiIsIndwQWN0aXZlRWRpdG9yIiwiZnJhbWUiLCJtdWx0aXBsZSIsImNsb3NlIiwicmVhZHkiLCJ0b3RhbCIsInBlcmNlbnQiLCJhcmdzIiwiaW1nSFRNTCIsImF0dGFjaG1lbnQiLCJjaGFuZ2VkIiwicmVwbGFjZVdpdGgiLCJlYWNoIiwieGhyIiwic3ViIiwic3Vic3RyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZVR5cGUiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2UiLCJzZW5kIiwiaGFzSW1hZ2UiLCJleHQiLCJVcGxvYWRlciIsInN1Y2Nlc3MiLCJNZWRpYUZyYW1lIiwiU2VsZWN0IiwiX3BhcmVudEluaXRpYWxpemUiLCJiaW5kUGFzdGVIYW5kbGVycyIsIl9wYXJlbnRCcm93c2VSb3V0ZXIiLCJicm93c2VSb3V0ZXIiLCJzZXQiLCJwYXN0ZWJvYXJkIiwicHJpb3JpdHkiLCJwcmV2aW91c0NvbnRlbnQiLCJjb250ZW50Q3JlYXRlUGFzdGVib2FyZCIsImNvbnRlbnRSZW5kZXJHcmFiYmVyIiwiY3VycmVudFBhc3RlVmlldyIsInVwbG9hZGVkRGF0YUltYWdlIiwic3RvcExpc3RlbmluZyIsIm9iaiIsImJyb3dzZUNvbnRlbnQiLCJyb3V0ZXIiLCJzZWxlY3QiLCJBdHRhY2htZW50c0Jyb3dzZXIiLCJwYXN0ZUJ0biIsIm1vZGFsIiwibW9kZSIsImN1cnJlbnQiLCJjbGljayIsImFjdGl2ZSIsInRoZXBhc3RlT3BlbiIsInRvb2xiYXIiLCJ0aGVwYXN0ZUNsb3NlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxJQUFBRSxFQUFBLG1CQUFBQyxTQUFBQSxRQUFBLElBQUFGLEdBQUFDLEVBQUEsT0FBQUEsRUFBQUYsR0FBQSxHQUFBLEdBQUFJLEVBQUEsT0FBQUEsRUFBQUosR0FBQSxHQUFBLElBQUFLLEVBQUEsSUFBQUMsTUFBQSx1QkFBQU4sRUFBQSxLQUFBLE1BQUFLLEVBQUFFLEtBQUEsbUJBQUFGLEVBQUEsSUFBQUcsRUFBQVgsRUFBQUcsR0FBQSxDQUFBUyxR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QUFPdEYsUUFBUW5FLFNBQVUiLCJmaWxlIjoiYWRtaW4vdGhlLXBhc3RlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG5cbi8qXG5wYXN0ZS5qcyBpcyBhbiBpbnRlcmZhY2UgdG8gcmVhZCBkYXRhICggdGV4dCAvIGltYWdlICkgZnJvbSBjbGlwYm9hcmQgaW4gZGlmZmVyZW50IGJyb3dzZXJzLiBJdCBhbHNvIGNvbnRhaW5zIHNldmVyYWwgaGFja3MuXG5cbmh0dHBzOi8vZ2l0aHViLmNvbS9sYXllcnNzc3MvcGFzdGUuanNcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciAkLCBQYXN0ZSwgY3JlYXRlSGlkZGVuRWRpdGFibGUsIGRhdGFVUkx0b0Jsb2IsIGlzRm9jdXNhYmxlO1xuXG4gICQgPSB3aW5kb3cualF1ZXJ5O1xuXG4gICQucGFzdGUgPSBmdW5jdGlvbihwYXN0ZUNvbnRhaW5lcikge1xuICAgIHZhciBwbTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29uc29sZSAhPT0gbnVsbCkge1xuICAgICAgY29uc29sZS5sb2coXCJERVBSRUNBVEVEOiBUaGlzIG1ldGhvZCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlICQuZm4ucGFzdGFibGVOb25JbnB1dGFibGUoKSBpbnN0ZWFkLlwiKTtcbiAgICB9XG4gICAgcG0gPSBQYXN0ZS5tb3VudE5vbklucHV0YWJsZShwYXN0ZUNvbnRhaW5lcik7XG4gICAgcmV0dXJuIHBtLl9jb250YWluZXI7XG4gIH07XG5cbiAgJC5mbi5wYXN0YWJsZU5vbklucHV0YWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbCwgaiwgbGVuLCByZWY7XG4gICAgcmVmID0gdGhpcztcbiAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIGVsID0gcmVmW2pdO1xuICAgICAgaWYgKGVsLl9wYXN0YWJsZSB8fCAkKGVsKS5pcygndGV4dGFyZWEsIGlucHV0OnRleHQsIFtjb250ZW50ZWRpdGFibGVdJykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBQYXN0ZS5tb3VudE5vbklucHV0YWJsZShlbCk7XG4gICAgICBlbC5fcGFzdGFibGUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAkLmZuLnBhc3RhYmxlVGV4dGFyZWEgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWwsIGosIGxlbiwgcmVmO1xuICAgIHJlZiA9IHRoaXM7XG4gICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICBlbCA9IHJlZltqXTtcbiAgICAgIGlmIChlbC5fcGFzdGFibGUgfHwgJChlbCkuaXMoJzpub3QodGV4dGFyZWEsIGlucHV0OnRleHQpJykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBQYXN0ZS5tb3VudFRleHRhcmVhKGVsKTtcbiAgICAgIGVsLl9wYXN0YWJsZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gICQuZm4ucGFzdGFibGVDb250ZW50ZWRpdGFibGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWwsIGosIGxlbiwgcmVmO1xuICAgIHJlZiA9IHRoaXM7XG4gICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICBlbCA9IHJlZltqXTtcbiAgICAgIGlmIChlbC5fcGFzdGFibGUgfHwgJChlbCkuaXMoJzpub3QoW2NvbnRlbnRlZGl0YWJsZV0pJykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBQYXN0ZS5tb3VudENvbnRlbnRlZGl0YWJsZShlbCk7XG4gICAgICBlbC5fcGFzdGFibGUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBkYXRhVVJMdG9CbG9iID0gZnVuY3Rpb24oZGF0YVVSTCwgc2xpY2VTaXplKSB7XG4gICAgdmFyIGI2NERhdGEsIGJ5dGVBcnJheSwgYnl0ZUFycmF5cywgYnl0ZUNoYXJhY3RlcnMsIGJ5dGVOdW1iZXJzLCBjb250ZW50VHlwZSwgaSwgbSwgb2Zmc2V0LCByZWYsIHNsaWNlO1xuICAgIGlmIChzbGljZVNpemUgPT0gbnVsbCkge1xuICAgICAgc2xpY2VTaXplID0gNTEyO1xuICAgIH1cbiAgICBpZiAoIShtID0gZGF0YVVSTC5tYXRjaCgvXmRhdGFcXDooW15cXDtdKylcXDtiYXNlNjRcXCwoLispJC8pKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJlZiA9IG0sIG0gPSByZWZbMF0sIGNvbnRlbnRUeXBlID0gcmVmWzFdLCBiNjREYXRhID0gcmVmWzJdO1xuICAgIGJ5dGVDaGFyYWN0ZXJzID0gYXRvYihiNjREYXRhKTtcbiAgICBieXRlQXJyYXlzID0gW107XG4gICAgb2Zmc2V0ID0gMDtcbiAgICB3aGlsZSAob2Zmc2V0IDwgYnl0ZUNoYXJhY3RlcnMubGVuZ3RoKSB7XG4gICAgICBzbGljZSA9IGJ5dGVDaGFyYWN0ZXJzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgc2xpY2VTaXplKTtcbiAgICAgIGJ5dGVOdW1iZXJzID0gbmV3IEFycmF5KHNsaWNlLmxlbmd0aCk7XG4gICAgICBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgc2xpY2UubGVuZ3RoKSB7XG4gICAgICAgIGJ5dGVOdW1iZXJzW2ldID0gc2xpY2UuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgICAgYnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZU51bWJlcnMpO1xuICAgICAgYnl0ZUFycmF5cy5wdXNoKGJ5dGVBcnJheSk7XG4gICAgICBvZmZzZXQgKz0gc2xpY2VTaXplO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEJsb2IoYnl0ZUFycmF5cywge1xuICAgICAgdHlwZTogY29udGVudFR5cGVcbiAgICB9KTtcbiAgfTtcblxuICBjcmVhdGVIaWRkZW5FZGl0YWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKS5hdHRyKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKS5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpLmF0dHIoJ3RhYmluZGV4JywgLTEpLmNzcyh7XG4gICAgICB3aWR0aDogMSxcbiAgICAgIGhlaWdodDogMSxcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgbGVmdDogLTEwMCxcbiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgIG9wYWNpdHk6IDFlLTE3XG4gICAgfSk7XG4gIH07XG5cbiAgaXNGb2N1c2FibGUgPSBmdW5jdGlvbihlbGVtZW50LCBoYXNUYWJpbmRleCkge1xuICAgIHZhciBmaWVsZHNldCwgZm9jdXNhYmxlSWZWaXNpYmxlLCBpbWcsIG1hcCwgbWFwTmFtZSwgbm9kZU5hbWU7XG4gICAgbWFwID0gdm9pZCAwO1xuICAgIG1hcE5hbWUgPSB2b2lkIDA7XG4gICAgaW1nID0gdm9pZCAwO1xuICAgIGZvY3VzYWJsZUlmVmlzaWJsZSA9IHZvaWQgMDtcbiAgICBmaWVsZHNldCA9IHZvaWQgMDtcbiAgICBub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoJ2FyZWEnID09PSBub2RlTmFtZSkge1xuICAgICAgbWFwID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgbWFwTmFtZSA9IG1hcC5uYW1lO1xuICAgICAgaWYgKCFlbGVtZW50LmhyZWYgfHwgIW1hcE5hbWUgfHwgbWFwLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdtYXAnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGltZyA9ICQoJ2ltZ1t1c2VtYXA9XFwnIycgKyBtYXBOYW1lICsgJ1xcJ10nKTtcbiAgICAgIHJldHVybiBpbWcubGVuZ3RoID4gMCAmJiBpbWcuaXMoJzp2aXNpYmxlJyk7XG4gICAgfVxuICAgIGlmICgvXihpbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkLy50ZXN0KG5vZGVOYW1lKSkge1xuICAgICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gIWVsZW1lbnQuZGlzYWJsZWQ7XG4gICAgICBpZiAoZm9jdXNhYmxlSWZWaXNpYmxlKSB7XG4gICAgICAgIGZpZWxkc2V0ID0gJChlbGVtZW50KS5jbG9zZXN0KCdmaWVsZHNldCcpWzBdO1xuICAgICAgICBpZiAoZmllbGRzZXQpIHtcbiAgICAgICAgICBmb2N1c2FibGVJZlZpc2libGUgPSAhZmllbGRzZXQuZGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCdhJyA9PT0gbm9kZU5hbWUpIHtcbiAgICAgIGZvY3VzYWJsZUlmVmlzaWJsZSA9IGVsZW1lbnQuaHJlZiB8fCBoYXNUYWJpbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gaGFzVGFiaW5kZXg7XG4gICAgfVxuICAgIGZvY3VzYWJsZUlmVmlzaWJsZSA9IGZvY3VzYWJsZUlmVmlzaWJsZSB8fCAkKGVsZW1lbnQpLmlzKCdbY29udGVudGVkaXRhYmxlXScpO1xuICAgIHJldHVybiBmb2N1c2FibGVJZlZpc2libGUgJiYgJChlbGVtZW50KS5pcygnOnZpc2libGUnKTtcbiAgfTtcblxuICBQYXN0ZSA9IChmdW5jdGlvbigpIHtcbiAgICBQYXN0ZS5wcm90b3R5cGUuX3RhcmdldCA9IG51bGw7XG5cbiAgICBQYXN0ZS5wcm90b3R5cGUuX2NvbnRhaW5lciA9IG51bGw7XG5cbiAgICBQYXN0ZS5tb3VudE5vbklucHV0YWJsZSA9IGZ1bmN0aW9uKG5vbklucHV0YWJsZSkge1xuICAgICAgdmFyIHBhc3RlO1xuICAgICAgcGFzdGUgPSBuZXcgUGFzdGUoY3JlYXRlSGlkZGVuRWRpdGFibGUoKS5hcHBlbmRUbyhub25JbnB1dGFibGUpLCBub25JbnB1dGFibGUpO1xuICAgICAgJChub25JbnB1dGFibGUpLm9uKCdjbGljaycsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICBpZiAoIShpc0ZvY3VzYWJsZShldi50YXJnZXQsIGZhbHNlKSB8fCB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXN0ZS5fY29udGFpbmVyLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgcGFzdGUuX2NvbnRhaW5lci5vbignZm9jdXMnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKG5vbklucHV0YWJsZSkuYWRkQ2xhc3MoJ3Bhc3RhYmxlLWZvY3VzJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICByZXR1cm4gcGFzdGUuX2NvbnRhaW5lci5vbignYmx1cicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQobm9uSW5wdXRhYmxlKS5yZW1vdmVDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9O1xuXG4gICAgUGFzdGUubW91bnRUZXh0YXJlYSA9IGZ1bmN0aW9uKHRleHRhcmVhKSB7XG4gICAgICB2YXIgY3RsRG93biwgcGFzdGUsIHJlZiwgcmVmMTtcbiAgICAgIGlmICgodHlwZW9mIERhdGFUcmFuc2ZlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBEYXRhVHJhbnNmZXIgIT09IG51bGwgPyBEYXRhVHJhbnNmZXIucHJvdG90eXBlIDogdm9pZCAwKSAmJiAoKHJlZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jYWxsKE9iamVjdCwgRGF0YVRyYW5zZmVyLnByb3RvdHlwZSwgJ2l0ZW1zJykpICE9IG51bGwgPyByZWYxLmdldCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW91bnRDb250ZW50ZWRpdGFibGUodGV4dGFyZWEpO1xuICAgICAgfVxuICAgICAgcGFzdGUgPSBuZXcgUGFzdGUoY3JlYXRlSGlkZGVuRWRpdGFibGUoKS5pbnNlcnRCZWZvcmUodGV4dGFyZWEpLCB0ZXh0YXJlYSk7XG4gICAgICBjdGxEb3duID0gZmFsc2U7XG4gICAgICAkKHRleHRhcmVhKS5vbigna2V5dXAnLCBmdW5jdGlvbihldikge1xuICAgICAgICB2YXIgcmVmMjtcbiAgICAgICAgaWYgKChyZWYyID0gZXYua2V5Q29kZSkgPT09IDE3IHx8IHJlZjIgPT09IDIyNCkge1xuICAgICAgICAgIGN0bERvd24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgJCh0ZXh0YXJlYSkub24oJ2tleWRvd24nLCBmdW5jdGlvbihldikge1xuICAgICAgICB2YXIgcmVmMjtcbiAgICAgICAgaWYgKChyZWYyID0gZXYua2V5Q29kZSkgPT09IDE3IHx8IHJlZjIgPT09IDIyNCkge1xuICAgICAgICAgIGN0bERvd24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZXYuY3RybEtleSAhPSBudWxsKSAmJiAoZXYubWV0YUtleSAhPSBudWxsKSkge1xuICAgICAgICAgIGN0bERvd24gPSBldi5jdHJsS2V5IHx8IGV2Lm1ldGFLZXk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0bERvd24gJiYgZXYua2V5Q29kZSA9PT0gODYpIHtcbiAgICAgICAgICBwYXN0ZS5fdGV4dGFyZWFfZm9jdXNfc3RvbGVuID0gdHJ1ZTtcbiAgICAgICAgICBwYXN0ZS5fY29udGFpbmVyLmZvY3VzKCk7XG4gICAgICAgICAgcGFzdGUuX3Bhc3RlX2V2ZW50X2ZpcmVkID0gZmFsc2U7XG4gICAgICAgICAgc2V0VGltZW91dCgoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFwYXN0ZS5fcGFzdGVfZXZlbnRfZmlyZWQpIHtcbiAgICAgICAgICAgICAgICAkKHRleHRhcmVhKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXN0ZS5fdGV4dGFyZWFfZm9jdXNfc3RvbGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSkodGhpcyksIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSk7XG4gICAgICAkKHRleHRhcmVhKS5vbigncGFzdGUnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge307XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICAkKHRleHRhcmVhKS5vbignZm9jdXMnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghcGFzdGUuX3RleHRhcmVhX2ZvY3VzX3N0b2xlbikge1xuICAgICAgICAgICAgcmV0dXJuICQodGV4dGFyZWEpLmFkZENsYXNzKCdwYXN0YWJsZS1mb2N1cycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgICQodGV4dGFyZWEpLm9uKCdibHVyJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIXBhc3RlLl90ZXh0YXJlYV9mb2N1c19zdG9sZW4pIHtcbiAgICAgICAgICAgIHJldHVybiAkKHRleHRhcmVhKS5yZW1vdmVDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICAkKHBhc3RlLl90YXJnZXQpLm9uKCdfcGFzdGVDaGVja0NvbnRhaW5lckRvbmUnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICQodGV4dGFyZWEpLmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuIHBhc3RlLl90ZXh0YXJlYV9mb2N1c19zdG9sZW4gPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHJldHVybiAkKHBhc3RlLl90YXJnZXQpLm9uKCdwYXN0ZVRleHQnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2LCBkYXRhKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnQsIGN1ckVuZCwgY3VyU3RhcnQ7XG4gICAgICAgICAgY3VyU3RhcnQgPSAkKHRleHRhcmVhKS5wcm9wKCdzZWxlY3Rpb25TdGFydCcpO1xuICAgICAgICAgIGN1ckVuZCA9ICQodGV4dGFyZWEpLnByb3AoJ3NlbGVjdGlvbkVuZCcpO1xuICAgICAgICAgIGNvbnRlbnQgPSAkKHRleHRhcmVhKS52YWwoKTtcbiAgICAgICAgICAkKHRleHRhcmVhKS52YWwoXCJcIiArIGNvbnRlbnQuc2xpY2UoMCwgY3VyU3RhcnQpICsgZGF0YS50ZXh0ICsgY29udGVudC5zbGljZShjdXJFbmQpKTtcbiAgICAgICAgICAkKHRleHRhcmVhKVswXS5zZXRTZWxlY3Rpb25SYW5nZShjdXJTdGFydCArIGRhdGEudGV4dC5sZW5ndGgsIGN1clN0YXJ0ICsgZGF0YS50ZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuICQodGV4dGFyZWEpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH07XG5cbiAgICBQYXN0ZS5tb3VudENvbnRlbnRlZGl0YWJsZSA9IGZ1bmN0aW9uKGNvbnRlbnRlZGl0YWJsZSkge1xuICAgICAgdmFyIHBhc3RlO1xuICAgICAgcGFzdGUgPSBuZXcgUGFzdGUoY29udGVudGVkaXRhYmxlLCBjb250ZW50ZWRpdGFibGUpO1xuICAgICAgJChjb250ZW50ZWRpdGFibGUpLm9uKCdmb2N1cycsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQoY29udGVudGVkaXRhYmxlKS5hZGRDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHJldHVybiAkKGNvbnRlbnRlZGl0YWJsZSkub24oJ2JsdXInLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKGNvbnRlbnRlZGl0YWJsZSkucmVtb3ZlQ2xhc3MoJ3Bhc3RhYmxlLWZvY3VzJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIFBhc3RlKF9jb250YWluZXIsIF90YXJnZXQpIHtcbiAgICAgIHRoaXMuX2NvbnRhaW5lciA9IF9jb250YWluZXI7XG4gICAgICB0aGlzLl90YXJnZXQgPSBfdGFyZ2V0O1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gJCh0aGlzLl9jb250YWluZXIpO1xuICAgICAgdGhpcy5fdGFyZ2V0ID0gJCh0aGlzLl90YXJnZXQpLmFkZENsYXNzKCdwYXN0YWJsZScpO1xuICAgICAgdGhpcy5fY29udGFpbmVyLm9uKCdwYXN0ZScsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICB2YXIgX2ksIGNsaXBib2FyZERhdGEsIGZpbGUsIGZpbGVUeXBlLCBpdGVtLCBqLCBrLCBsLCBsZW4sIGxlbjEsIGxlbjIsIHBhc3RlZEZpbGVuYW1lLCByZWFkZXIsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgc3RyaW5nSXNGaWxlbmFtZSwgdGV4dDtcbiAgICAgICAgICBfdGhpcy5vcmlnaW5hbEV2ZW50ID0gKGV2Lm9yaWdpbmFsRXZlbnQgIT09IG51bGwgPyBldi5vcmlnaW5hbEV2ZW50IDogbnVsbCk7XG4gICAgICAgICAgX3RoaXMuX3Bhc3RlX2V2ZW50X2ZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoKChyZWYgPSBldi5vcmlnaW5hbEV2ZW50KSAhPSBudWxsID8gcmVmLmNsaXBib2FyZERhdGEgOiB2b2lkIDApICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNsaXBib2FyZERhdGEgPSBldi5vcmlnaW5hbEV2ZW50LmNsaXBib2FyZERhdGE7XG4gICAgICAgICAgICBpZiAoY2xpcGJvYXJkRGF0YS5pdGVtcykge1xuICAgICAgICAgICAgICBwYXN0ZWRGaWxlbmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgIF90aGlzLm9yaWdpbmFsRXZlbnQucGFzdGVkVHlwZXMgPSBbXTtcbiAgICAgICAgICAgICAgcmVmMSA9IGNsaXBib2FyZERhdGEuaXRlbXM7XG4gICAgICAgICAgICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZjEubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gcmVmMVtqXTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlLm1hdGNoKC9edGV4dFxcLyhwbGFpbnxydGZ8aHRtbCkvKSkge1xuICAgICAgICAgICAgICAgICAgX3RoaXMub3JpZ2luYWxFdmVudC5wYXN0ZWRUeXBlcy5wdXNoKGl0ZW0udHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlZjIgPSBjbGlwYm9hcmREYXRhLml0ZW1zO1xuICAgICAgICAgICAgICBmb3IgKF9pID0gayA9IDAsIGxlbjEgPSByZWYyLmxlbmd0aDsgayA8IGxlbjE7IF9pID0gKytrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IHJlZjJbX2ldO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUubWF0Y2goL15pbWFnZVxcLy8pKSB7XG4gICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5faGFuZGxlSW1hZ2UoZXZlbnQudGFyZ2V0LnJlc3VsdCwgX3RoaXMub3JpZ2luYWxFdmVudCwgcGFzdGVkRmlsZW5hbWUpO1xuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGl0ZW0uZ2V0QXNGaWxlKCkpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG4gICAgICAgICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0L3BsYWluJykge1xuICAgICAgICAgICAgICAgICAgaWYgKF9pID09PSAwICYmIGNsaXBib2FyZERhdGEuaXRlbXMubGVuZ3RoID4gMSAmJiBjbGlwYm9hcmREYXRhLml0ZW1zWzFdLnR5cGUubWF0Y2goL15pbWFnZVxcLy8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZ0lzRmlsZW5hbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZSA9IGNsaXBib2FyZERhdGEuaXRlbXNbMV0udHlwZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0QXNTdHJpbmcoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdJc0ZpbGVuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGFzdGVkRmlsZW5hbWUgPSBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVUZXh0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGaWxlbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlOiBmaWxlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IF90aGlzLm9yaWdpbmFsRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZVRleHQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBfdGhpcy5vcmlnaW5hbEV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAndGV4dC9ydGYnKSB7XG4gICAgICAgICAgICAgICAgICBpdGVtLmdldEFzU3RyaW5nKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZVRleHRSaWNoJywge1xuICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBfdGhpcy5vcmlnaW5hbEV2ZW50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0L2h0bWwnKSB7XG4gICAgICAgICAgICAgICAgICBpdGVtLmdldEFzU3RyaW5nKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZVRleHRIdG1sJywge1xuICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBfdGhpcy5vcmlnaW5hbEV2ZW50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoLTEgIT09IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoY2xpcGJvYXJkRGF0YS50eXBlcywgJ3RleHQvcGxhaW4nKSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSBjbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVUZXh0Jywge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBfdGhpcy5vcmlnaW5hbEV2ZW50XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfdGhpcy5fY2hlY2tJbWFnZXNJbkNvbnRhaW5lcihmdW5jdGlvbihzcmMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX2hhbmRsZUltYWdlKHNyYywgX3RoaXMub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2xpcGJvYXJkRGF0YSA9IHdpbmRvdy5jbGlwYm9hcmREYXRhKSB7XG4gICAgICAgICAgICBpZiAoKHJlZjMgPSAodGV4dCA9IGNsaXBib2FyZERhdGEuZ2V0RGF0YSgnVGV4dCcpKSkgIT0gbnVsbCA/IHJlZjMubGVuZ3RoIDogdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZVRleHQnLCB7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogX3RoaXMub3JpZ2luYWxFdmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ19wYXN0ZUNoZWNrQ29udGFpbmVyRG9uZScpO1xuICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlZjQgPSBjbGlwYm9hcmREYXRhLmZpbGVzO1xuICAgICAgICAgICAgICBmb3IgKGwgPSAwLCBsZW4yID0gcmVmNC5sZW5ndGg7IGwgPCBsZW4yOyBsKyspIHtcbiAgICAgICAgICAgICAgICBmaWxlID0gcmVmNFtsXTtcbiAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlSW1hZ2UoVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKSwgX3RoaXMub3JpZ2luYWxFdmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX3RoaXMuX2NoZWNrSW1hZ2VzSW5Db250YWluZXIoZnVuY3Rpb24oc3JjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9oYW5kbGVJbWFnZShzcmMsIF90aGlzLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfVxuXG4gICAgUGFzdGUucHJvdG90eXBlLl9oYW5kbGVJbWFnZSA9IGZ1bmN0aW9uKHNyYywgZSwgbmFtZSkge1xuICAgICAgdmFyIGxvYWRlcjtcbiAgICAgIGlmIChzcmMubWF0Y2goL153ZWJraXRcXC1mYWtlXFwtdXJsXFw6XFwvXFwvLykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZUltYWdlRXJyb3InLCB7XG4gICAgICAgICAgbWVzc2FnZTogXCJZb3UgYXJlIHRyeWluZyB0byBwYXN0ZSBhbiBpbWFnZSBpbiBTYWZhcmksIGhvd2V2ZXIgd2UgYXJlIHVuYWJsZSB0byByZXRpZXZlIGl0cyBkYXRhLlwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlSW1hZ2VTdGFydCcpO1xuICAgICAgbG9hZGVyID0gbmV3IEltYWdlKCk7XG4gICAgICBsb2FkZXIuY3Jvc3NPcmlnaW4gPSBcImFub255bW91c1wiO1xuICAgICAgbG9hZGVyLm9ubG9hZCA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGJsb2IsIGNhbnZhcywgY3R4LCBkYXRhVVJMO1xuICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGxvYWRlci53aWR0aDtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gbG9hZGVyLmhlaWdodDtcbiAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICBjdHguZHJhd0ltYWdlKGxvYWRlciwgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICBkYXRhVVJMID0gbnVsbDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO1xuICAgICAgICAgICAgYmxvYiA9IGRhdGFVUkx0b0Jsb2IoZGF0YVVSTCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG4gICAgICAgICAgaWYgKGRhdGFVUkwpIHtcbiAgICAgICAgICAgIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVJbWFnZScsIHtcbiAgICAgICAgICAgICAgYmxvYjogYmxvYixcbiAgICAgICAgICAgICAgZGF0YVVSTDogZGF0YVVSTCxcbiAgICAgICAgICAgICAgd2lkdGg6IGxvYWRlci53aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBsb2FkZXIuaGVpZ2h0LFxuICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLFxuICAgICAgICAgICAgICBuYW1lOiBuYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVJbWFnZUVuZCcpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgICBsb2FkZXIub25lcnJvciA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZUltYWdlRXJyb3InLCB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBnZXQgaW1hZ2UgZnJvbTogXCIgKyBzcmMsXG4gICAgICAgICAgICB1cmw6IHNyY1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlSW1hZ2VFbmQnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgICAgcmV0dXJuIGxvYWRlci5zcmMgPSBzcmM7XG4gICAgfTtcblxuICAgIFBhc3RlLnByb3RvdHlwZS5fY2hlY2tJbWFnZXNJbkNvbnRhaW5lciA9IGZ1bmN0aW9uKGNiKSB7XG4gICAgICB2YXIgaW1nLCBqLCBsZW4sIHJlZiwgdGltZXNwYW47XG4gICAgICB0aW1lc3BhbiA9IE1hdGguZmxvb3IoMTAwMCAqIE1hdGgucmFuZG9tKCkpO1xuICAgICAgcmVmID0gdGhpcy5fY29udGFpbmVyLmZpbmQoJ2ltZycpO1xuICAgICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGltZyA9IHJlZltqXTtcbiAgICAgICAgaW1nW1wiX3Bhc3RlX21hcmtlZF9cIiArIHRpbWVzcGFuXSA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBrLCBsZW4xLCByZWYxO1xuICAgICAgICAgIHJlZjEgPSBfdGhpcy5fY29udGFpbmVyLmZpbmQoJ2ltZycpO1xuICAgICAgICAgIGZvciAoayA9IDAsIGxlbjEgPSByZWYxLmxlbmd0aDsgayA8IGxlbjE7IGsrKykge1xuICAgICAgICAgICAgaW1nID0gcmVmMVtrXTtcbiAgICAgICAgICAgIGlmICghaW1nW1wiX3Bhc3RlX21hcmtlZF9cIiArIHRpbWVzcGFuXSkge1xuICAgICAgICAgICAgICBjYihpbWcuc3JjKTtcbiAgICAgICAgICAgICAgJChpbWcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdfcGFzdGVDaGVja0NvbnRhaW5lckRvbmUnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpLCAxKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhc3RlO1xuXG4gIH0pKCk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCJyZXF1aXJlKCdwYXN0ZS5qcy9wYXN0ZS5qcycpO1xucmVxdWlyZSgndGhlLXBhc3RlLWJhc2UuanMnKTtcbnJlcXVpcmUoJ21lZGlhLXZpZXcuanMnKTtcbnJlcXVpcmUoJ3RoZS1wYXN0ZS5qcycpO1xuIiwiKGZ1bmN0aW9uKCQsd2luZG93LG8pe1xuXHR2YXIgdGhlcGFzdGUgPSB3cC5tZWRpYS50aGVwYXN0ZSxcblx0XHRCdXR0b24gPSB3cC5tZWRpYS52aWV3LkJ1dHRvbixcblx0XHRNb2RhbCAgPSB3cC5tZWRpYS52aWV3Lk1vZGFsLFxuXHRcdGwxMG4gICA9IHRoZXBhc3RlLmwxMG47XG5cblxuXHR3cC5tZWRpYS50aGVwYXN0ZS52aWV3LkRhdGFTb3VyY2VJbWFnZVVwbG9hZGVyID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdHRlbXBsYXRlOiB3cC50ZW1wbGF0ZSgndGhlcGFzdGUtdXBsb2FkZXInKSxcblx0XHRjbGFzc05hbWU6ICd0aGVwYXN0ZS11cGxvYWRlcicsXG5cdFx0Y29udHJvbGxlcjpudWxsLFxuXHRcdGltYWdlIDogbnVsbCxcblx0XHQkZGlzY2FyZEJ0biA6IG51bGwsXG5cdFx0JHVwbG9hZEJ0biA6IG51bGwsXG5cblx0XHR1cGxvYWRlciA6IG51bGwsXG5cblx0XHRldmVudHMgOiB7XG5cdFx0XHQnY2xpY2sgW2RhdGEtYWN0aW9uPVwidXBsb2FkXCJdJ1x0OiAndXBsb2FkSW1hZ2UnLFxuXHRcdFx0J2NsaWNrIFtkYXRhLWFjdGlvbj1cImRpc2NhcmRcIl0nXHQ6ICdkaXNjYXJkSW1hZ2UnLFxuXHRcdH0sXG5cdFx0aW5pdGlhbGl6ZSA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR3cC5tZWRpYS5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Xy5kZWZhdWx0cyggdGhpcy5vcHRpb25zLCB7XG5cdFx0XHRcdGRlZmF1bHRGaWxlTmFtZSA6IGwxMG4uaW1hZ2Vcblx0XHRcdH0pO1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRpbnN0ciA9IG5ldyB3cC5tZWRpYS5WaWV3KHtcblx0XHRcdFx0dGFnTmFtZSAgICA6ICdkaXYnLFxuXHRcdFx0XHRjbGFzc05hbWUgIDogJ2luc3RydW1lbnRzJyxcblx0XHRcdFx0Y29udHJvbGxlciA6IHRoaXMuY29udHJvbGxlclxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMudXBsb2FkZXIgPSB0aGlzLm9wdGlvbnMudXBsb2Rlcjtcblx0XHR9LFxuXHRcdHNldEltYWdlRGF0YSA6IGZ1bmN0aW9uKCBkYXRhICkge1xuXHRcdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMuJGltYWdlQ29udGFpbmVyLmh0bWwoJycpLmdldCgwKSxcblx0XHRcdFx0c2VsZiA9IHRoaXMsXG5cdFx0XHRcdGZvcm1hdCA9IGRhdGEubWF0Y2goL2RhdGE6KGltYWdlXFwvKFxcdyspKTsvKVsxXTtcblxuXHRcdFx0aWYgKCAhIHRoZXBhc3RlLm9wdGlvbnMubWltZV90eXBlcy5jb252ZXJ0W2Zvcm1hdF0gKSB7XG5cdFx0XHRcdGZvcm1hdCA9IHRoaXMub3B0aW9ucy5kZWZhdWx0RmlsZUZvcm1hdDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB0aGlzLmltYWdlICkge1xuXHRcdFx0XHR0aGlzLmltYWdlLmRlc3Ryb3koKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5pbWFnZSA9IG5ldyBvLkltYWdlKCk7XG5cdFx0XHR0aGlzLmltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgb3B0cyA9IHNlbGYuZ2V0VXBsb2FkZXIoKS5nZXRPcHRpb24oJ3Jlc2l6ZScpLFxuXHRcdFx0XHRcdHNjYWxlID0gTWF0aC5tYXgoIG9wdHMud2lkdGggLyB0aGlzLndpZHRoLCBvcHRzLmhlaWdodCAvIHRoaXMuaGVpZ2h0ICk7XG5cblx0XHRcdFx0ISFvcHRzICYmIChzY2FsZSA8IDEpICYmIHRoaXMuZG93bnNpemUoIHRoaXMud2lkdGgqc2NhbGUsIHRoaXMuaGVpZ2h0KnNjYWxlICk7XG5cblx0XHRcdFx0dGhpcy5lbWJlZCggY29udGFpbmVyICk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuaW1hZ2UubG9hZCggZGF0YSApO1xuXHRcdFx0aWYgKCB0aGlzLiRpbWFnZUNvbnRhaW5lciApIHtcblx0XHRcdFx0dGhpcy4kaW1hZ2VDb250YWluZXIuYXBwZW5kKHRoaXMuaW1hZ2UpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy4kKCdbZGF0YS1zZXR0aW5nPVwiZm9ybWF0XCJdIGlucHV0W3ZhbHVlPVwiJytmb3JtYXQrJ1wiXScpLnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuXG5cblx0XHRcdHRoaXMuZGlzYWJsZWQoZmFsc2UpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRyZW5kZXIgOiBmdW5jdGlvbigpIHtcblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLiRpbWFnZUNvbnRhaW5lciA9IHRoaXMuJCgnLmltYWdlLWNvbnRhaW5lcicpO1xuXHRcdFx0dGhpcy4kZGlzY2FyZEJ0biA9IHRoaXMuJCgnW2RhdGEtYWN0aW9uPVwiZGlzY2FyZFwiXScpO1xuXHRcdFx0dGhpcy4kdXBsb2FkQnRuID0gdGhpcy4kKCdbZGF0YS1hY3Rpb249XCJ1cGxvYWRcIl0nKTtcblx0XHRcdHRoaXMuJCgnW2RhdGEtc2V0dGluZz1cInRpdGxlXCJdJykudmFsKCB0aGlzLm9wdGlvbnMuZGVmYXVsdEZpbGVOYW1lICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGRpc2NhcmRJbWFnZSA6IGZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLnRyaWdnZXIoICdhY3Rpb246ZGlzY2FyZDpkYXRhaW1hZ2UnICwgdGhpcyApO1xuXHRcdFx0dGhpcy51bmJpbmRVcGxvYWRlckV2ZW50cygpO1xuXHRcdH0sXG5cdFx0dXBsb2FkSW1hZ2UgOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHR5cGUgPSB0aGlzLiQoJ1tkYXRhLXNldHRpbmc9XCJmb3JtYXRcIl0gOmNoZWNrZWQnKS52YWwoKSxcblx0XHRcdFx0c3VmZml4ID0gdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLmNvbnZlcnRbIHR5cGUgXSxcblx0XHRcdFx0bmFtZSA9IHRoaXMuJCgnaW5wdXRbZGF0YS1zZXR0aW5nPVwidGl0bGVcIl0nKS52YWwoKSArICcuJyArIHN1ZmZpeCxcblx0XHRcdFx0YmxvYiA9IHRoaXMuaW1hZ2UuZ2V0QXNCbG9iKCB0eXBlLCB0aGVwYXN0ZS5vcHRpb25zLmpwZWdfcXVhbGl0eSApO1xuXG5cdFx0XHR0aGlzLmJpbmRVcGxvYWRlckV2ZW50cygpO1xuXG5cdFx0XHRibG9iLmRldGFjaCggYmxvYi5nZXRTb3VyY2UoKSApO1xuXHRcdFx0YmxvYi5uYW1lID0gbmFtZTtcblx0XHRcdGJsb2IudHlwZSA9IHR5cGU7XG5cdFx0XHR0aGlzLmdldFVwbG9hZGVyKCkuYWRkRmlsZSggYmxvYiAsIG5hbWUgKTtcblxuXHRcdFx0dGhpcy5kaXNhYmxlZCggdHJ1ZSApO1xuXG5cdFx0XHR0aGlzLnRyaWdnZXIoICdhY3Rpb246dXBsb2FkOmRhdGFpbWFnZScgLCB0aGlzICk7XG5cdFx0fSxcblx0XHRzaG93OmZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLiRlbC5zaG93KCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGhpZGU6ZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMuJGVsLmhpZGUoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0ZGlzYWJsZWQgOiBmdW5jdGlvbiggZGlzYWJsZWQgKSB7XG5cdFx0XHR0aGlzLiRkaXNjYXJkQnRuLnByb3AoICdkaXNhYmxlZCcsIGRpc2FibGVkICk7XG5cdFx0XHR0aGlzLiR1cGxvYWRCdG4ucHJvcCggJ2Rpc2FibGVkJywgZGlzYWJsZWQgKTtcblx0XHR9LFxuXHRcdF91cGxvYWRTdWNjZXNzSGFuZGxlciA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy50cmlnZ2VyKCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHRcdHRoaXMuZGlzYWJsZWQoZmFsc2UpO1xuXHRcdFx0dGhpcy51bmJpbmRVcGxvYWRlckV2ZW50cygpO1xuXHRcdH0sXG5cdFx0X3VwbG9hZEVycm9ySGFuZGxlciA6IGZ1bmN0aW9uKHVwLGVycikge1xuXHRcdFx0dGhpcy50cmlnZ2VyKCAnZXJyb3I6dXBsb2FkZWQ6ZGF0YWltYWdlJywgZXJyICk7XG5cdFx0XHR0aGlzLmRpc2FibGVkKGZhbHNlKTtcblx0XHRcdHRoaXMudW5iaW5kVXBsb2FkZXJFdmVudHMoKTtcblx0XHR9LFxuXHRcdGJpbmRVcGxvYWRlckV2ZW50cyA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5nZXRVcGxvYWRlcigpLmJpbmQoICdGaWxlVXBsb2FkZWQnLFx0dGhpcy5fdXBsb2FkU3VjY2Vzc0hhbmRsZXIsXHR0aGlzICk7XG5cdFx0XHR0aGlzLmdldFVwbG9hZGVyKCkuYmluZCggJ0Vycm9yJyxcdFx0XHR0aGlzLl91cGxvYWRFcnJvckhhbmRsZXIsXHR0aGlzICk7XG5cdFx0fSxcblx0XHR1bmJpbmRVcGxvYWRlckV2ZW50cyA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5nZXRVcGxvYWRlcigpLnVuYmluZCggJ0ZpbGVVcGxvYWRlZCcsXHR0aGlzLl91cGxvYWRTdWNjZXNzSGFuZGxlcixcdHRoaXMgKTtcblx0XHRcdHRoaXMuZ2V0VXBsb2FkZXIoKS51bmJpbmQoICdFcnJvcicsXHRcdFx0dGhpcy5fdXBsb2FkRXJyb3JIYW5kbGVyLFx0dGhpcyApO1xuXHRcdH0sXG5cdFx0Z2V0VXBsb2FkZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udHJvbGxlci51cGxvYWRlci51cGxvYWRlci51cGxvYWRlcjtcblx0XHR9XG5cdH0pO1xuXG5cblx0d3AubWVkaWEudGhlcGFzdGUudmlldy5QYXN0ZWJvYXJkID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdHRlbXBsYXRlOiB3cC50ZW1wbGF0ZSgndGhlcGFzdGUtcGFzdGVib2FyZCcpLFxuXHRcdGNsYXNzTmFtZTogJ3RoZXBhc3RlLXBhc3RlYm9hcmQnLFxuXHRcdGNvbnRyb2xsZXI6bnVsbCxcblx0XHRhY3Rpb246J3Bhc3RlJyxcblx0XHQkcGFzdGVib2FyZCA6IG51bGwsXG5cblx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0d3AubWVkaWEuVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdGNvbnNvbGUubG9nKCB0aGlzLiQoICcuaW5qZWN0b3InICkpO1xuXHRcdFx0dGhpcy4kcGFzdGVib2FyZCA9IHRoaXMuJCggJy5pbmplY3RvcicgKS5wYXN0YWJsZUNvbnRlbnRlZGl0YWJsZSgpO1xuXHRcdFx0dGhpcy4kbWVzc2FnZSA9IHRoaXMuJCggJy5tZXNzYWdlJyApO1xuXHRcdFx0dGhpcy4kcGFzdGVib2FyZC5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRzZWxmLnNob3dfbWVzc2FnZSgnJyk7XG5cdFx0XHR9ICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHN0YXJ0IDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdGNsaXBib2FyZEhhc0ltYWdlO1xuXG5cdFx0XHR0aGlzLmltYWdlUGFzdGVkID0gZmFsc2U7XG5cblx0XHRcdHRoaXMuJHBhc3RlYm9hcmRcblx0XHRcdFx0Lm9uKCdwYXN0ZScsZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0Y2xpcGJvYXJkSGFzSW1hZ2UgPSB3cC5tZWRpYS50aGVwYXN0ZS5jbGlwYm9hcmRIYXNJbWFnZShlLm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YSk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5vbigncGFzdGVUZXh0JyAsIGZ1bmN0aW9uKCBlLCBkYXRhICkge1xuXG5cdFx0XHRcdFx0aWYgKCBjbGlwYm9hcmRIYXNJbWFnZSB8fCBzZWxmLmltYWdlUGFzdGVkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzZWxmLnNob3dfbWVzc2FnZSggbDEwbi5wYXN0ZV9lcnJvcl9ub19pbWFnZSApO1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5odG1sKCcnKTtcblx0XHRcdFx0fSApXG5cdFx0XHRcdC5vbigncGFzdGVJbWFnZScgLCBmdW5jdGlvbiggZSwgZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIHNlbGYuaW1hZ2VQYXN0ZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNlbGYudHJpZ2dlciggJ2FjdGlvbjpjcmVhdGU6ZGF0YWltYWdlJywgdGhpcyAsIGRhdGEuZGF0YVVSTCApO1xuXHRcdFx0XHRcdHNlbGYuaW1hZ2VQYXN0ZWQgPSB0cnVlO1xuXHRcdFx0XHR9IClcblx0XHRcdFx0Lm9uKCdwYXN0ZUltYWdlRXJyb3InICwgZnVuY3Rpb24oIGUsIGRhdGEgKSB7XG5cdFx0XHRcdFx0c2VsZi5zaG93X21lc3NhZ2UoIGwxMG4ucGFzdGVfZXJyb3IgKTtcblx0XHRcdFx0XHQkKCB0aGlzICkuaHRtbCgnJyk7XG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQ7XG5cblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0c2VsZi4kcGFzdGVib2FyZC5nZXQoMCkuZm9jdXMoKTtcblx0XHRcdH0sMSk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c3RvcCA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kcGFzdGVib2FyZFxuXHRcdFx0XHQub2ZmKCdwYXN0ZUltYWdlJylcblx0XHRcdFx0Lm9mZigncGFzdGVJbWFnZUVycm9yJylcblx0XHRcdFx0Lm9mZigncGFzdGVUZXh0Jyk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNob3c6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRlbC5zaG93KCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGhpZGU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRlbC5oaWRlKCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNob3dfbWVzc2FnZTpmdW5jdGlvbiggbXNnICkge1xuXHRcdFx0dGhpcy4kbWVzc2FnZS50ZXh0KCBtc2cgKTtcblx0XHR9XG5cdH0pO1xuXG5cdHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlR3JhYmJlciA9IHdwLm1lZGlhLlZpZXcuZXh0ZW5kKHtcbi8vXHRcdHRhZ05hbWU6ICAgJ2RpdicsXG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCd0aGVwYXN0ZS1ncmFiYmVyJyksXG5cdFx0Y2xhc3NOYW1lIDogJ3RoZXBhc3RlLWdyYWJiZXInLFxuXG5cdFx0Z3JhYmJlciA6IG51bGwsXG5cdFx0dXBsb2FkZXIgOiBudWxsLFxuXG5cdFx0aW5pdGlhbGl6ZSA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHJldCA9IHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRfLmRlZmF1bHRzKCB0aGlzLm9wdGlvbnMsIHtcblx0XHRcdFx0d3B1cGxvYWRlclx0XHQ6IG51bGwsXG5cdFx0XHRcdGRlZmF1bHRGaWxlTmFtZVx0OiBsMTBuLnBhc3RlZCxcblx0XHRcdFx0ZGVmYXVsdEZpbGVGb3JtYXQgOiAnaW1hZ2UvcG5nJyxcblx0XHRcdFx0dGl0bGVcdFx0XHQ6IGwxMG4uY29weV9wYXN0ZVxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuZ3JhYmJlciAgPSBuZXcgdGhpcy5vcHRpb25zLmdyYWJiZXIoIHsgY29udHJvbGxlclx0OiB0aGlzLmNvbnRyb2xsZXIgfSApO1xuXG5cdFx0XHR0aGlzLnVwbG9hZGVyID0gbmV3IHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlVXBsb2FkZXIoIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRyb2xsZXJcdFx0XHQ6IHRoaXMuY29udHJvbGxlcixcblx0XHRcdFx0XHRcdFx0XHRcdHVwbG9kZXJcdFx0XHRcdDogdGhpcy5vcHRpb25zLndwdXBsb2FkZXIsXG5cdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0RmlsZU5hbWVcdFx0OiB0aGlzLm9wdGlvbnMuZGVmYXVsdEZpbGVOYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdEZpbGVGb3JtYXRcdDogdGhpcy5vcHRpb25zLmRlZmF1bHRGaWxlRm9ybWF0XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHR0aGlzLnJlbmRlcigpO1xuXG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLmdyYWJiZXIsICdhY3Rpb246Y3JlYXRlOmRhdGFpbWFnZScsXHR0aGlzLmltYWdlQ3JlYXRlZCApO1xuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy51cGxvYWRlciwgJ2FjdGlvbjpkaXNjYXJkOmRhdGFpbWFnZScsXHR0aGlzLnN0YXJ0R3JhYmJpbmcgKTtcblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9LFxuXHRcdHJlbmRlcjpmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuY29uc29sZS5sb2cod3AubWVkaWEuVmlldy5wcm90b3R5cGUucmVuZGVyLHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLnJlbmRlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdHRoaXMuJCgnLmNvbnRlbnQnKVxuXHRcdFx0XHQuYXBwZW5kKCB0aGlzLmdyYWJiZXIucmVuZGVyKCkuJGVsIClcblx0XHRcdFx0LmFwcGVuZCggdGhpcy51cGxvYWRlci5yZW5kZXIoKS4kZWwgKTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRpbWFnZUNyZWF0ZWQgOiBmdW5jdGlvbiggZ3JhYmJlciAsIGltYWdlRGF0YSApIHtcblx0XHRcdHRoaXMuZ3JhYmJlci5zdG9wKCkuaGlkZSgpO1xuXHRcdFx0dGhpcy51cGxvYWRlci5zaG93KCkuc2V0SW1hZ2VEYXRhKCBpbWFnZURhdGEgKTtcblx0XHR9LFxuXHRcdHN0YXJ0R3JhYmJpbmc6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnVwbG9hZGVyLmhpZGUoKTtcblx0XHRcdHRoaXMuZ3JhYmJlci5zaG93KCkuc3RhcnQoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c3RvcEdyYWJiaW5nOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5ncmFiYmVyLnN0b3AoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0Z2V0QWN0aW9uIDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5ncmFiYmVyLmFjdGlvbjtcblx0XHR9LFxuXHRcdGRpc21pc3M6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmdyYWJiZXIuc3RvcCgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9KTtcblxufSkoalF1ZXJ5LHdpbmRvdyxtT3hpZSk7XG4iLCIoZnVuY3Rpb24oICQsIGV4cG9ydHMsIG8gKSB7XG5cblx0dmFyIGlzX2Nocm9tZVx0PSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpID4gLTEsXG5cdFx0Y291bnRlciA9IDAsXG5cdFx0d29ya2Zsb3c7XG5cblx0dGhlcGFzdGUgPSBleHBvcnRzLnRoZXBhc3RlID0gJC5leHRlbmQoIHtcblx0XHRzdXBwb3J0cyA6IHtcblx0XHRcdHBhc3RlOiAoICgncGFzdGUnIGluIGRvY3VtZW50KSB8fCAoJ29ucGFzdGUnIGluIGRvY3VtZW50KSB8fCB0eXBlb2Yod2luZG93Lm9ucGFzdGUpID09PSAnb2JqZWN0JyB8fCAoICdvbnBhc3RlJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKSApICksIC8vIGJyb3dzZXJcblx0XHR9LFxuXHRcdHZpZXc6e30sXG5cblx0XHR1cGxvYWRJbWFnZTogZnVuY3Rpb24oIGltYWdlLCBlZGl0b3IsIHVwbG9hZF9wbGFjZWhvbGRlciApIHtcblxuXHRcdFx0dmFyIGlkID0gJ19fdGhlcGFzdGVfYm94XycrKGNvdW50ZXIrKyksXG5cdFx0XHRcdCRjb250YWluZXIgPSAkKGltYWdlKVxuXHRcdFx0XHRcdC53cmFwKCc8ZGl2IGlkPVwiJytpZCsnXCIgZGF0YS1wcm9ncmVzcz1cIjBcIiBjbGFzcz1cInRoZXBhc3RlLWltYWdlLXBsYWNlaG9sZGVyXCIgY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIj48L2Rpdj4nKVxuXHRcdFx0XHRcdC5wYXJlbnQoKTtcblxuXHRcdFx0XHQvLyBzZXQgJGNvbnRhaW5lciBzaXplIG9uY2Uga25vd25cblx0XHRcdFx0aW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JCggZWRpdG9yLiQoJyMnK2lkKSApLndpZHRoKCB0aGlzLm5hdHVyYWxXaWR0aCApO1xuXHRcdFx0XHRcdCQoIGVkaXRvci4kKCcjJytpZCkgKS5oZWlnaHQoIHRoaXMubmF0dXJhbEhlaWdodCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdHZhciB4aHIsXG5cdFx0XHRcdHdvcmtmbG93LFxuXHRcdFx0XHRzcmMgPSBpbWFnZS5zcmMsXG5cdFx0XHRcdHN1YiA9IHNyYy5zdWJzdHIoMCw1KSxcblx0XHRcdFx0dXBsb2FkID0gZnVuY3Rpb24oIGRhdGFVUkwgKXtcblx0XHRcdFx0XHR2YXIgdHlwZSA9IGRhdGFVUkwubWF0Y2goL15kYXRhXFw6KFteXFw7XSspXFw7LylbMV0sXG5cdFx0XHRcdFx0XHRmaWxlID0gbmV3IG8uQmxvYiggbnVsbCwgeyBkYXRhOiBkYXRhVVJMIH0gKSxcblx0XHRcdFx0XHRcdHN1ZmZpeCA9IHRoZXBhc3RlLm9wdGlvbnMubWltZV90eXBlcy5jb252ZXJ0WyB0eXBlIF0sXG5cdFx0XHRcdFx0XHRwb3N0bmFtZSA9ICQoJyNwb3N0IFtuYW1lPVwicG9zdF90aXRsZVwiXSN0aXRsZScpLnZhbCgpO1xuXHRcdFx0XHRcdGlmICggJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiBzdWZmaXggKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLnRyYWNlKCAnV29uXFwndCB1cGxvYWQsIGJhZCBtaW1lIHR5cGU6ICcgKyB0eXBlICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIHBvc3RuYW1lICkge1xuXHRcdFx0XHRcdFx0cG9zdG5hbWUgPSBwb3N0bmFtZS5yZXBsYWNlKC8oW1xcXlxcIVxcPzw+OlwiJ1xcL1xcfFxcKsKnXSkvZywnJykucmVwbGFjZSgvICsvZywnICcpO1xuXHRcdFx0XHRcdFx0ZmlsZS5uYW1lID0gdGhlcGFzdGUubDEwbi5wYXN0ZWRfaW50byArICcgJyArIHBvc3RuYW1lICsgJy4nICsgc3VmZml4O1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRmaWxlLm5hbWUgPSB0aGVwYXN0ZS5sMTBuLnBhc3RlZCArICcuJyArIHN1ZmZpeDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZmlsZS50eXBlID0gdHlwZTtcblxuXHRcdFx0XHRcdHZhciBhZGRGaWxlID0gZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmFkZEZpbGUoIGZpbGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCAhIHdvcmtmbG93ICkge1xuXHRcdFx0XHRcdFx0d29ya2Zsb3cgPSB3cC5tZWRpYS5lZGl0b3Iub3Blbiggd2luZG93LndwQWN0aXZlRWRpdG9yLCB7XG5cdFx0XHRcdFx0XHRcdGZyYW1lOlx0XHQncG9zdCcsXG5cdFx0XHRcdFx0XHRcdHN0YXRlOlx0XHQnaW5zZXJ0Jyxcblx0XHRcdFx0XHRcdFx0dGl0bGU6XHRcdHRoZXBhc3RlLmwxMG4uY29weV9wYXN0ZSxcblx0XHRcdFx0XHRcdFx0bXVsdGlwbGU6XHRmYWxzZVxuXHRcdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdFx0XHR3b3JrZmxvdy5jbG9zZSgpO1xuXG5cdFx0XHRcdFx0XHRpZiAoIHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyICYmIHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnJlYWR5ICkge1xuXHRcdFx0XHRcdFx0XHRhZGRGaWxlKCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR3b3JrZmxvdy5vbiggJ3VwbG9hZGVyOnJlYWR5JywgYWRkRmlsZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR3b3JrZmxvdy5zdGF0ZSgpLnJlc2V0KCk7XG5cdFx0XHRcdFx0XHRhZGRGaWxlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmJpbmQoJ1VwbG9hZFByb2dyZXNzJyxmdW5jdGlvbiggZSApe1xuXHRcdFx0XHRcdFx0ZWRpdG9yLiQoJyMnK2lkKS5hdHRyKCdkYXRhLXByb2dyZXNzJyxlLnRvdGFsLnBlcmNlbnQpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmJpbmQoJ0ZpbGVVcGxvYWRlZCcsZnVuY3Rpb24oIHVwLCBhcmdzICl7XG5cblx0XHRcdFx0XHRcdHZhciAkY29udGFpbmVyID0gZWRpdG9yLiQoJyMnK2lkKSxcblx0XHRcdFx0XHRcdFx0aW1nSFRNTCA9ICc8aW1nIGNsYXNzPVwiYWxpZ25ub25lIHdwLWltYWdlLScrYXJncy5hdHRhY2htZW50LmlkKycgc2l6ZS1mdWxsXCIgc3JjPVwiJythcmdzLmF0dGFjaG1lbnQuY2hhbmdlZC51cmwrJ1wiIC8+JztcblxuXHRcdFx0XHRcdFx0Ly8gcmVwbGFjZSBpbWFnZVxuXHRcdFx0XHRcdFx0JGNvbnRhaW5lci5yZXBsYWNlV2l0aCggaW1nSFRNTCApO1xuXG5cdFx0XHRcdFx0XHQvLyByZXBsYWNlIG90aGVyIGluc3RhbmNlc1xuXHRcdFx0XHRcdFx0ZWRpdG9yLiQoJ2ltZ1tzcmM9XCInK3NyYysnXCJdJykuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0XHQkKHRoaXMpLnJlcGxhY2VXaXRoKCBpbWdIVE1MICk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlci51cGxvYWRlci5iaW5kKCdFcnJvcicsZnVuY3Rpb24oIHVwLCBhcmdzICl7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyh1cCxhcmdzKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fTtcblxuXHRcdFx0aWYgKCBzdWIgPT09ICdibG9iOicgKSB7XG5cblx0XHRcdFx0eGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFx0XHRcdHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG5cdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdHZhciByZWFkZXI7XG5cdFx0XHRcdFx0aWYgKCB4aHIucmVhZHlTdGF0ZSA9PSA0ICkge1xuXHRcdFx0XHRcdFx0cmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdFx0XHRcdHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dXBsb2FkKCByZWFkZXIucmVzdWx0ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTCggbmV3IEJsb2IoIFsgeGhyLnJlc3BvbnNlIF0sIHsgdHlwZTogJ2ltYWdlL3BuZycgfSApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHhoci5vcGVuKCAnR0VUJywgc3JjICk7XG5cdFx0XHRcdHhoci5zZW5kKCBudWxsICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHN1YiA9PT0gJ2RhdGE6JyApIHtcblx0XHRcdFx0dXBsb2FkKCBzcmMgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiAkY29udGFpbmVyO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKlx0QHJldHVybjogbnVsbHx0cnVlfGZhbHNlXG5cdFx0ICovXG5cdFx0Y2xpcGJvYXJkSGFzSW1hZ2U6ZnVuY3Rpb24oIGNsaXBib2FyZERhdGEgKSB7XG5cdFx0XHR2YXIgaGFzSW1hZ2UgPSBmYWxzZTtcblx0XHRcdGlmICggY2xpcGJvYXJkRGF0YS5pdGVtcyApIHtcblx0XHRcdFx0JC5lYWNoKCBjbGlwYm9hcmREYXRhLml0ZW1zLCBmdW5jdGlvbihpLGl0ZW0pe1xuXHRcdFx0XHRcdGlmICggaXRlbS50eXBlIGluIHRoZXBhc3RlLm9wdGlvbnMubWltZV90eXBlcy5wYXN0ZSApIHtcblx0XHRcdFx0XHRcdGhhc0ltYWdlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0cmV0dXJuIGhhc0ltYWdlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGNsaXBib2FyZERhdGEudHlwZXMgKSB7XG5cdFx0XHRcdCQuZWFjaCggdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLnBhc3RlLCBmdW5jdGlvbih0eXBlLGV4dCl7XG5cdFx0XHRcdFx0aWYgKCBjbGlwYm9hcmREYXRhLnR5cGVzLmluZGV4T2YodHlwZSkgPiAtMSApIHtcblx0XHRcdFx0XHRcdGhhc0ltYWdlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0cmV0dXJuIGhhc0ltYWdlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cblx0fSwgdGhlcGFzdGUgKTtcblxufSkoIGpRdWVyeSwgd3AubWVkaWEsIG1PeGllICk7XG4iLCIoZnVuY3Rpb24oJCxleHBvcnRzKXtcblxuXHR2YXIgY291bnRlciAgICAgID0gMCxcblx0XHRsMTBuID0gd3AubWVkaWEudGhlcGFzdGUubDEwbjtcblxuXHQkLmV4dGVuZCggd3AuVXBsb2FkZXIucHJvdG90eXBlLCB7XG5cdFx0c3VjY2VzcyA6IGZ1bmN0aW9uKCBmaWxlX2F0dGFjaG1lbnQgKXtcblx0XHR9XG5cdH0pO1xuXG5cblx0LyoqXG5cdCAqXHRJbnRlZ3JhdGUgaW50byBtZWRpYSBsaWJyYXJ5IG1vZGFsXG5cdCAqL1xuXHQvLyBhZGQgc3RhdGVzIHRvIGJyb3dzZSByb3V0ZXJcblx0Xy5leHRlbmQoIHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QucHJvdG90eXBlLCB7XG5cdFx0X3BhcmVudEluaXRpYWxpemU6IHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QucHJvdG90eXBlLmluaXRpYWxpemUsXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9wYXJlbnRJbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdHRoaXMuYmluZFBhc3RlSGFuZGxlcnMoKTtcblx0XHR9LFxuXHRcdF9wYXJlbnRCcm93c2VSb3V0ZXI6IHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QucHJvdG90eXBlLmJyb3dzZVJvdXRlcixcblx0XHRicm93c2VSb3V0ZXIgOiBmdW5jdGlvbiggdmlldyApIHtcblx0XHRcdHRoaXMuX3BhcmVudEJyb3dzZVJvdXRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdGlmICggd3AubWVkaWEudGhlcGFzdGUuc3VwcG9ydHMucGFzdGUgKSB7XG5cdFx0XHRcdHZpZXcuc2V0KHtwYXN0ZWJvYXJkOntcblx0XHRcdFx0XHR0ZXh0OiAgICAgbDEwbi5jb3B5X3Bhc3RlLFxuXHRcdFx0XHRcdHByaW9yaXR5OiAzNVxuXHRcdFx0XHR9fSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGJpbmRQYXN0ZUhhbmRsZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwcmV2aW91c0NvbnRlbnQgPSBmYWxzZSwgZnJhbWU7XG5cblx0XHRcdC8vIGRpc21pc3MgY29udGVudCBvbiBjbG9zZVxuXHRcdFx0dGhpcy5vbiggJ2NvbnRlbnQ6cmVuZGVyIGNsb3NlJyAsIGZ1bmN0aW9uKGNvbnRlbnQpe1xuXHRcdFx0XHRpZiAoIHByZXZpb3VzQ29udGVudCAmJiAnZnVuY3Rpb24nID09PSB0eXBlb2YgcHJldmlvdXNDb250ZW50LmRpc21pc3MgKSB7XG5cdFx0XHRcdFx0cHJldmlvdXNDb250ZW50LmRpc21pc3MoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgY29udGVudCApXG5cdFx0XHRcdFx0cHJldmlvdXNDb250ZW50ID0gY29udGVudDtcblx0XHRcdH0gLCB0aGlzICk7XG5cblx0XHRcdHRoaXMub24oICdjb250ZW50OmNyZWF0ZTpwYXN0ZWJvYXJkJywgdGhpcy5jb250ZW50Q3JlYXRlUGFzdGVib2FyZCwgdGhpcyApO1xuXHRcdFx0dGhpcy5vbiggJ2NvbnRlbnQ6cmVuZGVyOnBhc3RlYm9hcmQnLCB0aGlzLmNvbnRlbnRSZW5kZXJHcmFiYmVyLCB0aGlzICk7XG5cdFx0XHR0aGlzLm9uKCAnY29udGVudDpjcmVhdGU6ZGF0YWltYWdlJywgdGhpcy5jb250ZW50UmVuZGVyR3JhYmJlciwgdGhpcyApO1xuXG5cdFx0XHRmcmFtZSA9IHRoaXM7XG5cdFx0fSxcblx0XHQvLyBhZGQgaGFuZGxlcnNcblx0XHRjb250ZW50Q3JlYXRlUGFzdGVib2FyZDogZnVuY3Rpb24oIGNvbnRlbnQgKSB7XG5cdFx0XHR2YXIgc3RhdGUgPSB0aGlzLnN0YXRlKCk7XG5cblx0XHRcdHRoaXMuY3VycmVudFBhc3RlVmlldyA9IGNvbnRlbnQudmlldyA9IG5ldyB3cC5tZWRpYS50aGVwYXN0ZS52aWV3LkRhdGFTb3VyY2VJbWFnZUdyYWJiZXIoIHtcblx0XHRcdFx0Y29udHJvbGxlclx0OiB0aGlzLFxuXHRcdFx0XHRncmFiYmVyXHRcdDogd3AubWVkaWEudGhlcGFzdGUudmlldy5QYXN0ZWJvYXJkXG5cdFx0XHR9KTtcblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMuY3VycmVudFBhc3RlVmlldy51cGxvYWRlciwgJ2FjdGlvbjp1cGxvYWRlZDpkYXRhaW1hZ2UnLCB0aGlzLnVwbG9hZGVkRGF0YUltYWdlICk7XG5cdFx0fSxcblx0XHRjb250ZW50UmVuZGVyR3JhYmJlcjogZnVuY3Rpb24oIGNvbnRlbnQgKSB7XG5cdFx0XHRjb250ZW50LnN0YXJ0R3JhYmJpbmcoKTtcblx0XHR9LFxuXHRcdHVwbG9hZGVkRGF0YUltYWdlOiBmdW5jdGlvbiggY29udGVudCApIHtcblx0XHRcdHRoaXMuc3RvcExpc3RlbmluZyggdGhpcy5jdXJyZW50UGFzdGVWaWV3LnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHRcdHZhciBvYmogPSB7IHZpZXc6IG51bGwgfTtcblx0XHRcdHRoaXMuYnJvd3NlQ29udGVudChvYmopO1xuXHRcdFx0dGhpcy5jb250ZW50LnNldCggb2JqLnZpZXcgKTtcblx0XHRcdHRoaXMucm91dGVyLmdldCgpLnNlbGVjdCgnYnJvd3NlJylcblx0XHR9LFxuXHRcdGltYWdlUGFzdGVkOmZ1bmN0aW9uKCl7XG5cdFx0XHQvLyBlbmFibGUgaW5zZXJ0IGJ0blxuXHRcdFx0Ly8gY2xlYXIgc2VsZWN0aW9uXG5cdFx0XHRjb25zb2xlLmxvZyh0aGlzKVxuXG5cdFx0fVxuXHR9KTtcblxuXG5cblx0LyoqXG5cdCAqXHRBZGQgcGFzdGUgYnV0dG9uIHRvIHRvb2xiYXIgb24gdXBsb2FkLnBocFxuXHQgKi9cblx0Xy5leHRlbmQoIHdwLm1lZGlhLnZpZXcuQXR0YWNobWVudHNCcm93c2VyLnByb3RvdHlwZSwge1xuXHRcdF9wYXJlbnRJbml0aWFsaXplOlx0d3AubWVkaWEudmlldy5BdHRhY2htZW50c0Jyb3dzZXIucHJvdG90eXBlLmluaXRpYWxpemUsXG5cdFx0aW5pdGlhbGl6ZTpcdGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRwYXN0ZUJ0bjtcblxuXHRcdFx0dGhpcy5fcGFyZW50SW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHRoaXMudGhlcGFzdGUgPSB7XG5cdFx0XHRcdHBhc3RlXHQ6IHtcbi8vXHRcdFx0XHRcdGJ1dHRvblx0OiBmYWxzZSxcblx0XHRcdFx0XHRncmFiYmVyXHQ6IGZhbHNlLFxuXHRcdFx0XHRcdG1vZGFsXHQ6IGZhbHNlLFxuXHRcdFx0XHRcdG1vZGVcdDogJ3Bhc3RlJyxcblx0XHRcdFx0fSxcblx0XHRcdFx0Y3VycmVudFx0XHQ6IGZhbHNlXG5cdFx0XHR9XG5cblx0XHRcdGlmICggISAoIHRoaXMuY29udHJvbGxlciBpbnN0YW5jZW9mIHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QgKSApIHtcblxuXHRcdFx0XHRpZiAoIHdwLm1lZGlhLnRoZXBhc3RlLnN1cHBvcnRzLnBhc3RlICkge1xuXG5cdFx0XHRcdFx0cGFzdGVCdG4gPSBuZXcgd3AubWVkaWEudmlldy5CdXR0b24oIHtcblx0XHRcdFx0XHRcdHRleHRcdFx0OiBsMTBuLmNvcHlfcGFzdGUsXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU6ICAnZ3JhYmJlci1idXR0b24nLFxuXHRcdFx0XHRcdFx0cHJpb3JpdHlcdDogLTY0LFxuXHRcdFx0XHRcdFx0Y2xpY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLnRoZXBhc3RlLmFjdGl2ZSA9IHNlbGYudGhlcGFzdGUucGFzdGU7XG5cdFx0XHRcdFx0XHRcdHNlbGYudGhlcGFzdGVPcGVuKCBsMTBuLmNvcHlfcGFzdGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0dGhpcy50aGVwYXN0ZS5wYXN0ZS5ncmFiYmVyID0gbmV3IHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlR3JhYmJlcigge1xuXHRcdFx0XHRcdFx0Y29udHJvbGxlclx0OiB0aGlzLmNvbnRyb2xsZXIsXG5cdFx0XHRcdFx0XHRncmFiYmVyXHRcdDogd3AubWVkaWEudGhlcGFzdGUudmlldy5QYXN0ZWJvYXJkLFxuXHRcdFx0XHRcdFx0d3B1cGxvYWRlclx0OiB0aGlzLmNvbnRyb2xsZXIudXBsb2FkZXIudXBsb2FkZXIudXBsb2FkZXJcblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHR0aGlzLnRvb2xiYXIuc2V0KCAncGFzdGVNb2RlQnV0dG9uJywgcGFzdGVCdG4ucmVuZGVyKCkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dGhlcGFzdGVPcGVuOiBmdW5jdGlvbiggdGl0bGUgKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwgID0gIG5ldyB3cC5tZWRpYS52aWV3Lk1vZGFsKCB7XG5cdFx0XHRcdGNvbnRyb2xsZXIgOiB0aGlzLFxuXHRcdFx0XHR0aXRsZSAgICAgIDogdGl0bGVcblx0XHRcdH0gKTtcblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwuY29udGVudCggdGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlciApO1xuXHRcdFx0dGhpcy50aGVwYXN0ZS5tb2RhbC5vcGVuKCk7XG5cblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwub24oICdjbG9zZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLnRoZXBhc3RlQ2xvc2UoKTtcblx0XHRcdFx0c2VsZi50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci5zdG9wR3JhYmJpbmcoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnN0YXJ0R3JhYmJpbmcoKTtcblxuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci51cGxvYWRlciwgJ2FjdGlvbjp1cGxvYWQ6ZGF0YWltYWdlJywgdGhpcy50aGVwYXN0ZUNsb3NlICk7XG5cdFx0fSxcblx0XHR0aGVwYXN0ZUNsb3NlOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwuY2xvc2UoKTtcblxuXHRcdFx0dGhpcy5zdG9wTGlzdGVuaW5nKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZDpkYXRhaW1hZ2UnICk7XG5cdFx0fVxuXHR9KTtcblxufSkoalF1ZXJ5LHdpbmRvdyk7XG4iXX0=
